function I4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function FE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var dk={exports:{}},dg={},hk={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=Symbol.for("react.element"),x4=Symbol.for("react.portal"),S4=Symbol.for("react.fragment"),b4=Symbol.for("react.strict_mode"),P4=Symbol.for("react.profiler"),R4=Symbol.for("react.provider"),A4=Symbol.for("react.context"),C4=Symbol.for("react.forward_ref"),k4=Symbol.for("react.suspense"),N4=Symbol.for("react.memo"),D4=Symbol.for("react.lazy"),cS=Symbol.iterator;function O4(t){return t===null||typeof t!="object"?null:(t=cS&&t[cS]||t["@@iterator"],typeof t=="function"?t:null)}var fk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pk=Object.assign,mk={};function mc(t,e,n){this.props=t,this.context=e,this.refs=mk,this.updater=n||fk}mc.prototype.isReactComponent={};mc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gk(){}gk.prototype=mc.prototype;function jE(t,e,n){this.props=t,this.context=e,this.refs=mk,this.updater=n||fk}var UE=jE.prototype=new gk;UE.constructor=jE;pk(UE,mc.prototype);UE.isPureReactComponent=!0;var uS=Array.isArray,yk=Object.prototype.hasOwnProperty,BE={current:null},vk={key:!0,ref:!0,__self:!0,__source:!0};function _k(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)yk.call(e,r)&&!vk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wh,type:t,key:s,ref:o,props:i,_owner:BE.current}}function V4(t,e){return{$$typeof:wh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zE(t){return typeof t=="object"&&t!==null&&t.$$typeof===wh}function M4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dS=/\/+/g;function kv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M4(""+t.key):e.toString(36)}function np(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wh:case x4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kv(o,0):r,uS(i)?(n="",t!=null&&(n=t.replace(dS,"$&/")+"/"),np(i,e,n,"",function(c){return c})):i!=null&&(zE(i)&&(i=V4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kv(s,a);o+=np(s,e,n,l,i)}else if(l=O4(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kv(s,a++),o+=np(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yf(t,e,n){if(t==null)return t;var r=[],i=0;return np(t,r,"","",function(s){return e.call(n,s,i++)}),r}function L4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},rp={transition:null},$4={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:rp,ReactCurrentOwner:BE};ue.Children={map:yf,forEach:function(t,e,n){yf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yf(t,function(){e++}),e},toArray:function(t){return yf(t,function(e){return e})||[]},only:function(t){if(!zE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=mc;ue.Fragment=S4;ue.Profiler=P4;ue.PureComponent=jE;ue.StrictMode=b4;ue.Suspense=k4;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$4;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=BE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yk.call(e,l)&&!vk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wh,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:A4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R4,_context:t},t.Consumer=t};ue.createElement=_k;ue.createFactory=function(t){var e=_k.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:C4,render:t}};ue.isValidElement=zE;ue.lazy=function(t){return{$$typeof:D4,_payload:{_status:-1,_result:t},_init:L4}};ue.memo=function(t,e){return{$$typeof:N4,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=rp.transition;rp.transition={};try{t()}finally{rp.transition=e}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,e){return yn.current.useCallback(t,e)};ue.useContext=function(t){return yn.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};ue.useEffect=function(t,e){return yn.current.useEffect(t,e)};ue.useId=function(){return yn.current.useId()};ue.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return yn.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};ue.useRef=function(t){return yn.current.useRef(t)};ue.useState=function(t){return yn.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return yn.current.useTransition()};ue.version="18.2.0";hk.exports=ue;var E=hk.exports;const Te=FE(E),Ml=I4({__proto__:null,default:Te},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4=E,j4=Symbol.for("react.element"),U4=Symbol.for("react.fragment"),B4=Object.prototype.hasOwnProperty,z4=F4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W4={key:!0,ref:!0,__self:!0,__source:!0};function wk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)B4.call(e,r)&&!W4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j4,type:t,key:s,ref:o,props:i,_owner:z4.current}}dg.Fragment=U4;dg.jsx=wk;dg.jsxs=wk;dk.exports=dg;var g=dk.exports,o_={},Ek={exports:{}},Yn={},Tk={exports:{}},Ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,G){var X=D.length;D.push(G);e:for(;0<X;){var ye=X-1>>>1,ge=D[ye];if(0<i(ge,G))D[ye]=G,D[X]=ge,X=ye;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],X=D.pop();if(X!==G){D[0]=X;e:for(var ye=0,ge=D.length,Zn=ge>>>1;ye<Zn;){var ke=2*(ye+1)-1,ft=D[ke],Qe=ke+1,_n=D[Qe];if(0>i(ft,X))Qe<ge&&0>i(_n,ft)?(D[ye]=_n,D[Qe]=X,ye=Qe):(D[ye]=ft,D[ke]=X,ye=ke);else if(Qe<ge&&0>i(_n,X))D[ye]=_n,D[Qe]=X,ye=Qe;else break e}}return G}function i(D,G){var X=D.sortIndex-G.sortIndex;return X!==0?X:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=D)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function T(D){if(m=!1,y(D),!f)if(n(l)!==null)f=!0,K(I);else{var G=n(c);G!==null&&oe(T,G.startTime-D)}}function I(D,G){f=!1,m&&(m=!1,_(P),P=-1),p=!0;var X=h;try{for(y(G),d=n(l);d!==null&&(!(d.expirationTime>G)||D&&!Q());){var ye=d.callback;if(typeof ye=="function"){d.callback=null,h=d.priorityLevel;var ge=ye(d.expirationTime<=G);G=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&r(l),y(G)}else r(l);d=n(l)}if(d!==null)var Zn=!0;else{var ke=n(c);ke!==null&&oe(T,ke.startTime-G),Zn=!1}return Zn}finally{d=null,h=X,p=!1}}var x=!1,S=null,P=-1,$=5,N=-1;function Q(){return!(t.unstable_now()-N<$)}function re(){if(S!==null){var D=t.unstable_now();N=D;var G=!0;try{G=S(!0,D)}finally{G?de():(x=!1,S=null)}}else x=!1}var de;if(typeof v=="function")de=function(){v(re)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=re,de=function(){te.postMessage(null)}}else de=function(){w(re,0)};function K(D){S=D,x||(x=!0,de())}function oe(D,G){P=w(function(){D(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,K(I))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var X=h;h=G;try{return D()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=h;h=D;try{return G()}finally{h=X}},t.unstable_scheduleCallback=function(D,G,X){var ye=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,D){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=X+ge,D={id:u++,callback:G,priorityLevel:D,startTime:X,expirationTime:ge,sortIndex:-1},X>ye?(D.sortIndex=X,e(c,D),n(l)===null&&D===n(c)&&(m?(_(P),P=-1):m=!0,oe(T,X-ye))):(D.sortIndex=ge,e(l,D),f||p||(f=!0,K(I))),D},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(D){var G=h;return function(){var X=h;h=G;try{return D.apply(this,arguments)}finally{h=X}}}})(Ik);Tk.exports=Ik;var q4=Tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=E,Wn=q4;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sk=new Set,cd={};function wa(t,e){Ll(t,e),Ll(t+"Capture",e)}function Ll(t,e){for(cd[t]=e,t=0;t<e.length;t++)Sk.add(e[t])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a_=Object.prototype.hasOwnProperty,G4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hS={},fS={};function K4(t){return a_.call(fS,t)?!0:a_.call(hS,t)?!1:G4.test(t)?fS[t]=!0:(hS[t]=!0,!1)}function H4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q4(t,e,n,r){if(e===null||typeof e>"u"||H4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var WE=/[\-:]([a-z])/g;function qE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WE,qE);Kt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WE,qE);Kt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WE,qE);Kt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function GE(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q4(e,n,i,r)&&(n=null),r||i===null?K4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vf=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),KE=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),bk=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),HE=Symbol.for("react.forward_ref"),c_=Symbol.for("react.suspense"),u_=Symbol.for("react.suspense_list"),QE=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),Rk=Symbol.for("react.offscreen"),pS=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=pS&&t[pS]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Nv;function Eu(t){if(Nv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nv=e&&e[1]||""}return`
`+Nv+t}var Dv=!1;function Ov(t,e){if(!t||Dv)return"";Dv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eu(t):""}function Y4(t){switch(t.tag){case 5:return Eu(t.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return t=Ov(t.type,!1),t;case 11:return t=Ov(t.type.render,!1),t;case 1:return t=Ov(t.type,!0),t;default:return""}}function d_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case l_:return"Profiler";case KE:return"StrictMode";case c_:return"Suspense";case u_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pk:return(t.displayName||"Context")+".Consumer";case bk:return(t._context.displayName||"Context")+".Provider";case HE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case QE:return e=t.displayName||null,e!==null?e:d_(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return d_(t(e))}catch{}}return null}function X4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d_(e);case 8:return e===KE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ak(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J4(t){var e=Ak(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _f(t){t._valueTracker||(t._valueTracker=J4(t))}function Ck(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ak(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h_(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kk(t,e){e=e.checked,e!=null&&GE(t,"checked",e,!1)}function f_(t,e){kk(t,e);var n=Ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p_(t,e.type,n):e.hasOwnProperty("defaultValue")&&p_(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function p_(t,e,n){(e!=="number"||Bp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tu=Array.isArray;function El(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function m_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Tu(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function Nk(t,e){var n=Ns(e.value),r=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wf,Ok=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wf=wf||document.createElement("div"),wf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ud(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z4=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){Z4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function Vk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function Mk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e5=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y_(t,e){if(e){if(e5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function v_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var __=null;function YE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w_=null,Tl=null,Il=null;function _S(t){if(t=Ih(t)){if(typeof w_!="function")throw Error(O(280));var e=t.stateNode;e&&(e=gg(e),w_(t.stateNode,t.type,e))}}function Lk(t){Tl?Il?Il.push(t):Il=[t]:Tl=t}function $k(){if(Tl){var t=Tl,e=Il;if(Il=Tl=null,_S(t),e)for(t=0;t<e.length;t++)_S(e[t])}}function Fk(t,e){return t(e)}function jk(){}var Vv=!1;function Uk(t,e,n){if(Vv)return t(e,n);Vv=!0;try{return Fk(t,e,n)}finally{Vv=!1,(Tl!==null||Il!==null)&&(jk(),$k())}}function dd(t,e){var n=t.stateNode;if(n===null)return null;var r=gg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var E_=!1;if(Ri)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){E_=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{E_=!1}function t5(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var $u=!1,zp=null,Wp=!1,T_=null,n5={onError:function(t){$u=!0,zp=t}};function r5(t,e,n,r,i,s,o,a,l){$u=!1,zp=null,t5.apply(n5,arguments)}function i5(t,e,n,r,i,s,o,a,l){if(r5.apply(this,arguments),$u){if($u){var c=zp;$u=!1,zp=null}else throw Error(O(198));Wp||(Wp=!0,T_=c)}}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wS(t){if(Ea(t)!==t)throw Error(O(188))}function s5(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wS(i),t;if(s===r)return wS(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function zk(t){return t=s5(t),t!==null?Wk(t):null}function Wk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wk(t);if(e!==null)return e;t=t.sibling}return null}var qk=Wn.unstable_scheduleCallback,ES=Wn.unstable_cancelCallback,o5=Wn.unstable_shouldYield,a5=Wn.unstable_requestPaint,lt=Wn.unstable_now,l5=Wn.unstable_getCurrentPriorityLevel,XE=Wn.unstable_ImmediatePriority,Gk=Wn.unstable_UserBlockingPriority,qp=Wn.unstable_NormalPriority,c5=Wn.unstable_LowPriority,Kk=Wn.unstable_IdlePriority,hg=null,Xr=null;function u5(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(hg,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:f5,d5=Math.log,h5=Math.LN2;function f5(t){return t>>>=0,t===0?32:31-(d5(t)/h5|0)|0}var Ef=64,Tf=4194304;function Iu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Iu(a):(s&=o,s!==0&&(r=Iu(s)))}else o=n&~i,o!==0?r=Iu(o):s!==0&&(r=Iu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function p5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=p5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function I_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hk(){var t=Ef;return Ef<<=1,!(Ef&4194240)&&(Ef=64),t}function Mv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function g5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function JE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function Qk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yk,ZE,Xk,Jk,Zk,x_=!1,If=[],_s=null,ws=null,Es=null,hd=new Map,fd=new Map,cs=[],y5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TS(t,e){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":hd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function Xc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ih(e),e!==null&&ZE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v5(t,e,n,r,i){switch(e){case"focusin":return _s=Xc(_s,t,e,n,r,i),!0;case"dragenter":return ws=Xc(ws,t,e,n,r,i),!0;case"mouseover":return Es=Xc(Es,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hd.set(s,Xc(hd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fd.set(s,Xc(fd.get(s)||null,t,e,n,r,i)),!0}return!1}function eN(t){var e=No(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=Bk(n),e!==null){t.blockedOn=e,Zk(t.priority,function(){Xk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ip(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=S_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);__=r,n.target.dispatchEvent(r),__=null}else return e=Ih(n),e!==null&&ZE(e),t.blockedOn=n,!1;e.shift()}return!0}function IS(t,e,n){ip(t)&&n.delete(e)}function _5(){x_=!1,_s!==null&&ip(_s)&&(_s=null),ws!==null&&ip(ws)&&(ws=null),Es!==null&&ip(Es)&&(Es=null),hd.forEach(IS),fd.forEach(IS)}function Jc(t,e){t.blockedOn===e&&(t.blockedOn=null,x_||(x_=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,_5)))}function pd(t){function e(i){return Jc(i,t)}if(0<If.length){Jc(If[0],t);for(var n=1;n<If.length;n++){var r=If[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_s!==null&&Jc(_s,t),ws!==null&&Jc(ws,t),Es!==null&&Jc(Es,t),hd.forEach(e),fd.forEach(e),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)eN(n),n.blockedOn===null&&cs.shift()}var xl=ji.ReactCurrentBatchConfig,Kp=!0;function w5(t,e,n,r){var i=xe,s=xl.transition;xl.transition=null;try{xe=1,e1(t,e,n,r)}finally{xe=i,xl.transition=s}}function E5(t,e,n,r){var i=xe,s=xl.transition;xl.transition=null;try{xe=4,e1(t,e,n,r)}finally{xe=i,xl.transition=s}}function e1(t,e,n,r){if(Kp){var i=S_(t,e,n,r);if(i===null)Gv(t,e,r,Hp,n),TS(t,r);else if(v5(i,t,e,n,r))r.stopPropagation();else if(TS(t,r),e&4&&-1<y5.indexOf(t)){for(;i!==null;){var s=Ih(i);if(s!==null&&Yk(s),s=S_(t,e,n,r),s===null&&Gv(t,e,r,Hp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gv(t,e,r,null,n)}}var Hp=null;function S_(t,e,n,r){if(Hp=null,t=YE(r),t=No(t),t!==null)if(e=Ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hp=t,null}function tN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l5()){case XE:return 1;case Gk:return 4;case qp:case c5:return 16;case Kk:return 536870912;default:return 16}default:return 16}}var ps=null,t1=null,sp=null;function nN(){if(sp)return sp;var t,e=t1,n=e.length,r,i="value"in ps?ps.value:ps.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sp=i.slice(t,1<r?1-r:void 0)}function op(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xf(){return!0}function xS(){return!1}function Xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xf:xS,this.isPropagationStopped=xS,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),e}var gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n1=Xn(gc),Th=Ke({},gc,{view:0,detail:0}),T5=Xn(Th),Lv,$v,Zc,fg=Ke({},Th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zc&&(Zc&&t.type==="mousemove"?(Lv=t.screenX-Zc.screenX,$v=t.screenY-Zc.screenY):$v=Lv=0,Zc=t),Lv)},movementY:function(t){return"movementY"in t?t.movementY:$v}}),SS=Xn(fg),I5=Ke({},fg,{dataTransfer:0}),x5=Xn(I5),S5=Ke({},Th,{relatedTarget:0}),Fv=Xn(S5),b5=Ke({},gc,{animationName:0,elapsedTime:0,pseudoElement:0}),P5=Xn(b5),R5=Ke({},gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A5=Xn(R5),C5=Ke({},gc,{data:0}),bS=Xn(C5),k5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D5[t])?!!e[t]:!1}function r1(){return O5}var V5=Ke({},Th,{key:function(t){if(t.key){var e=k5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=op(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r1,charCode:function(t){return t.type==="keypress"?op(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?op(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M5=Xn(V5),L5=Ke({},fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PS=Xn(L5),$5=Ke({},Th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r1}),F5=Xn($5),j5=Ke({},gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),U5=Xn(j5),B5=Ke({},fg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z5=Xn(B5),W5=[9,13,27,32],i1=Ri&&"CompositionEvent"in window,Fu=null;Ri&&"documentMode"in document&&(Fu=document.documentMode);var q5=Ri&&"TextEvent"in window&&!Fu,rN=Ri&&(!i1||Fu&&8<Fu&&11>=Fu),RS=" ",AS=!1;function iN(t,e){switch(t){case"keyup":return W5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function G5(t,e){switch(t){case"compositionend":return sN(e);case"keypress":return e.which!==32?null:(AS=!0,RS);case"textInput":return t=e.data,t===RS&&AS?null:t;default:return null}}function K5(t,e){if(rl)return t==="compositionend"||!i1&&iN(t,e)?(t=nN(),sp=t1=ps=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rN&&e.locale!=="ko"?null:e.data;default:return null}}var H5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H5[t.type]:e==="textarea"}function oN(t,e,n,r){Lk(r),e=Qp(e,"onChange"),0<e.length&&(n=new n1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ju=null,md=null;function Q5(t){yN(t,0)}function pg(t){var e=ol(t);if(Ck(e))return t}function Y5(t,e){if(t==="change")return e}var aN=!1;if(Ri){var jv;if(Ri){var Uv="oninput"in document;if(!Uv){var kS=document.createElement("div");kS.setAttribute("oninput","return;"),Uv=typeof kS.oninput=="function"}jv=Uv}else jv=!1;aN=jv&&(!document.documentMode||9<document.documentMode)}function NS(){ju&&(ju.detachEvent("onpropertychange",lN),md=ju=null)}function lN(t){if(t.propertyName==="value"&&pg(md)){var e=[];oN(e,md,t,YE(t)),Uk(Q5,e)}}function X5(t,e,n){t==="focusin"?(NS(),ju=e,md=n,ju.attachEvent("onpropertychange",lN)):t==="focusout"&&NS()}function J5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pg(md)}function Z5(t,e){if(t==="click")return pg(e)}function eU(t,e){if(t==="input"||t==="change")return pg(e)}function tU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:tU;function gd(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!a_.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function DS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OS(t,e){var n=DS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DS(n)}}function cN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uN(){for(var t=window,e=Bp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bp(t.document)}return e}function s1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nU(t){var e=uN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cN(n.ownerDocument.documentElement,n)){if(r!==null&&s1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=OS(n,s);var o=OS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rU=Ri&&"documentMode"in document&&11>=document.documentMode,il=null,b_=null,Uu=null,P_=!1;function VS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;P_||il==null||il!==Bp(r)||(r=il,"selectionStart"in r&&s1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&gd(Uu,r)||(Uu=r,r=Qp(b_,"onSelect"),0<r.length&&(e=new n1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=il)))}function Sf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sl={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},Bv={},dN={};Ri&&(dN=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function mg(t){if(Bv[t])return Bv[t];if(!sl[t])return t;var e=sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dN)return Bv[t]=e[n];return t}var hN=mg("animationend"),fN=mg("animationiteration"),pN=mg("animationstart"),mN=mg("transitionend"),gN=new Map,MS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){gN.set(t,e),wa(e,[t])}for(var zv=0;zv<MS.length;zv++){var Wv=MS[zv],iU=Wv.toLowerCase(),sU=Wv[0].toUpperCase()+Wv.slice(1);Xs(iU,"on"+sU)}Xs(hN,"onAnimationEnd");Xs(fN,"onAnimationIteration");Xs(pN,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(mN,"onTransitionEnd");Ll("onMouseEnter",["mouseout","mouseover"]);Ll("onMouseLeave",["mouseout","mouseover"]);Ll("onPointerEnter",["pointerout","pointerover"]);Ll("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oU=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function LS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i5(r,e,void 0,t),t.currentTarget=null}function yN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;LS(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;LS(i,a,c),s=l}}}if(Wp)throw t=T_,Wp=!1,T_=null,t}function Ne(t,e){var n=e[N_];n===void 0&&(n=e[N_]=new Set);var r=t+"__bubble";n.has(r)||(vN(e,t,2,!1),n.add(r))}function qv(t,e,n){var r=0;e&&(r|=4),vN(n,t,r,e)}var bf="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[bf]){t[bf]=!0,Sk.forEach(function(n){n!=="selectionchange"&&(oU.has(n)||qv(n,!1,t),qv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bf]||(e[bf]=!0,qv("selectionchange",!1,e))}}function vN(t,e,n,r){switch(tN(e)){case 1:var i=w5;break;case 4:i=E5;break;default:i=e1}n=i.bind(null,e,n,t),i=void 0,!E_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Uk(function(){var c=s,u=YE(n),d=[];e:{var h=gN.get(t);if(h!==void 0){var p=n1,f=t;switch(t){case"keypress":if(op(n)===0)break e;case"keydown":case"keyup":p=M5;break;case"focusin":f="focus",p=Fv;break;case"focusout":f="blur",p=Fv;break;case"beforeblur":case"afterblur":p=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=SS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=x5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=F5;break;case hN:case fN:case pN:p=P5;break;case mN:p=U5;break;case"scroll":p=T5;break;case"wheel":p=z5;break;case"copy":case"cut":case"paste":p=A5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=PS}var m=(e&4)!==0,w=!m&&t==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,y;v!==null;){y=v;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,_!==null&&(T=dd(v,_),T!=null&&m.push(vd(v,T,y)))),w)break;v=v.return}0<m.length&&(h=new p(h,f,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==__&&(f=n.relatedTarget||n.fromElement)&&(No(f)||f[Ai]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=c,f=f?No(f):null,f!==null&&(w=Ea(f),f!==w||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=SS,T="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=PS,T="onPointerLeave",_="onPointerEnter",v="pointer"),w=p==null?h:ol(p),y=f==null?h:ol(f),h=new m(T,v+"leave",p,n,u),h.target=w,h.relatedTarget=y,T=null,No(u)===c&&(m=new m(_,v+"enter",f,n,u),m.target=y,m.relatedTarget=w,T=m),w=T,p&&f)t:{for(m=p,_=f,v=0,y=m;y;y=Va(y))v++;for(y=0,T=_;T;T=Va(T))y++;for(;0<v-y;)m=Va(m),v--;for(;0<y-v;)_=Va(_),y--;for(;v--;){if(m===_||_!==null&&m===_.alternate)break t;m=Va(m),_=Va(_)}m=null}else m=null;p!==null&&$S(d,h,p,m,!1),f!==null&&w!==null&&$S(d,w,f,m,!0)}}e:{if(h=c?ol(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=Y5;else if(CS(h))if(aN)I=eU;else{I=J5;var x=X5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=Z5);if(I&&(I=I(t,c))){oN(d,I,n,u);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&p_(h,"number",h.value)}switch(x=c?ol(c):window,t){case"focusin":(CS(x)||x.contentEditable==="true")&&(il=x,b_=c,Uu=null);break;case"focusout":Uu=b_=il=null;break;case"mousedown":P_=!0;break;case"contextmenu":case"mouseup":case"dragend":P_=!1,VS(d,n,u);break;case"selectionchange":if(rU)break;case"keydown":case"keyup":VS(d,n,u)}var S;if(i1)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else rl?iN(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(rN&&n.locale!=="ko"&&(rl||P!=="onCompositionStart"?P==="onCompositionEnd"&&rl&&(S=nN()):(ps=u,t1="value"in ps?ps.value:ps.textContent,rl=!0)),x=Qp(c,P),0<x.length&&(P=new bS(P,t,null,n,u),d.push({event:P,listeners:x}),S?P.data=S:(S=sN(n),S!==null&&(P.data=S)))),(S=q5?G5(t,n):K5(t,n))&&(c=Qp(c,"onBeforeInput"),0<c.length&&(u=new bS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}yN(d,e)})}function vd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dd(t,n),s!=null&&r.unshift(vd(t,s,i)),s=dd(t,e),s!=null&&r.push(vd(t,s,i))),t=t.return}return r}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $S(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dd(n,s),l!=null&&o.unshift(vd(n,l,a))):i||(l=dd(n,s),l!=null&&o.push(vd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aU=/\r\n?/g,lU=/\u0000|\uFFFD/g;function FS(t){return(typeof t=="string"?t:""+t).replace(aU,`
`).replace(lU,"")}function Pf(t,e,n){if(e=FS(e),FS(t)!==e&&n)throw Error(O(425))}function Yp(){}var R_=null,A_=null;function C_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k_=typeof setTimeout=="function"?setTimeout:void 0,cU=typeof clearTimeout=="function"?clearTimeout:void 0,jS=typeof Promise=="function"?Promise:void 0,uU=typeof queueMicrotask=="function"?queueMicrotask:typeof jS<"u"?function(t){return jS.resolve(null).then(t).catch(dU)}:k_;function dU(t){setTimeout(function(){throw t})}function Kv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pd(e)}function Ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function US(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yc=Math.random().toString(36).slice(2),jr="__reactFiber$"+yc,_d="__reactProps$"+yc,Ai="__reactContainer$"+yc,N_="__reactEvents$"+yc,hU="__reactListeners$"+yc,fU="__reactHandles$"+yc;function No(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=US(t);t!==null;){if(n=t[jr])return n;t=US(t)}return e}t=n,n=t.parentNode}return null}function Ih(t){return t=t[jr]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function gg(t){return t[_d]||null}var D_=[],al=-1;function Js(t){return{current:t}}function Me(t){0>al||(t.current=D_[al],D_[al]=null,al--)}function Ae(t,e){al++,D_[al]=t.current,t.current=e}var Ds={},an=Js(Ds),Pn=Js(!1),Zo=Ds;function $l(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function Xp(){Me(Pn),Me(an)}function BS(t,e,n){if(an.current!==Ds)throw Error(O(168));Ae(an,e),Ae(Pn,n)}function _N(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,X4(t)||"Unknown",i));return Ke({},n,r)}function Jp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,Zo=an.current,Ae(an,t),Ae(Pn,Pn.current),!0}function zS(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=_N(t,e,Zo),r.__reactInternalMemoizedMergedChildContext=t,Me(Pn),Me(an),Ae(an,t)):Me(Pn),Ae(Pn,n)}var fi=null,yg=!1,Hv=!1;function wN(t){fi===null?fi=[t]:fi.push(t)}function pU(t){yg=!0,wN(t)}function Zs(){if(!Hv&&fi!==null){Hv=!0;var t=0,e=xe;try{var n=fi;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,yg=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),qk(XE,Zs),i}finally{xe=e,Hv=!1}}return null}var ll=[],cl=0,Zp=null,em=0,sr=[],or=0,ea=null,pi=1,mi="";function go(t,e){ll[cl++]=em,ll[cl++]=Zp,Zp=t,em=e}function EN(t,e,n){sr[or++]=pi,sr[or++]=mi,sr[or++]=ea,ea=t;var r=pi;t=mi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var s=32-Pr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pi=1<<32-Pr(e)+i|n<<i|r,mi=s+t}else pi=1<<s|n<<i|r,mi=t}function o1(t){t.return!==null&&(go(t,1),EN(t,1,0))}function a1(t){for(;t===Zp;)Zp=ll[--cl],ll[cl]=null,em=ll[--cl],ll[cl]=null;for(;t===ea;)ea=sr[--or],sr[or]=null,mi=sr[--or],sr[or]=null,pi=sr[--or],sr[or]=null}var Bn=null,Fn=null,$e=!1,xr=null;function TN(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=Ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ea!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Fn=null,!0):!1;default:return!1}}function O_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function V_(t){if($e){var e=Fn;if(e){var n=e;if(!WS(t,e)){if(O_(t))throw Error(O(418));e=Ts(n.nextSibling);var r=Bn;e&&WS(t,e)?TN(r,n):(t.flags=t.flags&-4097|2,$e=!1,Bn=t)}}else{if(O_(t))throw Error(O(418));t.flags=t.flags&-4097|2,$e=!1,Bn=t}}}function qS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Rf(t){if(t!==Bn)return!1;if(!$e)return qS(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!C_(t.type,t.memoizedProps)),e&&(e=Fn)){if(O_(t))throw IN(),Error(O(418));for(;e;)TN(t,e),e=Ts(e.nextSibling)}if(qS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=Ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Bn?Ts(t.stateNode.nextSibling):null;return!0}function IN(){for(var t=Fn;t;)t=Ts(t.nextSibling)}function Fl(){Fn=Bn=null,$e=!1}function l1(t){xr===null?xr=[t]:xr.push(t)}var mU=ji.ReactCurrentBatchConfig;function Tr(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var tm=Js(null),nm=null,ul=null,c1=null;function u1(){c1=ul=nm=null}function d1(t){var e=tm.current;Me(tm),t._currentValue=e}function M_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sl(t,e){nm=t,c1=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(c1!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(nm===null)throw Error(O(308));ul=t,nm.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var Do=null;function h1(t){Do===null?Do=[t]:Do.push(t)}function xN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,h1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ci(t,r)}function Ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function f1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ci(t,n)}return i=r.interleaved,i===null?(e.next=e,h1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ci(t,n)}function ap(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JE(t,n)}}function GS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rm(t,e,n,r){var i=t.updateQueue;as=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(h=e,p=n,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=Ke({},d,h);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);na|=o,t.lanes=o,t.memoizedState=d}}function KS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var bN=new xk.Component().refs;function L_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vg={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Ss(t),s=wi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(Rr(e,t,i,r),ap(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Ss(t),s=wi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(Rr(e,t,i,r),ap(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=Ss(t),i=wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,r),e!==null&&(Rr(e,t,r,n),ap(e,t,r))}};function HS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gd(n,r)||!gd(i,s):!0}function PN(t,e,n){var r=!1,i=Ds,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Rn(e)?Zo:an.current,r=e.contextTypes,s=(r=r!=null)?$l(t,i):Ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function QS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vg.enqueueReplaceState(e,e.state,null)}function $_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=bN,f1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Rn(e)?Zo:an.current,i.context=$l(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(L_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vg.enqueueReplaceState(i,i.state,null),rm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===bN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Af(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YS(t){var e=t._init;return e(t._payload)}function RN(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=bs(_,v),_.index=0,_.sibling=null,_}function s(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,y,T){return v===null||v.tag!==6?(v=t0(y,_.mode,T),v.return=_,v):(v=i(v,y),v.return=_,v)}function l(_,v,y,T){var I=y.type;return I===nl?u(_,v,y.props.children,T,y.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===os&&YS(I)===v.type)?(T=i(v,y.props),T.ref=eu(_,v,y),T.return=_,T):(T=fp(y.type,y.key,y.props,null,_.mode,T),T.ref=eu(_,v,y),T.return=_,T)}function c(_,v,y,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=n0(y,_.mode,T),v.return=_,v):(v=i(v,y.children||[]),v.return=_,v)}function u(_,v,y,T,I){return v===null||v.tag!==7?(v=qo(y,_.mode,T,I),v.return=_,v):(v=i(v,y),v.return=_,v)}function d(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=t0(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vf:return y=fp(v.type,v.key,v.props,null,_.mode,y),y.ref=eu(_,null,v),y.return=_,y;case tl:return v=n0(v,_.mode,y),v.return=_,v;case os:var T=v._init;return d(_,T(v._payload),y)}if(Tu(v)||Qc(v))return v=qo(v,_.mode,y,null),v.return=_,v;Af(_,v)}return null}function h(_,v,y,T){var I=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(_,v,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vf:return y.key===I?l(_,v,y,T):null;case tl:return y.key===I?c(_,v,y,T):null;case os:return I=y._init,h(_,v,I(y._payload),T)}if(Tu(y)||Qc(y))return I!==null?null:u(_,v,y,T,null);Af(_,y)}return null}function p(_,v,y,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(y)||null,a(v,_,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case vf:return _=_.get(T.key===null?y:T.key)||null,l(v,_,T,I);case tl:return _=_.get(T.key===null?y:T.key)||null,c(v,_,T,I);case os:var x=T._init;return p(_,v,y,x(T._payload),I)}if(Tu(T)||Qc(T))return _=_.get(y)||null,u(v,_,T,I,null);Af(v,T)}return null}function f(_,v,y,T){for(var I=null,x=null,S=v,P=v=0,$=null;S!==null&&P<y.length;P++){S.index>P?($=S,S=null):$=S.sibling;var N=h(_,S,y[P],T);if(N===null){S===null&&(S=$);break}t&&S&&N.alternate===null&&e(_,S),v=s(N,v,P),x===null?I=N:x.sibling=N,x=N,S=$}if(P===y.length)return n(_,S),$e&&go(_,P),I;if(S===null){for(;P<y.length;P++)S=d(_,y[P],T),S!==null&&(v=s(S,v,P),x===null?I=S:x.sibling=S,x=S);return $e&&go(_,P),I}for(S=r(_,S);P<y.length;P++)$=p(S,_,P,y[P],T),$!==null&&(t&&$.alternate!==null&&S.delete($.key===null?P:$.key),v=s($,v,P),x===null?I=$:x.sibling=$,x=$);return t&&S.forEach(function(Q){return e(_,Q)}),$e&&go(_,P),I}function m(_,v,y,T){var I=Qc(y);if(typeof I!="function")throw Error(O(150));if(y=I.call(y),y==null)throw Error(O(151));for(var x=I=null,S=v,P=v=0,$=null,N=y.next();S!==null&&!N.done;P++,N=y.next()){S.index>P?($=S,S=null):$=S.sibling;var Q=h(_,S,N.value,T);if(Q===null){S===null&&(S=$);break}t&&S&&Q.alternate===null&&e(_,S),v=s(Q,v,P),x===null?I=Q:x.sibling=Q,x=Q,S=$}if(N.done)return n(_,S),$e&&go(_,P),I;if(S===null){for(;!N.done;P++,N=y.next())N=d(_,N.value,T),N!==null&&(v=s(N,v,P),x===null?I=N:x.sibling=N,x=N);return $e&&go(_,P),I}for(S=r(_,S);!N.done;P++,N=y.next())N=p(S,_,P,N.value,T),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?P:N.key),v=s(N,v,P),x===null?I=N:x.sibling=N,x=N);return t&&S.forEach(function(re){return e(_,re)}),$e&&go(_,P),I}function w(_,v,y,T){if(typeof y=="object"&&y!==null&&y.type===nl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vf:e:{for(var I=y.key,x=v;x!==null;){if(x.key===I){if(I=y.type,I===nl){if(x.tag===7){n(_,x.sibling),v=i(x,y.props.children),v.return=_,_=v;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===os&&YS(I)===x.type){n(_,x.sibling),v=i(x,y.props),v.ref=eu(_,x,y),v.return=_,_=v;break e}n(_,x);break}else e(_,x);x=x.sibling}y.type===nl?(v=qo(y.props.children,_.mode,T,y.key),v.return=_,_=v):(T=fp(y.type,y.key,y.props,null,_.mode,T),T.ref=eu(_,v,y),T.return=_,_=T)}return o(_);case tl:e:{for(x=y.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(_,v.sibling),v=i(v,y.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=n0(y,_.mode,T),v.return=_,_=v}return o(_);case os:return x=y._init,w(_,v,x(y._payload),T)}if(Tu(y))return f(_,v,y,T);if(Qc(y))return m(_,v,y,T);Af(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,y),v.return=_,_=v):(n(_,v),v=t0(y,_.mode,T),v.return=_,_=v),o(_)):n(_,v)}return w}var jl=RN(!0),AN=RN(!1),xh={},Jr=Js(xh),wd=Js(xh),Ed=Js(xh);function Oo(t){if(t===xh)throw Error(O(174));return t}function p1(t,e){switch(Ae(Ed,e),Ae(wd,t),Ae(Jr,xh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g_(e,t)}Me(Jr),Ae(Jr,e)}function Ul(){Me(Jr),Me(wd),Me(Ed)}function CN(t){Oo(Ed.current);var e=Oo(Jr.current),n=g_(e,t.type);e!==n&&(Ae(wd,t),Ae(Jr,n))}function m1(t){wd.current===t&&(Me(Jr),Me(wd))}var ze=Js(0);function im(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qv=[];function g1(){for(var t=0;t<Qv.length;t++)Qv[t]._workInProgressVersionPrimary=null;Qv.length=0}var lp=ji.ReactCurrentDispatcher,Yv=ji.ReactCurrentBatchConfig,ta=0,qe=null,wt=null,St=null,sm=!1,Bu=!1,Td=0,gU=0;function Qt(){throw Error(O(321))}function y1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function v1(t,e,n,r,i,s){if(ta=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lp.current=t===null||t.memoizedState===null?wU:EU,t=n(r,i),Bu){s=0;do{if(Bu=!1,Td=0,25<=s)throw Error(O(301));s+=1,St=wt=null,e.updateQueue=null,lp.current=TU,t=n(r,i)}while(Bu)}if(lp.current=om,e=wt!==null&&wt.next!==null,ta=0,St=wt=qe=null,sm=!1,e)throw Error(O(300));return t}function _1(){var t=Td!==0;return Td=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?qe.memoizedState=St=t:St=St.next=t,St}function mr(){if(wt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=St===null?qe.memoizedState:St.next;if(e!==null)St=e,wt=t;else{if(t===null)throw Error(O(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?qe.memoizedState=St=t:St=St.next=t}return St}function Id(t,e){return typeof e=="function"?e(t):e}function Xv(t){var e=mr(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ta&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,qe.lanes|=u,na|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Cr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,na|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jv(t){var e=mr(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kN(){}function NN(t,e){var n=qe,r=mr(),i=e(),s=!Cr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,w1(VN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,xd(9,ON.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(O(349));ta&30||DN(n,e,i)}return i}function DN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ON(t,e,n,r){e.value=n,e.getSnapshot=r,MN(e)&&LN(t)}function VN(t,e,n){return n(function(){MN(e)&&LN(t)})}function MN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function LN(t){var e=Ci(t,1);e!==null&&Rr(e,t,1,-1)}function XS(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:t},e.queue=t,t=t.dispatch=_U.bind(null,qe,t),[e.memoizedState,t]}function xd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $N(){return mr().memoizedState}function cp(t,e,n,r){var i=Mr();qe.flags|=t,i.memoizedState=xd(1|e,n,void 0,r===void 0?null:r)}function _g(t,e,n,r){var i=mr();r=r===void 0?null:r;var s=void 0;if(wt!==null){var o=wt.memoizedState;if(s=o.destroy,r!==null&&y1(r,o.deps)){i.memoizedState=xd(e,n,s,r);return}}qe.flags|=t,i.memoizedState=xd(1|e,n,s,r)}function JS(t,e){return cp(8390656,8,t,e)}function w1(t,e){return _g(2048,8,t,e)}function FN(t,e){return _g(4,2,t,e)}function jN(t,e){return _g(4,4,t,e)}function UN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BN(t,e,n){return n=n!=null?n.concat([t]):null,_g(4,4,UN.bind(null,e,t),n)}function E1(){}function zN(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WN(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qN(t,e,n){return ta&21?(Cr(n,e)||(n=Hk(),qe.lanes|=n,na|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function yU(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Yv.transition;Yv.transition={};try{t(!1),e()}finally{xe=n,Yv.transition=r}}function GN(){return mr().memoizedState}function vU(t,e,n){var r=Ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KN(t))HN(e,n);else if(n=xN(t,e,n,r),n!==null){var i=hn();Rr(n,t,r,i),QN(n,e,r)}}function _U(t,e,n){var r=Ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KN(t))HN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,o)){var l=e.interleaved;l===null?(i.next=i,h1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xN(t,e,i,r),n!==null&&(i=hn(),Rr(n,t,r,i),QN(n,e,r))}}function KN(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function HN(t,e){Bu=sm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JE(t,n)}}var om={readContext:pr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},wU={readContext:pr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:JS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cp(4194308,4,UN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return cp(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vU.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:XS,useDebugValue:E1,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=XS(!1),e=t[0];return t=yU.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Mr();if($e){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Rt===null)throw Error(O(349));ta&30||DN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,JS(VN.bind(null,r,s,t),[t]),r.flags|=2048,xd(9,ON.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mr(),e=Rt.identifierPrefix;if($e){var n=mi,r=pi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Td++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EU={readContext:pr,useCallback:zN,useContext:pr,useEffect:w1,useImperativeHandle:BN,useInsertionEffect:FN,useLayoutEffect:jN,useMemo:WN,useReducer:Xv,useRef:$N,useState:function(){return Xv(Id)},useDebugValue:E1,useDeferredValue:function(t){var e=mr();return qN(e,wt.memoizedState,t)},useTransition:function(){var t=Xv(Id)[0],e=mr().memoizedState;return[t,e]},useMutableSource:kN,useSyncExternalStore:NN,useId:GN,unstable_isNewReconciler:!1},TU={readContext:pr,useCallback:zN,useContext:pr,useEffect:w1,useImperativeHandle:BN,useInsertionEffect:FN,useLayoutEffect:jN,useMemo:WN,useReducer:Jv,useRef:$N,useState:function(){return Jv(Id)},useDebugValue:E1,useDeferredValue:function(t){var e=mr();return wt===null?e.memoizedState=t:qN(e,wt.memoizedState,t)},useTransition:function(){var t=Jv(Id)[0],e=mr().memoizedState;return[t,e]},useMutableSource:kN,useSyncExternalStore:NN,useId:GN,unstable_isNewReconciler:!1};function Bl(t,e){try{var n="",r=e;do n+=Y4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IU=typeof WeakMap=="function"?WeakMap:Map;function YN(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lm||(lm=!0,Q_=r),F_(t,e)},n}function XN(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){F_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){F_(t,e),typeof r!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ZS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LU.bind(null,t,e,n),e.then(t,t))}function eb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var xU=ji.ReactCurrentOwner,In=!1;function ln(t,e,n,r){e.child=t===null?AN(e,null,n,r):jl(e,t.child,n,r)}function nb(t,e,n,r,i){n=n.render;var s=e.ref;return Sl(e,i),r=v1(t,e,n,r,s,i),n=_1(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):($e&&n&&o1(e),e.flags|=1,ln(t,e,r,i),e.child)}function rb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!A1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JN(t,e,s,r,i)):(t=fp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gd,n(o,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=bs(s,r),t.ref=e.ref,t.return=e,e.child=t}function JN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gd(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,ki(t,e,i)}return j_(t,e,n,r,i)}function ZN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(hl,Mn),Mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(hl,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(hl,Mn),Mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(hl,Mn),Mn|=r;return ln(t,e,i,n),e.child}function eD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j_(t,e,n,r,i){var s=Rn(n)?Zo:an.current;return s=$l(e,s),Sl(e,i),n=v1(t,e,n,r,s,i),r=_1(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):($e&&r&&o1(e),e.flags|=1,ln(t,e,n,i),e.child)}function ib(t,e,n,r,i){if(Rn(n)){var s=!0;Jp(e)}else s=!1;if(Sl(e,i),e.stateNode===null)up(t,e),PN(e,n,r),$_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Rn(n)?Zo:an.current,c=$l(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QS(e,o,r,c),as=!1;var h=e.memoizedState;o.state=h,rm(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Pn.current||as?(typeof u=="function"&&(L_(e,n,u,r),l=e.memoizedState),(a=as||HS(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Rn(n)?Zo:an.current,l=$l(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&QS(e,o,r,l),as=!1,h=e.memoizedState,o.state=h,rm(e,r,o,i);var f=e.memoizedState;a!==d||h!==f||Pn.current||as?(typeof p=="function"&&(L_(e,n,p,r),f=e.memoizedState),(c=as||HS(e,n,c,r,h,f,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return U_(t,e,n,r,s,i)}function U_(t,e,n,r,i,s){eD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&zS(e,n,!1),ki(t,e,s);r=e.stateNode,xU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=jl(e,t.child,null,s),e.child=jl(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&zS(e,n,!0),e.child}function tD(t){var e=t.stateNode;e.pendingContext?BS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BS(t,e.context,!1),p1(t,e.containerInfo)}function sb(t,e,n,r,i){return Fl(),l1(i),e.flags|=256,ln(t,e,n,r),e.child}var B_={dehydrated:null,treeContext:null,retryLane:0};function z_(t){return{baseLanes:t,cachePool:null,transitions:null}}function nD(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(ze,i&1),t===null)return V_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tg(o,r,0,null),t=qo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=z_(n),e.memoizedState=B_,t):T1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bs(a,s):(s=qo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?z_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=B_,r}return s=t.child,t=s.sibling,r=bs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T1(t,e){return e=Tg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cf(t,e,n,r){return r!==null&&l1(r),jl(e,t.child,null,n),t=T1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zv(Error(O(422))),Cf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Tg({mode:"visible",children:r.children},i,0,null),s=qo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&jl(e,t.child,null,o),e.child.memoizedState=z_(o),e.memoizedState=B_,s);if(!(e.mode&1))return Cf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Zv(s,r,void 0),Cf(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ci(t,i),Rr(r,t,i,-1))}return R1(),r=Zv(Error(O(421))),Cf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$U.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fn=Ts(i.nextSibling),Bn=e,$e=!0,xr=null,t!==null&&(sr[or++]=pi,sr[or++]=mi,sr[or++]=ea,pi=t.id,mi=t.overflow,ea=e),e=T1(e,r.children),e.flags|=4096,e)}function ob(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M_(t.return,e,n)}function e0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ob(t,n,e);else if(t.tag===19)ob(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&im(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),e0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&im(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}e0(e,!0,n,null,s);break;case"together":e0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bU(t,e,n){switch(e.tag){case 3:tD(e),Fl();break;case 5:CN(e);break;case 1:Rn(e.type)&&Jp(e);break;case 4:p1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(tm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?nD(t,e,n):(Ae(ze,ze.current&1),t=ki(t,e,n),t!==null?t.sibling:null);Ae(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,ZN(t,e,n)}return ki(t,e,n)}var iD,W_,sD,oD;iD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W_=function(){};sD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(Jr.current);var s=null;switch(n){case"input":i=h_(t,i),r=h_(t,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=m_(t,i),r=m_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yp)}y_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};oD=function(t,e,n,r){n!==r&&(e.flags|=4)};function tu(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PU(t,e,n){var r=e.pendingProps;switch(a1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Rn(e.type)&&Xp(),Yt(e),null;case 3:return r=e.stateNode,Ul(),Me(Pn),Me(an),g1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(J_(xr),xr=null))),W_(t,e),Yt(e),null;case 5:m1(e);var i=Oo(Ed.current);if(n=e.type,t!==null&&e.stateNode!=null)sD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Yt(e),null}if(t=Oo(Jr.current),Rf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jr]=e,r[_d]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<xu.length;i++)Ne(xu[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":mS(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":yS(r,s),Ne("invalid",r)}y_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pf(r.textContent,a,t),i=["children",""+a]):cd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":_f(r),gS(r,s,!0);break;case"textarea":_f(r),vS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jr]=e,t[_d]=r,iD(t,e,!1,!1),e.stateNode=t;e:{switch(o=v_(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<xu.length;i++)Ne(xu[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":mS(t,r),i=h_(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":yS(t,r),i=m_(t,r),Ne("invalid",t);break;default:i=r}y_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Mk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ok(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ud(t,l):typeof l=="number"&&ud(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&GE(t,s,l,o))}switch(n){case"input":_f(t),gS(t,r,!1);break;case"textarea":_f(t),vS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?El(t,!!r.multiple,s,!1):r.defaultValue!=null&&El(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)oD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Oo(Ed.current),Oo(Jr.current),Rf(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(s=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:Pf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Me(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&Fn!==null&&e.mode&1&&!(e.flags&128))IN(),Fl(),e.flags|=98560,s=!1;else if(s=Rf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[jr]=e}else Fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else xr!==null&&(J_(xr),xr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?Tt===0&&(Tt=3):R1())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Ul(),W_(t,e),t===null&&yd(e.stateNode.containerInfo),Yt(e),null;case 10:return d1(e.type._context),Yt(e),null;case 17:return Rn(e.type)&&Xp(),Yt(e),null;case 19:if(Me(ze),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)tu(s,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=im(t),o!==null){for(e.flags|=128,tu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>zl&&(e.flags|=128,r=!0,tu(s,!1),e.lanes=4194304)}else{if(!r)if(t=im(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return Yt(e),null}else 2*lt()-s.renderingStartTime>zl&&n!==1073741824&&(e.flags|=128,r=!0,tu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=ze.current,Ae(ze,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return P1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function RU(t,e){switch(a1(e),e.tag){case 1:return Rn(e.type)&&Xp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ul(),Me(Pn),Me(an),g1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m1(e),null;case 13:if(Me(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(ze),null;case 4:return Ul(),null;case 10:return d1(e.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var kf=!1,en=!1,AU=typeof WeakSet=="function"?WeakSet:Set,z=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function q_(t,e,n){try{n()}catch(r){Je(t,e,r)}}var ab=!1;function CU(t,e){if(R_=Kp,t=uN(),s1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(A_={focusedElem:t,selectionRange:n},Kp=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,w=f.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:Tr(e.type,m),w);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(T){Je(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return f=ab,ab=!1,f}function zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&q_(e,n,s)}i=i.next}while(i!==r)}}function wg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function G_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aD(t){var e=t.alternate;e!==null&&(t.alternate=null,aD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[_d],delete e[N_],delete e[hU],delete e[fU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lD(t){return t.tag===5||t.tag===3||t.tag===4}function lb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function K_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yp));else if(r!==4&&(t=t.child,t!==null))for(K_(t,e,n),t=t.sibling;t!==null;)K_(t,e,n),t=t.sibling}function H_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(H_(t,e,n),t=t.sibling;t!==null;)H_(t,e,n),t=t.sibling}var $t=null,Ir=!1;function Yi(t,e,n){for(n=n.child;n!==null;)cD(t,e,n),n=n.sibling}function cD(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(hg,n)}catch{}switch(n.tag){case 5:en||dl(n,e);case 6:var r=$t,i=Ir;$t=null,Yi(t,e,n),$t=r,Ir=i,$t!==null&&(Ir?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(Ir?(t=$t,n=n.stateNode,t.nodeType===8?Kv(t.parentNode,n):t.nodeType===1&&Kv(t,n),pd(t)):Kv($t,n.stateNode));break;case 4:r=$t,i=Ir,$t=n.stateNode.containerInfo,Ir=!0,Yi(t,e,n),$t=r,Ir=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&q_(n,e,o),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!en&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Yi(t,e,n),en=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AU),e.forEach(function(r){var i=FU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,Ir=!1;break e;case 3:$t=a.stateNode.containerInfo,Ir=!0;break e;case 4:$t=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if($t===null)throw Error(O(160));cD(s,o,i),$t=null,Ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uD(e,t),e=e.sibling}function uD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Vr(t),r&4){try{zu(3,t,t.return),wg(3,t)}catch(m){Je(t,t.return,m)}try{zu(5,t,t.return)}catch(m){Je(t,t.return,m)}}break;case 1:Er(e,t),Vr(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(Er(e,t),Vr(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var i=t.stateNode;try{ud(i,"")}catch(m){Je(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kk(i,s),v_(a,o);var c=v_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Mk(i,d):u==="dangerouslySetInnerHTML"?Ok(i,d):u==="children"?ud(i,d):GE(i,u,d,c)}switch(a){case"input":f_(i,s);break;case"textarea":Nk(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?El(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?El(i,!!s.multiple,s.defaultValue,!0):El(i,!!s.multiple,s.multiple?[]:"",!1))}i[_d]=s}catch(m){Je(t,t.return,m)}}break;case 6:if(Er(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Je(t,t.return,m)}}break;case 3:if(Er(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pd(e.containerInfo)}catch(m){Je(t,t.return,m)}break;case 4:Er(e,t),Vr(t);break;case 13:Er(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(S1=lt())),r&4&&cb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(en=(c=en)||u,Er(e,t),en=c):Er(e,t),Vr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(z=t,u=t.child;u!==null;){for(d=z=u;z!==null;){switch(h=z,p=h.child,h.tag){case 0:case 11:case 14:case 15:zu(4,h,h.return);break;case 1:dl(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){Je(r,n,m)}}break;case 5:dl(h,h.return);break;case 22:if(h.memoizedState!==null){db(d);continue}}p!==null?(p.return=h,z=p):db(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vk("display",o))}catch(m){Je(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Je(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Er(e,t),Vr(t),r&4&&cb(t);break;case 21:break;default:Er(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lD(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ud(i,""),r.flags&=-33);var s=lb(t);H_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lb(t);K_(t,a,o);break;default:throw Error(O(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kU(t,e,n){z=t,dD(t)}function dD(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||kf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=kf;var c=en;if(kf=o,(en=l)&&!c)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?hb(i):l!==null?(l.return=o,z=l):hb(i);for(;s!==null;)z=s,dD(s),s=s.sibling;z=i,kf=a,en=c}ub(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):ub(t)}}function ub(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||wg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&KS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&pd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}en||e.flags&512&&G_(e)}catch(h){Je(e,e.return,h)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function db(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function hb(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wg(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Je(e,i,l)}}var s=e.return;try{G_(e)}catch(l){Je(e,s,l)}break;case 5:var o=e.return;try{G_(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var NU=Math.ceil,am=ji.ReactCurrentDispatcher,I1=ji.ReactCurrentOwner,hr=ji.ReactCurrentBatchConfig,pe=0,Rt=null,vt=null,Wt=0,Mn=0,hl=Js(0),Tt=0,Sd=null,na=0,Eg=0,x1=0,Wu=null,Tn=null,S1=0,zl=1/0,di=null,lm=!1,Q_=null,xs=null,Nf=!1,ms=null,cm=0,qu=0,Y_=null,dp=-1,hp=0;function hn(){return pe&6?lt():dp!==-1?dp:dp=lt()}function Ss(t){return t.mode&1?pe&2&&Wt!==0?Wt&-Wt:mU.transition!==null?(hp===0&&(hp=Hk()),hp):(t=xe,t!==0||(t=window.event,t=t===void 0?16:tN(t.type)),t):1}function Rr(t,e,n,r){if(50<qu)throw qu=0,Y_=null,Error(O(185));Eh(t,n,r),(!(pe&2)||t!==Rt)&&(t===Rt&&(!(pe&2)&&(Eg|=n),Tt===4&&us(t,Wt)),An(t,r),n===1&&pe===0&&!(e.mode&1)&&(zl=lt()+500,yg&&Zs()))}function An(t,e){var n=t.callbackNode;m5(t,e);var r=Gp(t,t===Rt?Wt:0);if(r===0)n!==null&&ES(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ES(n),e===1)t.tag===0?pU(fb.bind(null,t)):wN(fb.bind(null,t)),uU(function(){!(pe&6)&&Zs()}),n=null;else{switch(Qk(r)){case 1:n=XE;break;case 4:n=Gk;break;case 16:n=qp;break;case 536870912:n=Kk;break;default:n=qp}n=_D(n,hD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hD(t,e){if(dp=-1,hp=0,pe&6)throw Error(O(327));var n=t.callbackNode;if(bl()&&t.callbackNode!==n)return null;var r=Gp(t,t===Rt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=um(t,r);else{e=r;var i=pe;pe|=2;var s=pD();(Rt!==t||Wt!==e)&&(di=null,zl=lt()+500,Wo(t,e));do try{VU();break}catch(a){fD(t,a)}while(!0);u1(),am.current=s,pe=i,vt!==null?e=0:(Rt=null,Wt=0,e=Tt)}if(e!==0){if(e===2&&(i=I_(t),i!==0&&(r=i,e=X_(t,i))),e===1)throw n=Sd,Wo(t,0),us(t,r),An(t,lt()),n;if(e===6)us(t,r);else{if(i=t.current.alternate,!(r&30)&&!DU(i)&&(e=um(t,r),e===2&&(s=I_(t),s!==0&&(r=s,e=X_(t,s))),e===1))throw n=Sd,Wo(t,0),us(t,r),An(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:yo(t,Tn,di);break;case 3:if(us(t,r),(r&130023424)===r&&(e=S1+500-lt(),10<e)){if(Gp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=k_(yo.bind(null,t,Tn,di),e);break}yo(t,Tn,di);break;case 4:if(us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NU(r/1960))-r,10<r){t.timeoutHandle=k_(yo.bind(null,t,Tn,di),r);break}yo(t,Tn,di);break;case 5:yo(t,Tn,di);break;default:throw Error(O(329))}}}return An(t,lt()),t.callbackNode===n?hD.bind(null,t):null}function X_(t,e){var n=Wu;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=um(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&J_(e)),t}function J_(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function DU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(t,e){for(e&=~x1,e&=~Eg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function fb(t){if(pe&6)throw Error(O(327));bl();var e=Gp(t,0);if(!(e&1))return An(t,lt()),null;var n=um(t,e);if(t.tag!==0&&n===2){var r=I_(t);r!==0&&(e=r,n=X_(t,r))}if(n===1)throw n=Sd,Wo(t,0),us(t,e),An(t,lt()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,Tn,di),An(t,lt()),null}function b1(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(zl=lt()+500,yg&&Zs())}}function ra(t){ms!==null&&ms.tag===0&&!(pe&6)&&bl();var e=pe;pe|=1;var n=hr.transition,r=xe;try{if(hr.transition=null,xe=1,t)return t()}finally{xe=r,hr.transition=n,pe=e,!(pe&6)&&Zs()}}function P1(){Mn=hl.current,Me(hl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cU(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(a1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xp();break;case 3:Ul(),Me(Pn),Me(an),g1();break;case 5:m1(r);break;case 4:Ul();break;case 13:Me(ze);break;case 19:Me(ze);break;case 10:d1(r.type._context);break;case 22:case 23:P1()}n=n.return}if(Rt=t,vt=t=bs(t.current,null),Wt=Mn=e,Tt=0,Sd=null,x1=Eg=na=0,Tn=Wu=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Do=null}return t}function fD(t,e){do{var n=vt;try{if(u1(),lp.current=om,sm){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sm=!1}if(ta=0,St=wt=qe=null,Bu=!1,Td=0,I1.current=null,n===null||n.return===null){Tt=1,Sd=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=eb(o);if(p!==null){p.flags&=-257,tb(p,o,a,s,e),p.mode&1&&ZS(s,c,e),e=p,l=c;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){ZS(s,c,e),R1();break e}l=Error(O(426))}}else if($e&&a.mode&1){var w=eb(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tb(w,o,a,s,e),l1(Bl(l,a));break e}}s=l=Bl(l,a),Tt!==4&&(Tt=2),Wu===null?Wu=[s]:Wu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=YN(s,l,e);GS(s,_);break e;case 1:a=l;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xs===null||!xs.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=XN(s,a,e);GS(s,T);break e}}s=s.return}while(s!==null)}gD(n)}catch(I){e=I,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function pD(){var t=am.current;return am.current=om,t===null?om:t}function R1(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||!(na&268435455)&&!(Eg&268435455)||us(Rt,Wt)}function um(t,e){var n=pe;pe|=2;var r=pD();(Rt!==t||Wt!==e)&&(di=null,Wo(t,e));do try{OU();break}catch(i){fD(t,i)}while(!0);if(u1(),pe=n,am.current=r,vt!==null)throw Error(O(261));return Rt=null,Wt=0,Tt}function OU(){for(;vt!==null;)mD(vt)}function VU(){for(;vt!==null&&!o5();)mD(vt)}function mD(t){var e=vD(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?gD(t):vt=e,I1.current=null}function gD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RU(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,vt=null;return}}else if(n=PU(n,e,Mn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Tt===0&&(Tt=5)}function yo(t,e,n){var r=xe,i=hr.transition;try{hr.transition=null,xe=1,MU(t,e,n,r)}finally{hr.transition=i,xe=r}return null}function MU(t,e,n,r){do bl();while(ms!==null);if(pe&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(g5(t,s),t===Rt&&(vt=Rt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nf||(Nf=!0,_D(qp,function(){return bl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=xe;xe=1;var a=pe;pe|=4,I1.current=null,CU(t,n),uD(n,t),nU(A_),Kp=!!R_,A_=R_=null,t.current=n,kU(n),a5(),pe=a,xe=o,hr.transition=s}else t.current=n;if(Nf&&(Nf=!1,ms=t,cm=i),s=t.pendingLanes,s===0&&(xs=null),u5(n.stateNode),An(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lm)throw lm=!1,t=Q_,Q_=null,t;return cm&1&&t.tag!==0&&bl(),s=t.pendingLanes,s&1?t===Y_?qu++:(qu=0,Y_=t):qu=0,Zs(),null}function bl(){if(ms!==null){var t=Qk(cm),e=hr.transition,n=xe;try{if(hr.transition=null,xe=16>t?16:t,ms===null)var r=!1;else{if(t=ms,ms=null,cm=0,pe&6)throw Error(O(331));var i=pe;for(pe|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(z=c;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:zu(8,u,s)}var d=u.child;if(d!==null)d.return=u,z=d;else for(;z!==null;){u=z;var h=u.sibling,p=u.return;if(aD(u),u===c){z=null;break}if(h!==null){h.return=p,z=h;break}z=p}}}var f=s.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,z=_;break e}z=s.return}}var v=t.current;for(z=v;z!==null;){o=z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,z=y;else e:for(o=v;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wg(9,a)}}catch(I){Je(a,a.return,I)}if(a===o){z=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,z=T;break e}z=a.return}}if(pe=i,Zs(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(hg,t)}catch{}r=!0}return r}finally{xe=n,hr.transition=e}}return!1}function pb(t,e,n){e=Bl(n,e),e=YN(t,e,1),t=Is(t,e,1),e=hn(),t!==null&&(Eh(t,1,e),An(t,e))}function Je(t,e,n){if(t.tag===3)pb(t,t,n);else for(;e!==null;){if(e.tag===3){pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=Bl(n,t),t=XN(e,t,1),e=Is(e,t,1),t=hn(),e!==null&&(Eh(e,1,t),An(e,t));break}}e=e.return}}function LU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Wt&n)===n&&(Tt===4||Tt===3&&(Wt&130023424)===Wt&&500>lt()-S1?Wo(t,0):x1|=n),An(t,e)}function yD(t,e){e===0&&(t.mode&1?(e=Tf,Tf<<=1,!(Tf&130023424)&&(Tf=4194304)):e=1);var n=hn();t=Ci(t,e),t!==null&&(Eh(t,e,n),An(t,n))}function $U(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yD(t,n)}function FU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),yD(t,n)}var vD;vD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,bU(t,e,n);In=!!(t.flags&131072)}else In=!1,$e&&e.flags&1048576&&EN(e,em,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;up(t,e),t=e.pendingProps;var i=$l(e,an.current);Sl(e,n),i=v1(null,e,r,t,i,n);var s=_1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,Jp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f1(e),i.updater=vg,e.stateNode=i,i._reactInternals=e,$_(e,r,t,n),e=U_(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&o1(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(up(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UU(r),t=Tr(r,t),i){case 0:e=j_(null,e,r,t,n);break e;case 1:e=ib(null,e,r,t,n);break e;case 11:e=nb(null,e,r,t,n);break e;case 14:e=rb(null,e,r,Tr(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),j_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),ib(t,e,r,i,n);case 3:e:{if(tD(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SN(t,e),rm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bl(Error(O(423)),e),e=sb(t,e,r,n,i);break e}else if(r!==i){i=Bl(Error(O(424)),e),e=sb(t,e,r,n,i);break e}else for(Fn=Ts(e.stateNode.containerInfo.firstChild),Bn=e,$e=!0,xr=null,n=AN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fl(),r===i){e=ki(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return CN(e),t===null&&V_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,C_(r,i)?o=null:s!==null&&C_(r,s)&&(e.flags|=32),eD(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&V_(e),null;case 13:return nD(t,e,n);case 4:return p1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jl(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),nb(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae(tm,r._currentValue),r._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===i.children&&!Pn.current){e=ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),M_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),M_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sl(e,n),i=pr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),rb(t,e,r,i,n);case 15:return JN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),up(t,e),e.tag=1,Rn(r)?(t=!0,Jp(e)):t=!1,Sl(e,n),PN(e,r,i),$_(e,r,i,n),U_(null,e,r,!0,t,n);case 19:return rD(t,e,n);case 22:return ZN(t,e,n)}throw Error(O(156,e.tag))};function _D(t,e){return qk(t,e)}function jU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new jU(t,e,n,r)}function A1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UU(t){if(typeof t=="function")return A1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HE)return 11;if(t===QE)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")A1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return qo(n.children,i,s,e);case KE:o=8,i|=8;break;case l_:return t=cr(12,n,e,i|2),t.elementType=l_,t.lanes=s,t;case c_:return t=cr(13,n,e,i),t.elementType=c_,t.lanes=s,t;case u_:return t=cr(19,n,e,i),t.elementType=u_,t.lanes=s,t;case Rk:return Tg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bk:o=10;break e;case Pk:o=9;break e;case HE:o=11;break e;case QE:o=14;break e;case os:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qo(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function Tg(t,e,n,r){return t=cr(22,t,r,e),t.elementType=Rk,t.lanes=n,t.stateNode={isHidden:!1},t}function t0(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function n0(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mv(0),this.expirationTimes=Mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C1(t,e,n,r,i,s,o,a,l){return t=new BU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f1(s),t}function zU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wD(t){if(!t)return Ds;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Rn(n))return _N(t,n,e)}return e}function ED(t,e,n,r,i,s,o,a,l){return t=C1(n,r,!0,t,i,s,o,a,l),t.context=wD(null),n=t.current,r=hn(),i=Ss(n),s=wi(r,i),s.callback=e??null,Is(n,s,i),t.current.lanes=i,Eh(t,i,r),An(t,r),t}function Ig(t,e,n,r){var i=e.current,s=hn(),o=Ss(i);return n=wD(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(i,e,o),t!==null&&(Rr(t,i,o,s),ap(t,i,o)),o}function dm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function k1(t,e){mb(t,e),(t=t.alternate)&&mb(t,e)}function WU(){return null}var TD=typeof reportError=="function"?reportError:function(t){console.error(t)};function N1(t){this._internalRoot=t}xg.prototype.render=N1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Ig(t,e,null,null)};xg.prototype.unmount=N1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ra(function(){Ig(null,t,null,null)}),e[Ai]=null}};function xg(t){this._internalRoot=t}xg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cs.length&&e!==0&&e<cs[n].priority;n++);cs.splice(n,0,t),n===0&&eN(t)}};function D1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gb(){}function qU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=dm(o);s.call(c)}}var o=ED(e,r,t,0,null,!1,!1,"",gb);return t._reactRootContainer=o,t[Ai]=o.current,yd(t.nodeType===8?t.parentNode:t),ra(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=dm(l);a.call(c)}}var l=C1(t,0,!1,null,null,!1,!1,"",gb);return t._reactRootContainer=l,t[Ai]=l.current,yd(t.nodeType===8?t.parentNode:t),ra(function(){Ig(e,l,n,r)}),l}function bg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=dm(o);a.call(l)}}Ig(e,o,t,i)}else o=qU(n,e,t,i,r);return dm(o)}Yk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Iu(e.pendingLanes);n!==0&&(JE(e,n|1),An(e,lt()),!(pe&6)&&(zl=lt()+500,Zs()))}break;case 13:ra(function(){var r=Ci(t,1);if(r!==null){var i=hn();Rr(r,t,1,i)}}),k1(t,1)}};ZE=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var n=hn();Rr(e,t,134217728,n)}k1(t,134217728)}};Xk=function(t){if(t.tag===13){var e=Ss(t),n=Ci(t,e);if(n!==null){var r=hn();Rr(n,t,e,r)}k1(t,e)}};Jk=function(){return xe};Zk=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};w_=function(t,e,n){switch(e){case"input":if(f_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gg(r);if(!i)throw Error(O(90));Ck(r),f_(r,i)}}}break;case"textarea":Nk(t,n);break;case"select":e=n.value,e!=null&&El(t,!!n.multiple,e,!1)}};Fk=b1;jk=ra;var GU={usingClientEntryPoint:!1,Events:[Ih,ol,gg,Lk,$k,b1]},nu={findFiberByHostInstance:No,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},KU={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zk(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||WU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{hg=Df.inject(KU),Xr=Df}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D1(e))throw Error(O(200));return zU(t,e,null,n)};Yn.createRoot=function(t,e){if(!D1(t))throw Error(O(299));var n=!1,r="",i=TD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C1(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,yd(t.nodeType===8?t.parentNode:t),new N1(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=zk(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return ra(t)};Yn.hydrate=function(t,e,n){if(!Sg(e))throw Error(O(200));return bg(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!D1(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ED(e,null,t,1,n??null,i,!1,s,o),t[Ai]=e.current,yd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xg(e)};Yn.render=function(t,e,n){if(!Sg(e))throw Error(O(200));return bg(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!Sg(t))throw Error(O(40));return t._reactRootContainer?(ra(function(){bg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Yn.unstable_batchedUpdates=b1;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sg(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return bg(t,e,n,!1,r)};Yn.version="18.2.0-next-9e3b772b8-20220608";function ID(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ID)}catch(t){console.error(t)}}ID(),Ek.exports=Yn;var O1=Ek.exports;const Of=FE(O1);var yb=O1;o_.createRoot=yb.createRoot,o_.hydrateRoot=yb.hydrateRoot;var xD={exports:{}},SD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=E;function HU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QU=typeof Object.is=="function"?Object.is:HU,YU=Sh.useSyncExternalStore,XU=Sh.useRef,JU=Sh.useEffect,ZU=Sh.useMemo,eB=Sh.useDebugValue;SD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=XU(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ZU(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var f=o.value;if(i(f,p))return d=f}return d=p}if(f=d,QU(u,p))return f;var m=r(p);return i!==void 0&&i(f,m)?f:(u=p,d=m)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=YU(t,s[0],s[1]);return JU(function(){o.hasValue=!0,o.value=a},[a]),eB(a),a};xD.exports=SD;var tB=xD.exports,jn="default"in Ml?Te:Ml,vb=Symbol.for("react-redux-context"),_b=typeof globalThis<"u"?globalThis:{};function nB(){if(!jn.createContext)return{};const t=_b[vb]??(_b[vb]=new Map);let e=t.get(jn.createContext);return e||(e=jn.createContext(null),t.set(jn.createContext,e)),e}var Os=nB(),rB=()=>{throw new Error("uSES not initialized!")};function V1(t=Os){return function(){return jn.useContext(t)}}var bD=V1(),PD=rB,iB=t=>{PD=t},sB=(t,e)=>t===e;function oB(t=Os){const e=t===Os?bD:V1(t),n=(r,i={})=>{const{equalityFn:s=sB,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();jn.useRef(!0);const h=jn.useCallback({[r.name](f){return r(f)}}[r.name],[r,u,o.stabilityCheck]),p=PD(l.addNestedSub,a.getState,c||a.getState,h,s);return jn.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var aB=oB();function lB(t){t()}function cB(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lB(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var wb={notify(){},get:()=>[]};function uB(t,e){let n,r=wb,i=0,s=!1;function o(m){u();const w=r.subscribe(m);let _=!1;return()=>{_||(_=!0,w(),d())}}function a(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=cB())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=wb)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const f={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return f}var dB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hB=dB?jn.useLayoutEffect:jn.useEffect;function fB({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=jn.useMemo(()=>{const c=uB(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=jn.useMemo(()=>t.getState(),[t]);hB(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Os;return jn.createElement(l.Provider,{value:o},n)}var pB=fB;function RD(t=Os){const e=t===Os?bD:V1(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var mB=RD();function gB(t=Os){const e=t===Os?mB:RD(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var bh=gB();iB(tB.useSyncExternalStoreWithSelector);function Lt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yB=typeof Symbol=="function"&&Symbol.observable||"@@observable",Eb=yB,r0=()=>Math.random().toString(36).substring(7).split("").join("."),vB={INIT:`@@redux/INIT${r0()}`,REPLACE:`@@redux/REPLACE${r0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${r0()}`},hm=vB;function M1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AD(t,e,n){if(typeof t!="function")throw new Error(Lt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lt(1));return n(AD)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((w,_)=>{o.set(_,w)}))}function u(){if(l)throw new Error(Lt(3));return i}function d(w){if(typeof w!="function")throw new Error(Lt(4));if(l)throw new Error(Lt(5));let _=!0;c();const v=a++;return o.set(v,w),function(){if(_){if(l)throw new Error(Lt(6));_=!1,c(),o.delete(v),s=null}}}function h(w){if(!M1(w))throw new Error(Lt(7));if(typeof w.type>"u")throw new Error(Lt(8));if(typeof w.type!="string")throw new Error(Lt(17));if(l)throw new Error(Lt(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=o).forEach(v=>{v()}),w}function p(w){if(typeof w!="function")throw new Error(Lt(10));r=w,h({type:hm.REPLACE})}function f(){const w=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Lt(11));function v(){const T=_;T.next&&T.next(u())}return v(),{unsubscribe:w(v)}},[Eb](){return this}}}return h({type:hm.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[Eb]:f}}function _B(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:hm.INIT})>"u")throw new Error(Lt(12));if(typeof n(void 0,{type:hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function wB(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{_B(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],p=o[d],f=h(p,a);if(typeof f>"u")throw a&&a.type,new Error(Lt(14));c[d]=f,l=l||f!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function fm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EB(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Lt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=fm(...a)(i.dispatch),{...i,dispatch:s}}}function TB(t){return M1(t)&&"type"in t&&typeof t.type=="string"}var CD=Symbol.for("immer-nothing"),Tb=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function Sr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wl=Object.getPrototypeOf;function Vs(t){return!!t&&!!t[qn]}function Ni(t){var e;return t?kD(t)||Array.isArray(t)||!!t[Tb]||!!((e=t.constructor)!=null&&e[Tb])||Rg(t)||Ag(t):!1}var IB=Object.prototype.constructor.toString();function kD(t){if(!t||typeof t!="object")return!1;const e=Wl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IB}function bd(t,e){Pg(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Pg(t){const e=t[qn];return e?e.type_:Array.isArray(t)?1:Rg(t)?2:Ag(t)?3:0}function Z_(t,e){return Pg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ND(t,e,n){const r=Pg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Rg(t){return t instanceof Map}function Ag(t){return t instanceof Set}function vo(t){return t.copy_||t.base_}function ew(t,e){if(Rg(t))return new Map(t);if(Ag(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&kD(t))return Wl(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[qn];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Wl(t),n)}function L1(t,e=!1){return Cg(t)||Vs(t)||!Ni(t)||(Pg(t)>1&&(t.set=t.add=t.clear=t.delete=SB),Object.freeze(t),e&&bd(t,(n,r)=>L1(r,!0))),t}function SB(){Sr(2)}function Cg(t){return Object.isFrozen(t)}var bB={};function ia(t){const e=bB[t];return e||Sr(0,t),e}var Pd;function DD(){return Pd}function PB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ib(t,e){e&&(ia("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tw(t){nw(t),t.drafts_.forEach(RB),t.drafts_=null}function nw(t){t===Pd&&(Pd=t.parent_)}function xb(t){return Pd=PB(Pd,t)}function RB(t){const e=t[qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Sb(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qn].modified_&&(tw(e),Sr(4)),Ni(t)&&(t=pm(e,t),e.parent_||mm(e,t)),e.patches_&&ia("Patches").generateReplacementPatches_(n[qn].base_,t,e.patches_,e.inversePatches_)):t=pm(e,n,[]),tw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==CD?t:void 0}function pm(t,e,n){if(Cg(e))return e;const r=e[qn];if(!r)return bd(e,(i,s)=>bb(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return mm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),bd(s,(a,l)=>bb(t,r,i,a,l,n,o)),mm(t,i,!1),n&&t.patches_&&ia("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function bb(t,e,n,r,i,s,o){if(Vs(i)){const a=s&&e&&e.type_!==3&&!Z_(e.assigned_,r)?s.concat(r):void 0,l=pm(t,i,a);if(ND(n,r,l),Vs(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ni(i)&&!Cg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;pm(t,i),(!e||!e.scope_.parent_)&&mm(t,i)}}function mm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&L1(e,n)}function AB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=$1;n&&(i=[r],s=Rd);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var $1={get(t,e){if(e===qn)return t;const n=vo(t);if(!Z_(n,e))return CB(t,n,e);const r=n[e];return t.finalized_||!Ni(r)?r:r===i0(t.base_,e)?(s0(t),t.copy_[e]=iw(r,t)):r},has(t,e){return e in vo(t)},ownKeys(t){return Reflect.ownKeys(vo(t))},set(t,e,n){const r=OD(vo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=i0(vo(t),e),s=i==null?void 0:i[qn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(xB(n,i)&&(n!==void 0||Z_(t.base_,e)))return!0;s0(t),rw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return i0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,s0(t),rw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Sr(11)},getPrototypeOf(t){return Wl(t.base_)},setPrototypeOf(){Sr(12)}},Rd={};bd($1,(t,e)=>{Rd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rd.deleteProperty=function(t,e){return Rd.set.call(this,t,e,void 0)};Rd.set=function(t,e,n){return $1.set.call(this,t[0],e,n,t[0])};function i0(t,e){const n=t[qn];return(n?vo(n):t)[e]}function CB(t,e,n){var i;const r=OD(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OD(t,e){if(!(e in t))return;let n=Wl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wl(n)}}function rw(t){t.modified_||(t.modified_=!0,t.parent_&&rw(t.parent_))}function s0(t){t.copy_||(t.copy_=ew(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Sr(6),r!==void 0&&typeof r!="function"&&Sr(7);let i;if(Ni(e)){const s=xb(this),o=iw(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?tw(s):nw(s)}return Ib(s,r),Sb(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===CD&&(i=void 0),this.autoFreeze_&&L1(i,!0),r){const s=[],o=[];ia("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Sr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ni(t)||Sr(8),Vs(t)&&(t=VD(t));const e=xb(this),n=iw(t,void 0);return n[qn].isManual_=!0,nw(e),n}finishDraft(t,e){const n=t&&t[qn];(!n||!n.isManual_)&&Sr(9);const{scope_:r}=n;return Ib(r,e),Sb(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ia("Patches").applyPatches_;return Vs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function iw(t,e){const n=Rg(t)?ia("MapSet").proxyMap_(t,e):Ag(t)?ia("MapSet").proxySet_(t,e):AB(t,e);return(e?e.scope_:DD()).drafts_.push(n),n}function VD(t){return Vs(t)||Sr(10,t),MD(t)}function MD(t){if(!Ni(t)||Cg(t))return t;const e=t[qn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ew(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ew(t,!0);return bd(n,(r,i)=>{ND(n,r,MD(i))}),e&&(e.finalized_=!1),n}var Gn=new kB,LD=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function NB(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function DB(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function OB(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Pb=t=>Array.isArray(t)?t:[t];function VB(t){const e=Array.isArray(t[0])?t[0]:t;return OB(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function MB(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var LB=class{constructor(t){this.value=t}deref(){return this.value}},$B=typeof WeakRef<"u"?WeakRef:LB,FB=0,Rb=1;function Vf(){return{s:FB,v:void 0,o:null,p:null}}function F1(t,e={}){let n=Vf();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const f=arguments[h];if(typeof f=="function"||typeof f=="object"&&f!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const w=m.get(f);w===void 0?(a=Vf(),m.set(f,a)):a=w}else{let m=a.p;m===null&&(a.p=m=new Map);const w=m.get(f);w===void 0?(a=Vf(),m.set(f,a)):a=w}}const c=a;let u;if(a.s===Rb?u=a.v:(u=t.apply(null,arguments),s++),c.s=Rb,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new $B(u):u}return c.v=u,u}return o.clearCache=()=>{n=Vf(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function $D(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),NB(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=F1,argsMemoizeOptions:f=[],devModeChecks:m={}}=u,w=Pb(h),_=Pb(f),v=VB(i),y=d(function(){return s++,c.apply(null,arguments)},...w),T=p(function(){o++;const x=MB(v,arguments);return a=y.apply(null,x),a},..._);return Object.assign(T,{resultFunc:c,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var jB=$D(F1),UB=Object.assign((t,e=jB)=>{DB(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>UB});function FD(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var BB=FD(),zB=FD,WB=(...t)=>{const e=$D(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Vs(o)?VD(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};WB(F1);var qB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fm:fm.apply(null,arguments)};function ql(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>TB(r)&&r.type===t,n}var jD=class Su extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Su(...e[0].concat(this)):new Su(...e.concat(this))}};function Ab(t){return Ni(t)?LD(t,()=>{}):t}function Cb(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Cn(10));const r=n.insert(e,t);return t.set(e,r),r}function GB(t){return typeof t=="boolean"}var KB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new jD;return n&&(GB(n)?o.push(BB):o.push(zB(n.extraArgument))),o},HB="RTK_autoBatch",UD=t=>e=>{setTimeout(e,t)},QB=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UD(10),YB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?QB:t.type==="callback"?t.queueNotification:UD(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[HB]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},XB=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new jD(t);return r&&i.push(YB(typeof r=="object"?r:void 0)),i},JB=!0;function ZB(t){const e=KB(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(M1(n))a=wB(n);else throw new Error(Cn(1));let l;typeof r=="function"?l=r(e):l=e();let c=fm;i&&(c=qB({trace:!JB,...typeof i=="object"&&i}));const u=EB(...l),d=XB(u);let h=typeof o=="function"?o(d):d();const p=c(...h);return AD(a,s,p)}function BD(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Cn(28));if(a in e)throw new Error(Cn(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function e3(t){return typeof t=="function"}function t3(t,e){let[n,r,i]=BD(e),s;if(e3(t))s=()=>Ab(t());else{const a=Ab(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Vs(u)){const p=d(u,l);return p===void 0?u:p}else{if(Ni(u))return LD(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(Cn(9))}return h}}return u},a)}return o.getInitialState=s,o}var n3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r3=(t=21)=>{let e="",n=t;for(;n--;)e+=n3[Math.random()*64|0];return e},i3=Symbol.for("rtk-slice-createasyncthunk");function s3(t,e){return`${t}/${e}`}function o3({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[i3];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Cn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(l3()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(y,T){const I=typeof y=="string"?y:y.type;if(!I)throw new Error(Cn(12));if(I in c.sliceCaseReducersByType)throw new Error(Cn(13));return c.sliceCaseReducersByType[I]=T,u},addMatcher(y,T){return c.sliceMatchers.push({matcher:y,reducer:T}),u},exposeAction(y,T){return c.actionCreators[y]=T,u},exposeCaseReducer(y,T){return c.sliceCaseReducersByName[y]=T,u}};l.forEach(y=>{const T=a[y],I={reducerName:y,type:s3(s,y),createNotation:typeof i.reducers=="function"};u3(T)?h3(I,T,u,e):c3(I,T,u)});function d(){const[y={},T=[],I=void 0]=typeof i.extraReducers=="function"?BD(i.extraReducers):[i.extraReducers],x={...y,...c.sliceCaseReducersByType};return t3(i.initialState,S=>{for(let P in x)S.addCase(P,x[P]);for(let P of c.sliceMatchers)S.addMatcher(P.matcher,P.reducer);for(let P of T)S.addMatcher(P.matcher,P.reducer);I&&S.addDefaultCase(I)})}const h=y=>y,p=new Map;let f;function m(y,T){return f||(f=d()),f(y,T)}function w(){return f||(f=d()),f.getInitialState()}function _(y,T=!1){function I(S){let P=S[y];return typeof P>"u"&&T&&(P=w()),P}function x(S=h){const P=Cb(p,T,{insert:()=>new WeakMap});return Cb(P,S,{insert:()=>{const $={};for(const[N,Q]of Object.entries(i.selectors??{}))$[N]=a3(Q,S,w,T);return $}})}return{reducerPath:y,getSelectors:x,get selectors(){return x(I)},selectSlice:I}}const v={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,..._(o),injectInto(y,{reducerPath:T,...I}={}){const x=T??o;return y.inject({reducerPath:x,reducer:m},I),{...v,..._(x,!0)}}};return v}}function a3(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var j1=o3();function l3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function c3({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!d3(r))throw new Error(Cn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?ql(t,o):ql(t))}function u3(t){return t._reducerDefinitionType==="asyncThunk"}function d3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function h3({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Cn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Mf,pending:a||Mf,rejected:l||Mf,settled:c||Mf})}function Mf(){}var f3=(t,e)=>{if(typeof t!="function")throw new Error(Cn(32))},U1="listenerMiddleware",p3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ql(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Cn(21));return f3(s),{predicate:i,type:e,effect:s}},m3=Object.assign(t=>{const{type:e,predicate:n,effect:r}=p3(t);return{id:r3(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Cn(22))}}},{withTypes:()=>m3}),g3=Object.assign(ql(`${U1}/add`),{withTypes:()=>g3});ql(`${U1}/removeAll`);var y3=Object.assign(ql(`${U1}/remove`),{withTypes:()=>y3});function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const v3={user:null},zD=j1({name:"user",initialState:v3,reducers:{addUser:(t,e)=>{t.user=e.payload},removeUser:t=>{t.user=null}}});zD.actions;const _3=zD.reducer,w3={openplayer:!1,type:"audio",episode:null,podid:null,currenttime:0,index:0},WD=j1({name:"audioplayer",initialState:w3,reducers:{openPlayer:(t,e)=>{t.openplayer=!0,t.type=e.payload.type,t.episode=e.payload.episode,t.podid=e.payload.podid,t.currenttime=e.payload.currenttime,t.index=e.payload.index},closePlayer:t=>{t.openplayer=!1},setCurrentTime:(t,e)=>{t.currenttime=e.payload.currenttime}}}),{openPlayer:Gl,closePlayer:fl,setCurrentTime:qD}=WD.actions,E3=WD.reducer,T3=ZB({reducer:{user:_3,audioplayer:E3}});/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}var gs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gs||(gs={}));const kb="popstate";function I3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sw("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gm(i)}return S3(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x3(){return Math.random().toString(36).substr(2,8)}function Nb(t,e){return{usr:t.state,key:t.key,idx:e}}function sw(t,e,n,r){return n===void 0&&(n=null),Ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vc(e):e,{state:n,key:e&&e.key||r||x3()})}function gm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function S3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=gs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ad({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=gs.Pop;let w=u(),_=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:_})}function h(w,_){a=gs.Push;let v=sw(m.location,w,_);n&&n(v,w),c=u()+1;let y=Nb(v,c),T=m.createHref(v);try{o.pushState(y,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}s&&l&&l({action:a,location:m.location,delta:1})}function p(w,_){a=gs.Replace;let v=sw(m.location,w,_);n&&n(v,w),c=u();let y=Nb(v,c),T=m.createHref(v);o.replaceState(y,"",T),s&&l&&l({action:a,location:m.location,delta:0})}function f(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:gm(w);return _t(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kb,d),l=w,()=>{i.removeEventListener(kb,d),l=null}},createHref(w){return e(i,w)},createURL:f,encodeLocation(w){let _=f(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(w){return o.go(w)}};return m}var Db;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Db||(Db={}));function b3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vc(e):e,i=z1(r.pathname||"/",n);if(i==null)return null;let s=GD(t);P3(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=M3(s[a],F3(i));return o}function GD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ps([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GD(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:O3(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of KD(s.path))i(s,o,l)}),e}function KD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=KD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function P3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R3=/^:[\w-]+$/,A3=3,C3=2,k3=1,N3=10,D3=-2,Ob=t=>t==="*";function O3(t,e){let n=t.split("/"),r=n.length;return n.some(Ob)&&(r+=D3),e&&(r+=C3),n.filter(i=>!Ob(i)).reduce((i,s)=>i+(R3.test(s)?A3:s===""?k3:N3),r)}function V3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=L3({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Ps([i,u.pathname]),pathnameBase:W3(Ps([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Ps([i,u.pathnameBase]))}return s}function L3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const f=a[d];return p&&!f?c[h]=void 0:c[h]=j3(f||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function $3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),B1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F3(t){try{return decodeURI(t)}catch(e){return B1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j3(t,e){try{return decodeURIComponent(t)}catch(n){return B1(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function z1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vc(t):t;return{pathname:n?n.startsWith("/")?n:B3(n,e):e,search:q3(r),hash:G3(i)}}function B3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HD(t,e){let n=z3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vc(t):(i=Ad({},t),_t(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=U3(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),W3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function K3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YD=["post","put","patch","delete"];new Set(YD);const H3=["get",...YD];new Set(H3);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cd.apply(this,arguments)}const W1=E.createContext(null),Q3=E.createContext(null),Ta=E.createContext(null),kg=E.createContext(null),eo=E.createContext({outlet:null,matches:[],isDataRoute:!1}),XD=E.createContext(null);function Y3(t,e){let{relative:n}=e===void 0?{}:e;Ph()||_t(!1);let{basename:r,navigator:i}=E.useContext(Ta),{hash:s,pathname:o,search:a}=ZD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ps([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ph(){return E.useContext(kg)!=null}function _c(){return Ph()||_t(!1),E.useContext(kg).location}function JD(t){E.useContext(Ta).static||E.useLayoutEffect(t)}function li(){let{isDataRoute:t}=E.useContext(eo);return t?cz():X3()}function X3(){Ph()||_t(!1);let t=E.useContext(W1),{basename:e,future:n,navigator:r}=E.useContext(Ta),{matches:i}=E.useContext(eo),{pathname:s}=_c(),o=JSON.stringify(HD(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return JD(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=QD(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ps([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function q1(){let{matches:t}=E.useContext(eo),e=t[t.length-1];return e?e.params:{}}function ZD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(Ta),{matches:i}=E.useContext(eo),{pathname:s}=_c(),o=JSON.stringify(HD(i,r.v7_relativeSplatPath));return E.useMemo(()=>QD(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function J3(t,e){return Z3(t,e)}function Z3(t,e,n,r){Ph()||_t(!1);let{navigator:i}=E.useContext(Ta),{matches:s}=E.useContext(eo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_c(),u;if(e){var d;let w=typeof e=="string"?vc(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||_t(!1),u=w}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",f=b3(t,{pathname:p}),m=iz(f&&f.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ps([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ps([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&m?E.createElement(kg.Provider,{value:{location:Cd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gs.Pop}},m):m}function ez(){let t=lz(),e=K3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const tz=E.createElement(ez,null);class nz extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(eo.Provider,{value:this.props.routeContext},E.createElement(XD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rz(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(W1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(eo.Provider,{value:e},r)}function iz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||_t(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,f=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,f=!1,m=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||tz,l&&(c<0&&h===0?(uz("route-fallback",!1),f=!0,w=null):c===h&&(f=!0,w=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let y;return p?y=m:f?y=w:d.route.Component?y=E.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,E.createElement(rz,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(nz,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var eO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eO||{}),ym=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ym||{});function sz(t){let e=E.useContext(W1);return e||_t(!1),e}function oz(t){let e=E.useContext(Q3);return e||_t(!1),e}function az(t){let e=E.useContext(eo);return e||_t(!1),e}function tO(t){let e=az(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function lz(){var t;let e=E.useContext(XD),n=oz(ym.UseRouteError),r=tO(ym.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cz(){let{router:t}=sz(eO.UseNavigateStable),e=tO(ym.UseNavigateStable),n=E.useRef(!1);return JD(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cd({fromRouteId:e},s)))},[t,e])}const Vb={};function uz(t,e,n){!e&&!Vb[t]&&(Vb[t]=!0)}function Dn(t){_t(!1)}function dz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gs.Pop,navigator:s,static:o=!1,future:a}=t;Ph()&&_t(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Cd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=vc(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=E.useMemo(()=>{let w=z1(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:f},navigationType:i}},[l,u,d,h,p,f,i]);return m==null?null:E.createElement(Ta.Provider,{value:c},E.createElement(kg.Provider,{children:n,value:m}))}function hz(t){let{children:e,location:n}=t;return J3(ow(e),n)}new Promise(()=>{});function ow(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,ow(r.props.children,s));return}r.type!==Dn&&_t(!1),!r.props.index||!r.props.children||_t(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ow(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function fz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mz(t,e){return t.button===0&&(!e||e==="_self")&&!pz(t)}const gz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yz="6";try{window.__reactRouterVersion=yz}catch{}const vz="startTransition",Mb=Ml[vz];function _z(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=I3({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=E.useCallback(d=>{c&&Mb?Mb(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.createElement(dz,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const wz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=fz(e,gz),{basename:p}=E.useContext(Ta),f,m=!1;if(typeof c=="string"&&Ez.test(c)&&(f=c,wz))try{let y=new URL(window.location.href),T=c.startsWith("//")?new URL(y.protocol+c):new URL(c),I=z1(T.pathname,p);T.origin===y.origin&&I!=null?c=I+T.search+T.hash:m=!0}catch{}let w=Y3(c,{relative:i}),_=Tz(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function v(y){r&&r(y),y.defaultPrevented||_(y)}return E.createElement("a",aw({},h,{href:f||w,onClick:m||s?r:v,ref:n,target:l}))});var Lb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lb||(Lb={}));var $b;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function Tz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=li(),c=_c(),u=ZD(t,{relative:o});return E.useCallback(d=>{if(mz(d,n)){d.preventDefault();let h=r!==void 0?r:gm(c)===gm(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var tn=function(){return tn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tn.apply(this,arguments)};function vm(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function nO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var De="-ms-",Gu="-moz-",we="-webkit-",rO="comm",Ng="rule",G1="decl",Iz="@import",iO="@keyframes",xz="@layer",sO=Math.abs,K1=String.fromCharCode,lw=Object.assign;function Sz(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function oO(t){return t.trim()}function hi(t,e){return(t=e.exec(t))?t[0]:t}function se(t,e,n){return t.replace(e,n)}function pp(t,e,n){return t.indexOf(e,n)}function bt(t,e){return t.charCodeAt(e)|0}function Kl(t,e,n){return t.slice(e,n)}function Lr(t){return t.length}function aO(t){return t.length}function bu(t,e){return e.push(t),t}function bz(t,e){return t.map(e).join("")}function Fb(t,e){return t.filter(function(n){return!hi(n,e)})}var Dg=1,Hl=1,lO=0,gr=0,gt=0,wc="";function Og(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Dg,column:Hl,length:o,return:"",siblings:a}}function is(t,e){return lw(Og("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ma(t){for(;t.root;)t=is(t.root,{children:[t]});bu(t,t.siblings)}function Pz(){return gt}function Rz(){return gt=gr>0?bt(wc,--gr):0,Hl--,gt===10&&(Hl=1,Dg--),gt}function Ar(){return gt=gr<lO?bt(wc,gr++):0,Hl++,gt===10&&(Hl=1,Dg++),gt}function Go(){return bt(wc,gr)}function mp(){return gr}function Vg(t,e){return Kl(wc,t,e)}function cw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Az(t){return Dg=Hl=1,lO=Lr(wc=t),gr=0,[]}function Cz(t){return wc="",t}function a0(t){return oO(Vg(gr-1,uw(t===91?t+2:t===40?t+1:t)))}function kz(t){for(;(gt=Go())&&gt<33;)Ar();return cw(t)>2||cw(gt)>3?"":" "}function Nz(t,e){for(;--e&&Ar()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return Vg(t,mp()+(e<6&&Go()==32&&Ar()==32))}function uw(t){for(;Ar();)switch(gt){case t:return gr;case 34:case 39:t!==34&&t!==39&&uw(gt);break;case 40:t===41&&uw(t);break;case 92:Ar();break}return gr}function Dz(t,e){for(;Ar()&&t+gt!==57;)if(t+gt===84&&Go()===47)break;return"/*"+Vg(e,gr-1)+"*"+K1(t===47?t:Ar())}function Oz(t){for(;!cw(Go());)Ar();return Vg(t,gr)}function Vz(t){return Cz(gp("",null,null,null,[""],t=Az(t),0,[0],t))}function gp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,w=1,_=1,v=0,y="",T=i,I=s,x=r,S=y;w;)switch(f=v,v=Ar()){case 40:if(f!=108&&bt(S,d-1)==58){pp(S+=se(a0(v),"&","&\f"),"&\f",sO(c?a[c-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:S+=a0(v);break;case 9:case 10:case 13:case 32:S+=kz(f);break;case 92:S+=Nz(mp()-1,7);continue;case 47:switch(Go()){case 42:case 47:bu(Mz(Dz(Ar(),mp()),e,n,l),l);break;default:S+="/"}break;case 123*m:a[c++]=Lr(S)*_;case 125*m:case 59:case 0:switch(v){case 0:case 125:w=0;case 59+u:_==-1&&(S=se(S,/\f/g,"")),p>0&&Lr(S)-d&&bu(p>32?Ub(S+";",r,n,d-1,l):Ub(se(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(bu(x=jb(S,e,n,c,u,i,a,y,T=[],I=[],d,s),s),v===123)if(u===0)gp(S,e,x,x,T,s,d,a,I);else switch(h===99&&bt(S,3)===110?100:h){case 100:case 108:case 109:case 115:gp(t,x,x,r&&bu(jb(t,x,x,0,0,i,a,y,i,T=[],d,I),I),i,I,d,a,r?T:I);break;default:gp(S,x,x,x,[""],I,0,a,I)}}c=u=p=0,m=_=1,y=S="",d=o;break;case 58:d=1+Lr(S),p=f;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&Rz()==125)continue}switch(S+=K1(v),v*m){case 38:_=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Lr(S)-1)*_,_=1;break;case 64:Go()===45&&(S+=a0(Ar())),h=Go(),u=d=Lr(y=S+=Oz(mp())),v++;break;case 45:f===45&&Lr(S)==2&&(m=0)}}return s}function jb(t,e,n,r,i,s,o,a,l,c,u,d){for(var h=i-1,p=i===0?s:[""],f=aO(p),m=0,w=0,_=0;m<r;++m)for(var v=0,y=Kl(t,h+1,h=sO(w=o[m])),T=t;v<f;++v)(T=oO(w>0?p[v]+" "+y:se(y,/&\f/g,p[v])))&&(l[_++]=T);return Og(t,e,n,i===0?Ng:a,l,c,u,d)}function Mz(t,e,n,r){return Og(t,e,n,rO,K1(Pz()),Kl(t,2,-2),0,r)}function Ub(t,e,n,r,i){return Og(t,e,n,G1,Kl(t,0,r),Kl(t,r+1,-1),r,i)}function cO(t,e,n){switch(Sz(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 4789:return Gu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+Gu+t+De+t+t;case 5936:switch(bt(t,e+11)){case 114:return we+t+De+se(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+De+se(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+De+se(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return we+t+De+t+t;case 6165:return we+t+De+"flex-"+t+t;case 5187:return we+t+se(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+De+"flex-$1$2")+t;case 5443:return we+t+De+"flex-item-"+se(t,/flex-|-self/g,"")+(hi(t,/flex-|baseline/)?"":De+"grid-row-"+se(t,/flex-|-self/g,""))+t;case 4675:return we+t+De+"flex-line-pack"+se(t,/align-content|flex-|-self/g,"")+t;case 5548:return we+t+De+se(t,"shrink","negative")+t;case 5292:return we+t+De+se(t,"basis","preferred-size")+t;case 6060:return we+"box-"+se(t,"-grow","")+we+t+De+se(t,"grow","positive")+t;case 4554:return we+se(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return se(se(se(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return se(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return se(se(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+De+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4200:if(!hi(t,/flex-|baseline/))return De+"grid-column-align"+Kl(t,e)+t;break;case 2592:case 3360:return De+se(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,hi(r.props,/grid-\w+-end/)})?~pp(t+(n=n[e].value),"span",0)?t:De+se(t,"-start","")+t+De+"grid-row-span:"+(~pp(n,"span",0)?hi(n,/\d+/):+hi(n,/\d+/)-+hi(t,/\d+/))+";":De+se(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hi(r.props,/grid-\w+-start/)})?t:De+se(se(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return se(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lr(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return se(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+Gu+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pp(t,"stretch",0)?cO(se(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return se(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return De+i+":"+s+c+(o?De+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(bt(t,e+6)===121)return se(t,":",":"+we)+t;break;case 6444:switch(bt(t,bt(t,14)===45?18:11)){case 120:return se(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+we+(bt(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+De+"$2box$3")+t;case 100:return se(t,":",":"+De)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return se(t,"scroll-","scroll-snap-")+t}return t}function _m(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Lz(t,e,n,r){switch(t.type){case xz:if(t.children.length)break;case Iz:case G1:return t.return=t.return||t.value;case rO:return"";case iO:return t.return=t.value+"{"+_m(t.children,r)+"}";case Ng:if(!Lr(t.value=t.props.join(",")))return""}return Lr(n=_m(t.children,r))?t.return=t.value+"{"+n+"}":""}function $z(t){var e=aO(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Fz(t){return function(e){e.root||(e=e.return)&&t(e)}}function jz(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case G1:t.return=cO(t.value,t.length,n);return;case iO:return _m([is(t,{value:se(t.value,"@","@"+we)})],r);case Ng:if(t.length)return bz(n=t.props,function(i){switch(hi(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ma(is(t,{props:[se(i,/:(read-\w+)/,":"+Gu+"$1")]})),Ma(is(t,{props:[i]})),lw(t,{props:Fb(n,r)});break;case"::placeholder":Ma(is(t,{props:[se(i,/:(plac\w+)/,":"+we+"input-$1")]})),Ma(is(t,{props:[se(i,/:(plac\w+)/,":"+Gu+"$1")]})),Ma(is(t,{props:[se(i,/:(plac\w+)/,De+"input-$1")]})),Ma(is(t,{props:[i]})),lw(t,{props:Fb(n,r)});break}return""})}}var Uz={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},On={},Ql=typeof process<"u"&&On!==void 0&&(On.REACT_APP_SC_ATTR||On.SC_ATTR)||"data-styled",uO="active",dO="data-styled-version",Mg="6.1.8",H1=`/*!sc*/
`,Q1=typeof window<"u"&&"HTMLElement"in window,Bz=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&On!==void 0&&On.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&On.REACT_APP_SC_DISABLE_SPEEDY!==""?On.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&On.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&On!==void 0&&On.SC_DISABLE_SPEEDY!==void 0&&On.SC_DISABLE_SPEEDY!==""&&On.SC_DISABLE_SPEEDY!=="false"&&On.SC_DISABLE_SPEEDY),Lg=Object.freeze([]),Yl=Object.freeze({});function zz(t,e,n){return n===void 0&&(n=Yl),t.theme!==n.theme&&t.theme||e||n.theme}var hO=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Wz=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qz=/(^-|-$)/g;function Bb(t){return t.replace(Wz,"-").replace(qz,"")}var Gz=/(a)(d)/gi,Lf=52,zb=function(t){return String.fromCharCode(t+(t>25?39:97))};function dw(t){var e,n="";for(e=Math.abs(t);e>Lf;e=e/Lf|0)n=zb(e%Lf)+n;return(zb(e%Lf)+n).replace(Gz,"$1-$2")}var l0,fO=5381,pl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},pO=function(t){return pl(fO,t)};function Kz(t){return dw(pO(t)>>>0)}function Hz(t){return t.displayName||t.name||"Component"}function c0(t){return typeof t=="string"&&!0}var mO=typeof Symbol=="function"&&Symbol.for,gO=mO?Symbol.for("react.memo"):60115,Qz=mO?Symbol.for("react.forward_ref"):60112,Yz={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xz={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Jz=((l0={})[Qz]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l0[gO]=yO,l0);function Wb(t){return("type"in(e=t)&&e.type.$$typeof)===gO?yO:"$$typeof"in t?Jz[t.$$typeof]:Yz;var e}var Zz=Object.defineProperty,e6=Object.getOwnPropertyNames,qb=Object.getOwnPropertySymbols,t6=Object.getOwnPropertyDescriptor,n6=Object.getPrototypeOf,Gb=Object.prototype;function vO(t,e,n){if(typeof e!="string"){if(Gb){var r=n6(e);r&&r!==Gb&&vO(t,r,n)}var i=e6(e);qb&&(i=i.concat(qb(e)));for(var s=Wb(t),o=Wb(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Xz||n&&n[l]||o&&l in o||s&&l in s)){var c=t6(e,l);try{Zz(t,l,c)}catch{}}}}return t}function sa(t){return typeof t=="function"}function Y1(t){return typeof t=="object"&&"styledComponentId"in t}function Vo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Kb(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function kd(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function hw(t,e,n){if(n===void 0&&(n=!1),!n&&!kd(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=hw(t[r],e[r]);else if(kd(e))for(var r in e)t[r]=hw(t[r],e[r]);return t}function X1(t,e){Object.defineProperty(t,"toString",{value:e})}function oa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var r6=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw oa(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(H1);return n},t}(),yp=new Map,wm=new Map,vp=1,$f=function(t){if(yp.has(t))return yp.get(t);for(;wm.has(vp);)vp++;var e=vp++;return yp.set(t,e),wm.set(e,t),e},i6=function(t,e){vp=e+1,yp.set(t,e),wm.set(e,t)},s6="style[".concat(Ql,"][").concat(dO,'="').concat(Mg,'"]'),o6=new RegExp("^".concat(Ql,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),a6=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},l6=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(H1),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(o6);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(i6(u,c),a6(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function c6(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _O=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ql,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ql,uO),r.setAttribute(dO,Mg);var o=c6();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},u6=function(){function t(e){this.element=_O(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw oa(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),d6=function(){function t(e){this.element=_O(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),h6=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Hb=Q1,f6={isServer:!Q1,useCSSOMInjection:!Bz},wO=function(){function t(e,n,r){e===void 0&&(e=Yl),n===void 0&&(n={});var i=this;this.options=tn(tn({},f6),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Q1&&Hb&&(Hb=!1,function(s){for(var o=document.querySelectorAll(s6),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(Ql)!==uO&&(l6(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),X1(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(_){return wm.get(_)}(d);if(h===void 0)return"continue";var p=s.names.get(h),f=o.getGroup(d);if(p===void 0||f.length===0)return"continue";var m="".concat(Ql,".g").concat(d,'[id="').concat(h,'"]'),w="";p!==void 0&&p.forEach(function(_){_.length>0&&(w+="".concat(_,","))}),l+="".concat(f).concat(m,'{content:"').concat(w,'"}').concat(H1)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return $f(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(tn(tn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new h6(i):r?new u6(i):new d6(i)}(this.options),new r6(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if($f(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules($f(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup($f(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),p6=/&/g,m6=/^\s*\/\/.*$/gm;function EO(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=EO(n.children,e)),n})}function g6(t){var e,n,r,i=t===void 0?Yl:t,s=i.options,o=s===void 0?Yl:s,a=i.plugins,l=a===void 0?Lg:a,c=function(h,p,f){return f.startsWith(n)&&f.endsWith(n)&&f.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===Ng&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(p6,n).replace(r,c))}),o.prefix&&u.push(jz),u.push(Lz);var d=function(h,p,f,m){p===void 0&&(p=""),f===void 0&&(f=""),m===void 0&&(m="&"),e=m,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var w=h.replace(m6,""),_=Vz(f||p?"".concat(f," ").concat(p," { ").concat(w," }"):w);o.namespace&&(_=EO(_,o.namespace));var v=[];return _m(_,$z(u.concat(Fz(function(y){return v.push(y)})))),v};return d.hash=l.length?l.reduce(function(h,p){return p.name||oa(15),pl(h,p.name)},fO).toString():"",d}var y6=new wO,fw=g6(),TO=Te.createContext({shouldForwardProp:void 0,styleSheet:y6,stylis:fw});TO.Consumer;Te.createContext(void 0);function Qb(){return E.useContext(TO)}var v6=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=fw);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,X1(this,function(){throw oa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=fw),this.name+e.hash},t}(),_6=function(t){return t>="A"&&t<="Z"};function Yb(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;_6(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var IO=function(t){return t==null||t===!1||t===""},xO=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!IO(s)&&(Array.isArray(s)&&s.isCss||sa(s)?r.push("".concat(Yb(i),":"),s,";"):kd(s)?r.push.apply(r,vm(vm(["".concat(i," {")],xO(s),!1),["}"],!1)):r.push("".concat(Yb(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Uz||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ko(t,e,n,r){if(IO(t))return[];if(Y1(t))return[".".concat(t.styledComponentId)];if(sa(t)){if(!sa(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ko(i,e,n,r)}var s;return t instanceof v6?n?(t.inject(n,r),[t.getName(r)]):[t]:kd(t)?xO(t):Array.isArray(t)?Array.prototype.concat.apply(Lg,t.map(function(o){return Ko(o,e,n,r)})):[t.toString()]}function w6(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(sa(n)&&!Y1(n))return!1}return!0}var E6=pO(Mg),T6=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&w6(e),this.componentId=n,this.baseHash=pl(E6,n),this.baseStyle=r,wO.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Vo(i,this.staticRulesId);else{var s=Kb(Ko(this.rules,e,n,r)),o=dw(pl(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Vo(i,o),this.staticRulesId=o}else{for(var l=pl(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=Kb(Ko(d,e,n,r));l=pl(l,h+u),c+=h}}if(c){var p=dw(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Vo(i,p)}}return i},t}(),Em=Te.createContext(void 0);Em.Consumer;function I6(t){var e=Te.useContext(Em),n=E.useMemo(function(){return function(r,i){if(!r)throw oa(14);if(sa(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw oa(8);return i?tn(tn({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?Te.createElement(Em.Provider,{value:n},t.children):null}var u0={};function x6(t,e,n){var r=Y1(t),i=t,s=!c0(t),o=e.attrs,a=o===void 0?Lg:o,l=e.componentId,c=l===void 0?function(T,I){var x=typeof T!="string"?"sc":Bb(T);u0[x]=(u0[x]||0)+1;var S="".concat(x,"-").concat(Kz(Mg+x+u0[x]));return I?"".concat(I,"-").concat(S):S}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(T){return c0(T)?"styled.".concat(T):"Styled(".concat(Hz(T),")")}(t):u,h=e.displayName&&e.componentId?"".concat(Bb(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,f=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;f=function(T,I){return m(T,I)&&w(T,I)}}else f=m}var _=new T6(n,h,r?i.componentStyle:void 0);function v(T,I){return function(x,S,P){var $=x.attrs,N=x.componentStyle,Q=x.defaultProps,re=x.foldedComponentIds,de=x.styledComponentId,J=x.target,te=Te.useContext(Em),K=Qb(),oe=x.shouldForwardProp||K.shouldForwardProp,D=zz(S,te,Q)||Yl,G=function(ft,Qe,_n){for(var Or,ot=tn(tn({},Qe),{className:void 0,theme:_n}),ui=0;ui<ft.length;ui+=1){var Hi=sa(Or=ft[ui])?Or(ot):Or;for(var er in Hi)ot[er]=er==="className"?Vo(ot[er],Hi[er]):er==="style"?tn(tn({},ot[er]),Hi[er]):Hi[er]}return Qe.className&&(ot.className=Vo(ot.className,Qe.className)),ot}($,S,D),X=G.as||J,ye={};for(var ge in G)G[ge]===void 0||ge[0]==="$"||ge==="as"||ge==="theme"&&G.theme===D||(ge==="forwardedAs"?ye.as=G.forwardedAs:oe&&!oe(ge,X)||(ye[ge]=G[ge]));var Zn=function(ft,Qe){var _n=Qb(),Or=ft.generateAndInjectStyles(Qe,_n.styleSheet,_n.stylis);return Or}(N,G),ke=Vo(re,de);return Zn&&(ke+=" "+Zn),G.className&&(ke+=" "+G.className),ye[c0(X)&&!hO.has(X)?"class":"className"]=ke,ye.ref=P,E.createElement(X,ye)}(y,T,I)}v.displayName=d;var y=Te.forwardRef(v);return y.attrs=p,y.componentStyle=_,y.displayName=d,y.shouldForwardProp=f,y.foldedComponentIds=r?Vo(i.foldedComponentIds,i.styledComponentId):"",y.styledComponentId=h,y.target=r?i.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=r?function(I){for(var x=[],S=1;S<arguments.length;S++)x[S-1]=arguments[S];for(var P=0,$=x;P<$.length;P++)hw(I,$[P],!0);return I}({},i.defaultProps,T):T}}),X1(y,function(){return".".concat(y.styledComponentId)}),s&&vO(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function Xb(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Jb=function(t){return Object.assign(t,{isCss:!0})};function S6(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sa(t)||kd(t))return Jb(Ko(Xb(Lg,vm([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ko(r):Jb(Ko(Xb(r,e)))}function pw(t,e,n){if(n===void 0&&(n=Yl),!e)throw oa(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,S6.apply(void 0,vm([i],s,!1)))};return r.attrs=function(i){return pw(t,e,tn(tn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return pw(t,e,tn(tn({},n),i))},r}var SO=function(t){return pw(x6,t)},U=SO;hO.forEach(function(t){U[t]=SO(t)});const b6={bg:"#15171E",bgLight:"#1C1E27",primary:"#be1adb",text_primary:"#F2F3F4",text_secondary:"#b1b2b3",card:"#121212",button:"#5c5b5b"};var bO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zb=Te.createContext&&Te.createContext(bO),P6=["attr","size","title"];function R6(t,e){if(t==null)return{};var n=A6(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){C6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C6(t,e,n){return e=k6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k6(t){var e=N6(t,"string");return typeof e=="symbol"?e:String(e)}function N6(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PO(t){return t&&t.map((e,n)=>Te.createElement(e.tag,Im({key:n},e.attr),PO(e.child)))}function Ec(t){return e=>Te.createElement(D6,Tm({attr:Im({},t.attr)},e),PO(t.child))}function D6(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=R6(t,P6),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Te.createElement("svg",Tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Im(Im({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Te.createElement("title",null,s),t.children)};return Zb!==void 0?Te.createElement(Zb.Consumer,null,n=>e(n)):e(bO)}function O6(t){return Ec({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function V6(t){return Ec({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(t)}function M6(t){return Ec({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(t)}function L6(t){return Ec({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}function Xi(){var u;const t=[{id:1,name:"Home",path:"/home"},{id:3,name:"Anime",path:"/anime"},{id:4,name:"Series",path:"/series"},{id:2,name:"Fiction",path:"/fiction"},{id:5,name:"Crime",path:"/crime"},{id:6,name:"Podcast",path:"/pod"}],e=_c(),[n,r]=E.useState(!1),i=e.pathname,[s,o]=E.useState(((u=t.find(d=>d.path===i))==null?void 0:u.id)||1),a=d=>{o(d)},l=()=>{r(!n)},c=()=>{window.location.href="/"};return g.jsxs("div",{className:"flex z-30 justify-between items-center p-4 px-10 absolute w-full bg-gradient-to-b from-[#1e2126] to-transparent",children:[g.jsx("img",{src:"NOVA.png",style:{width:"150px",height:"auto"},alt:"NOVA Logo"}),g.jsx("ul",{className:"hidden md:flex gap-8",children:t.map(d=>g.jsx("li",{className:`text-gray-400 text-[18px] font-medium cursor-pointer hover:bg-gray-700 hover:text-white px-3 pb-2 py-1 ${s===d.id?"bg-gray-700 text-white":null} rounded-md transition-all duration-500 ease-in-out`,onClick:()=>a(d.id),children:g.jsx(Vn,{to:d.path,children:d.name})},d.id))}),g.jsxs("div",{className:"flex gap-10 items-center relative",children:[g.jsx(Vn,{to:"/search",className:"text-gray-300 hover:text-white",children:g.jsx(L6,{className:"text-[35px] hover:bg-gray-700 px-[3px] pb-[2px] py-[2px] cursor-pointer rounded-md hover:text-white transition-all duration-500 ease-in-out"})}),g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:"user1.png",alt:"User Avatar",className:"w-30 h-20 cursor-pointer",onClick:l}),n&&g.jsx("div",{className:"absolute left-0 top-12 bg-black text-white w-[15vh] p-2 rounded-lg shadow-lg",children:g.jsx("ul",{children:g.jsx("li",{className:"cursor-pointer hover:text-gray-400",onClick:c,children:"Sign out"})})})]})]})]})}function Tc(t){return Ec({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function Rh(t){return Ec({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function RO(t,e){return function(){return t.apply(e,arguments)}}const{toString:$6}=Object.prototype,{getPrototypeOf:J1}=Object,$g=(t=>e=>{const n=$6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ci=t=>(t=t.toLowerCase(),e=>$g(e)===t),Fg=t=>e=>typeof e===t,{isArray:Ic}=Array,Nd=Fg("undefined");function F6(t){return t!==null&&!Nd(t)&&t.constructor!==null&&!Nd(t.constructor)&&fr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AO=ci("ArrayBuffer");function j6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AO(t.buffer),e}const U6=Fg("string"),fr=Fg("function"),CO=Fg("number"),jg=t=>t!==null&&typeof t=="object",B6=t=>t===!0||t===!1,_p=t=>{if($g(t)!=="object")return!1;const e=J1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},z6=ci("Date"),W6=ci("File"),q6=ci("Blob"),G6=ci("FileList"),K6=t=>jg(t)&&fr(t.pipe),H6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fr(t.append)&&((e=$g(t))==="formdata"||e==="object"&&fr(t.toString)&&t.toString()==="[object FormData]"))},Q6=ci("URLSearchParams"),Y6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ah(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ic(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function kO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const NO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DO=t=>!Nd(t)&&t!==NO;function mw(){const{caseless:t}=DO(this)&&this||{},e={},n=(r,i)=>{const s=t&&kO(e,i)||i;_p(e[s])&&_p(r)?e[s]=mw(e[s],r):_p(r)?e[s]=mw({},r):Ic(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ah(arguments[r],n);return e}const X6=(t,e,n,{allOwnKeys:r}={})=>(Ah(e,(i,s)=>{n&&fr(i)?t[s]=RO(i,n):t[s]=i},{allOwnKeys:r}),t),J6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Z6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},e9=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&J1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},t9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},n9=t=>{if(!t)return null;if(Ic(t))return t;let e=t.length;if(!CO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},r9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&J1(Uint8Array)),i9=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},s9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},o9=ci("HTMLFormElement"),a9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),tP=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),l9=ci("RegExp"),OO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ah(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},c9=t=>{OO(t,(e,n)=>{if(fr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},u9=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ic(t)?r(t):r(String(t).split(e)),n},d9=()=>{},h9=(t,e)=>(t=+t,Number.isFinite(t)?t:e),d0="abcdefghijklmnopqrstuvwxyz",nP="0123456789",VO={DIGIT:nP,ALPHA:d0,ALPHA_DIGIT:d0+d0.toUpperCase()+nP},f9=(t=16,e=VO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function p9(t){return!!(t&&fr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const m9=t=>{const e=new Array(10),n=(r,i)=>{if(jg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ic(r)?[]:{};return Ah(r,(o,a)=>{const l=n(o,i+1);!Nd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},g9=ci("AsyncFunction"),y9=t=>t&&(jg(t)||fr(t))&&fr(t.then)&&fr(t.catch),A={isArray:Ic,isArrayBuffer:AO,isBuffer:F6,isFormData:H6,isArrayBufferView:j6,isString:U6,isNumber:CO,isBoolean:B6,isObject:jg,isPlainObject:_p,isUndefined:Nd,isDate:z6,isFile:W6,isBlob:q6,isRegExp:l9,isFunction:fr,isStream:K6,isURLSearchParams:Q6,isTypedArray:r9,isFileList:G6,forEach:Ah,merge:mw,extend:X6,trim:Y6,stripBOM:J6,inherits:Z6,toFlatObject:e9,kindOf:$g,kindOfTest:ci,endsWith:t9,toArray:n9,forEachEntry:i9,matchAll:s9,isHTMLForm:o9,hasOwnProperty:tP,hasOwnProp:tP,reduceDescriptors:OO,freezeMethods:c9,toObjectSet:u9,toCamelCase:a9,noop:d9,toFiniteNumber:h9,findKey:kO,global:NO,isContextDefined:DO,ALPHABET:VO,generateString:f9,isSpecCompliantForm:p9,toJSONObject:m9,isAsyncFn:g9,isThenable:y9};function fe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}A.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const MO=fe.prototype,LO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{LO[t]={value:t}});Object.defineProperties(fe,LO);Object.defineProperty(MO,"isAxiosError",{value:!0});fe.from=(t,e,n,r,i,s)=>{const o=Object.create(MO);return A.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),fe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const v9=null;function gw(t){return A.isPlainObject(t)||A.isArray(t)}function $O(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function rP(t,e,n){return t?t.concat(e).map(function(i,s){return i=$O(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function _9(t){return A.isArray(t)&&!t.some(gw)}const w9=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function Ug(t,e,n){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!A.isUndefined(w[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(i))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(A.isDate(f))return f.toISOString();if(!l&&A.isBlob(f))throw new fe("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(f)||A.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,m,w){let _=f;if(f&&!w&&typeof f=="object"){if(A.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(A.isArray(f)&&_9(f)||(A.isFileList(f)||A.endsWith(m,"[]"))&&(_=A.toArray(f)))return m=$O(m),_.forEach(function(y,T){!(A.isUndefined(y)||y===null)&&e.append(o===!0?rP([m],T,s):o===null?m:m+"[]",c(y))}),!1}return gw(f)?!0:(e.append(rP(w,m,s),c(f)),!1)}const d=[],h=Object.assign(w9,{defaultVisitor:u,convertValue:c,isVisitable:gw});function p(f,m){if(!A.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(f),A.forEach(f,function(_,v){(!(A.isUndefined(_)||_===null)&&i.call(e,_,A.isString(v)?v.trim():v,m,h))===!0&&p(_,m?m.concat(v):[v])}),d.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return p(t),e}function iP(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Z1(t,e){this._pairs=[],t&&Ug(t,this,e)}const FO=Z1.prototype;FO.append=function(e,n){this._pairs.push([e,n])};FO.toString=function(e){const n=e?function(r){return e.call(this,r,iP)}:iP;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function E9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jO(t,e,n){if(!e)return t;const r=n&&n.encode||E9,i=n&&n.serialize;let s;if(i?s=i(e,n):s=A.isURLSearchParams(e)?e.toString():new Z1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class sP{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(r){r!==null&&e(r)})}}const UO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T9=typeof URLSearchParams<"u"?URLSearchParams:Z1,I9=typeof FormData<"u"?FormData:null,x9=typeof Blob<"u"?Blob:null,S9={isBrowser:!0,classes:{URLSearchParams:T9,FormData:I9,Blob:x9},protocols:["http","https","file","blob","url","data"]},BO=typeof window<"u"&&typeof document<"u",b9=(t=>BO&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),P9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",R9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BO,hasStandardBrowserEnv:b9,hasStandardBrowserWebWorkerEnv:P9},Symbol.toStringTag,{value:"Module"})),qr={...R9,...S9};function A9(t,e){return Ug(t,new qr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return qr.isNode&&A.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function C9(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k9(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function zO(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&A.isArray(i)?i.length:o,l?(A.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!A.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&A.isArray(i[o])&&(i[o]=k9(i[o])),!a)}if(A.isFormData(t)&&A.isFunction(t.entries)){const n={};return A.forEachEntry(t,(r,i)=>{e(C9(r),i,n,0)}),n}return null}function N9(t,e,n){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const eT={transitional:UO,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=A.isObject(e);if(s&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return i?JSON.stringify(zO(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return A9(e,this.formSerializer).toString();if((a=A.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ug(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),N9(e)):e}],transformResponse:[function(e){const n=this.transitional||eT.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&A.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qr.classes.FormData,Blob:qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{eT.headers[t]={}});const tT=eT,D9=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&D9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},oP=Symbol("internals");function ru(t){return t&&String(t).trim().toLowerCase()}function wp(t){return t===!1||t==null?t:A.isArray(t)?t.map(wp):String(t)}function V9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const M9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function h0(t,e,n,r,i){if(A.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!A.isString(e)){if(A.isString(r))return e.indexOf(r)!==-1;if(A.isRegExp(r))return r.test(e)}}function L9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $9(t,e){const n=A.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Bg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=ru(l);if(!u)throw new Error("header name must be a non-empty string");const d=A.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=wp(a))}const o=(a,l)=>A.forEach(a,(c,u)=>s(c,u,l));return A.isPlainObject(e)||e instanceof this.constructor?o(e,n):A.isString(e)&&(e=e.trim())&&!M9(e)?o(O9(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=ru(e),e){const r=A.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return V9(i);if(A.isFunction(n))return n.call(this,i,r);if(A.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ru(e),e){const r=A.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||h0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ru(o),o){const a=A.findKey(r,o);a&&(!n||h0(r,r[a],a,n))&&(delete r[a],i=!0)}}return A.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||h0(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return A.forEach(this,(i,s)=>{const o=A.findKey(r,s);if(o){n[o]=wp(i),delete n[s];return}const a=e?L9(s):String(s).trim();a!==s&&delete n[s],n[a]=wp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return A.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&A.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[oP]=this[oP]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ru(o);r[a]||($9(i,o),r[a]=!0)}return A.isArray(e)?e.forEach(s):s(e),this}}Bg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(Bg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});A.freezeMethods(Bg);const Ei=Bg;function f0(t,e){const n=this||tT,r=e||n,i=Ei.from(r.headers);let s=r.data;return A.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function WO(t){return!!(t&&t.__CANCEL__)}function Ch(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}A.inherits(Ch,fe,{__CANCEL__:!0});function F9(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const j9=qr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];A.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),A.isString(r)&&o.push("path="+r),A.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function U9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function B9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function qO(t,e){return t&&!U9(e)?B9(t,e):e}const z9=qr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=A.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function W9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function aP(t,e){let n=0;const r=q9(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const G9=typeof XMLHttpRequest<"u",K9=G9&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ei.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(A.isFormData(i)){if(qr.hasStandardBrowserEnv||qr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[m,...w]=u?u.split(";").map(_=>_.trim()).filter(Boolean):[];s.setContentType([m||"multipart/form-data",...w].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+w))}const h=qO(t.baseURL,t.url);d.open(t.method.toUpperCase(),jO(h,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function p(){if(!d)return;const m=Ei.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:t,request:d};F9(function(y){n(y),c()},function(y){r(y),c()},_),d=null}if("onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(p)},d.onabort=function(){d&&(r(new fe("Request aborted",fe.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new fe("Network Error",fe.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||UO;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new fe(w,_.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,d)),d=null},qr.hasStandardBrowserEnv&&(a&&A.isFunction(a)&&(a=a(t)),a||a!==!1&&z9(h))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&j9.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&A.forEach(s.toJSON(),function(w,_){d.setRequestHeader(_,w)}),A.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",aP(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",aP(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=m=>{d&&(r(!m||m.type?new Ch(null,t,d):m),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const f=W9(h);if(f&&qr.protocols.indexOf(f)===-1){r(new fe("Unsupported protocol "+f+":",fe.ERR_BAD_REQUEST,t));return}d.send(i||null)})},yw={http:v9,xhr:K9};A.forEach(yw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lP=t=>`- ${t}`,H9=t=>A.isFunction(t)||t===null||t===!1,GO={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!H9(n)&&(r=yw[(o=String(n)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(lP).join(`
`):" "+lP(s[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:yw};function p0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ch(null,t)}function cP(t){return p0(t),t.headers=Ei.from(t.headers),t.data=f0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),GO.getAdapter(t.adapter||tT.adapter)(t).then(function(r){return p0(t),r.data=f0.call(t,t.transformResponse,r),r.headers=Ei.from(r.headers),r},function(r){return WO(r)||(p0(t),r&&r.response&&(r.response.data=f0.call(t,t.transformResponse,r.response),r.response.headers=Ei.from(r.response.headers))),Promise.reject(r)})}const uP=t=>t instanceof Ei?t.toJSON():t;function Xl(t,e){e=e||{};const n={};function r(c,u,d){return A.isPlainObject(c)&&A.isPlainObject(u)?A.merge.call({caseless:d},c,u):A.isPlainObject(u)?A.merge({},u):A.isArray(u)?u.slice():u}function i(c,u,d){if(A.isUndefined(u)){if(!A.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!A.isUndefined(u))return r(void 0,u)}function o(c,u){if(A.isUndefined(u)){if(!A.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(uP(c),uP(u),!0)};return A.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,h=d(t[u],e[u],u);A.isUndefined(h)&&d!==a||(n[u]=h)}),n}const KO="1.6.7",nT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const dP={};nT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+KO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new fe(i(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!dP[o]&&(dP[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Q9(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new fe("option "+s+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+s,fe.ERR_BAD_OPTION)}}const vw={assertOptions:Q9,validators:nT},Ji=vw.validators;class xm{constructor(e){this.defaults=e,this.interceptors={request:new sP,response:new sP}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&vw.assertOptions(r,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(A.isFunction(i)?n.paramsSerializer={serialize:i}:vw.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&A.merge(s.common,s[n.method]);s&&A.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),n.headers=Ei.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const f=[cP.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,c),h=f.length,u=Promise.resolve(n);d<h;)u=u.then(f[d++],f[d++]);return u}h=a.length;let p=n;for(d=0;d<h;){const f=a[d++],m=a[d++];try{p=f(p)}catch(w){m.call(this,w);break}}try{u=cP.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Xl(this.defaults,e);const n=qO(e.baseURL,e.url);return jO(n,e.params,e.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(e){xm.prototype[e]=function(n,r){return this.request(Xl(r||{},{method:e,url:n,data:(r||{}).data}))}});A.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Xl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}xm.prototype[e]=n(),xm.prototype[e+"Form"]=n(!0)});const Ep=xm;class rT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Ch(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new rT(function(i){e=i}),cancel:e}}}const Y9=rT;function X9(t){return function(n){return t.apply(null,n)}}function J9(t){return A.isObject(t)&&t.isAxiosError===!0}const _w={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_w).forEach(([t,e])=>{_w[e]=t});const Z9=_w;function HO(t){const e=new Ep(t),n=RO(Ep.prototype.request,e);return A.extend(n,Ep.prototype,e,{allOwnKeys:!0}),A.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return HO(Xl(t,i))},n}const He=HO(tT);He.Axios=Ep;He.CanceledError=Ch;He.CancelToken=Y9;He.isCancel=WO;He.VERSION=KO;He.toFormData=Ug;He.AxiosError=fe;He.Cancel=He.CanceledError;He.all=function(e){return Promise.all(e)};He.spread=X9;He.isAxiosError=J9;He.mergeConfig=Xl;He.AxiosHeaders=Ei;He.formToJSON=t=>zO(A.isHTMLForm(t)?new FormData(t):t);He.getAdapter=GO.getAdapter;He.HttpStatusCode=Z9;He.default=He;const kh=He.create({baseURL:"https://podstream.onrender.com/api"}),e8="https://api.themoviedb.org/3/discover/movie?api_key=d84a71e64320fa4ab9be0d5282da990b",t8="https://api.themoviedb.org/3/search/movie?api_key=d84a71e64320fa4ab9be0d5282da990b",n8=t=>He.get(`${t8}&query=${encodeURIComponent(t)}`),r8=()=>He.get("https://api.themoviedb.org/3/trending/movie/day?api_key=d84a71e64320fa4ab9be0d5282da990b"),i8=t=>He.get(e8+"&with_genres="+t),Ui={getPopularMovies:r8,getMovieByGenreId:i8},QO=async(t,e)=>await kh.post("/podcasts/favorit",{id:t},{headers:{Authorization:`Bearer ${e}`}},{withCredentials:!0}),YO=async t=>await kh.get(`/podcasts/category?q=${t}`),XO=async()=>await kh.get("/podcasts/mostpopular"),s8=async t=>await kh.get(`/podcasts/get/${t}`),o8=async t=>await kh.post(`/podcasts/addview/${t}`),a8=[{id:28,name:"Popular"},{id:9648,name:"Most Watched"},{id:16,name:"Anime"},{id:35,name:"Documentary"},{id:10770,name:"Series"},{id:80,name:"Crime"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],xc={genere:a8};var JO={exports:{}},l8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",c8=l8,u8=c8;function ZO(){}function eV(){}eV.resetWarningCache=ZO;var d8=function(){function t(r,i,s,o,a,l){if(l!==u8){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eV,resetWarningCache:ZO};return n.PropTypes=n,n};JO.exports=d8();var h8=JO.exports;const Ee=FE(h8),f8="https://w7.pngwing.com/pngs/408/238/png-transparent-pink-and-blue-illustration-discord-computer-icons-logo-user-internet-bot-discord-icon-purple-angle-violet-thumbnail.png",tV={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkODRhNzFlNjQzMjBmYTRhYjliZTBkNTI4MmRhOTkwYiIsInN1YiI6IjY1YzFjOGIwOGU4ZDMwMDE2Mjc3YmJiNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.totRVR_9VTGQjh7uXJFNdLfZwSTEWjFVmbSSCZXIkSY"}},Sc=({movieId:t})=>{const[e,n]=E.useState(null),r=async()=>{try{const s=await(await fetch(`https://api.themoviedb.org/3/movie/${t}/videos?language=en-US`,tV)).json(),a=(s==null?void 0:s.results.filter(l=>l.type==="Trailer"))[0];n(a==null?void 0:a.key)}catch(i){console.error("Error fetching movie videos:",i)}};return E.useEffect(()=>{r()},[t]),g.jsx("div",{className:"w-full",children:e&&g.jsx("iframe",{className:"w-screen aspect-video",src:`https://www.youtube.com/embed/${e}?&autoplay=1&mute=1`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})})};Sc.propTypes={movieId:Ee.number.isRequired};function p8(){const t="https://image.tmdb.org/t/p/original",[e,n]=E.useState([]),[r,i]=E.useState(0),[s,o]=E.useState(!1),a=li();E.useEffect(()=>{l()},[]);const l=()=>{const f=c();f&&Ui.getMovieByGenreId(f).then(m=>{const w=m.data.results;n(w)}).catch(m=>{console.error("Error fetching anime movies:",m)})},c=()=>{const f=xc.genere.find(m=>m.name==="Popular");return f?f.id:null},u=()=>{i(f=>f===e.length-1?0:f+1)},d=()=>{i(f=>f===0?e.length-1:f-1)},h=()=>{i(f=>f===e.length-1?0:f+1)},p=()=>{a("/watch",{state:{movie:e[r]}})};return g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx(Tc,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer z-10",onClick:d}),g.jsx(Rh,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer right-0 z-10",onClick:u}),g.jsx("div",{className:"flex justify-center items-center w-full overflow-hidden",children:e.map((f,m)=>g.jsx("div",{className:`flex-shrink-0 flex justify-center items-center ${m===r?"":"hidden"}`,style:{width:"100%"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:`${t}${f.backdrop_path}`,alt:`Slide ${m+1}`,className:"w-[960vh] h-[85vh] object-cover"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{opacity:s?1:0},children:g.jsx(Sc,{movieId:f.id,style:{width:"100%",height:"100%"}})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Watch only on NOVA XTREME"}),g.jsx("h2",{className:"text-2xl font-bold",children:f.original_title}),g.jsxs("div",{className:"flex gap-3 mt-2",children:[g.jsx("button",{className:"px-4 py-2 bg-violet-950 text-white rounded hover:bg-blue-700",onClick:p,children:"PLAY"}),g.jsx("button",{className:"px-4 py-2 bg-transparent border border-white text-white rounded hover:bg-gray-700",onClick:h,children:"NEXT"})]})]})]})},m))})]})}const m8="/assets/disney-t_oQBE10.png",g8="/assets/marvel-HPDU_eWa.png",y8="/assets/nationalG-DzBAnkKl.png",v8="/assets/pixar-MvbRlfxv.png",_8="/assets/starwar-IONoGDmn.png",w8="/assets/star-wars-8gIv1woH.mp4",E8="/assets/disney-opening-blIVrf0y.mp4",T8="/assets/marvel-baljX-ES.mp4",I8="/assets/national-geographic-f8KuPheJ.mp4",x8="/assets/pixar-opening-CkVPfGBK.mp4";function S8(){const t=[{id:1,image:m8,video:E8},{id:2,image:v8,video:x8},{id:3,image:g8,video:T8},{id:4,image:_8,video:w8},{id:5,image:y8,video:I8}];return g.jsx("div",{className:"flex gap-2 md:gap-5 p-2 px-5 md:px-16 ",children:t.map(e=>g.jsxs("div",{className:`border-[2px] border-gray-600\r
            rounded-lg hover:scale-110 transition-all duration-300\r
            ease-in-out cursor-pointer relative shadow-xl \r
            shadow-gray-800`,children:[g.jsx("video",{src:e.video,autoPlay:!0,loop:!0,playsInline:!0,muted:!0,className:`absolute z-0 top-0 rounded-md \r
            opacity-0 hover:opacity-50`}),g.jsx("img",{src:e.image,className:"w-full z-[1] opacity-100",alt:`Production House ${e.id}`})]},e.id))})}function Nh({movie:t}){const e="https://image.tmdb.org/t/p/original",n=li(),r=()=>{n("/watch",{state:{movie:t}})},i=s=>[10752].includes(s);return g.jsxs("div",{className:"inline-block m-2 md:m-3 cursor-pointer group",children:[g.jsx("div",{onClick:r,children:g.jsx("img",{src:`${e}${t.backdrop_path}`,alt:t.title,className:"w-[230px] md:w-[340px] object-cover rounded-2xl group-hover:border-[5px] border-gray-400 p-2 transition-all duration-300 ease-in-out",loading:"lazy"})}),g.jsxs("div",{className:"flex flex-col",children:[" ",g.jsx("h2",{className:"text-gray-400 mt-2 text-[12px] md:text-[17px] font-bold",children:"WATCH MOVIE"}),g.jsxs("div",{className:"flex justify-between items-center",children:[" ",g.jsx("h2",{className:"text-white mt-1 transition-all md:text-[22px] group-hover:font-bold",children:t.original_title}),g.jsx("div",{className:`block rounded-lg p-1 ${i(t.genre_id)?"bg-red-500":"bg-[#416D19]"}`,children:g.jsx("h2",{className:"text-white text-xs md:text-sm",children:i(t.genre_id)?"PREMIUM":"FREE"})})]})]})]})}Nh.propTypes={movie:Ee.shape({id:Ee.number.isRequired,backdrop_path:Ee.string.isRequired,original_title:Ee.string.isRequired,title:Ee.string.isRequired,genre_id:Ee.number.isRequired}).isRequired};function nV({genreId:t}){const e=E.useRef(null),[n,r]=E.useState([]);E.useEffect(()=>{t&&o()},[t]);const i=a=>{a.scrollLeft+=600},s=a=>{a.scrollLeft-=600},o=()=>{Ui.getMovieByGenreId(t).then(a=>{r(a.data.results)})};return g.jsxs("div",{className:"flex items-center overflow-hidden",children:[g.jsx(O6,{onClick:()=>s(e.current),className:"text-[40px] text-white bg-black p-2 z-10 cursor-pointer mb-[120px] rounded-full hidden md:block"}),g.jsx("div",{id:"slider",ref:e,className:"w-full flex whitespace-nowrap mb-16 ml-[-20px] mr-[-20px]",style:{overflowX:"auto",scrollbarWidth:"none"},children:g.jsx("div",{className:"flex",children:n.map((a,l)=>g.jsxs("div",{className:"inline-block m-2 md:m-1 cursor-pointer group",style:{flex:"0 0 auto",width:"480px"},children:[g.jsx(Nh,{movie:a,genre_id:t,imageWidth:400,imageHeight:600})," "]},l))})}),g.jsx(V6,{onClick:()=>i(e.current),className:"text-[40px] text-white hidden md:block bg-black p-2 cursor-pointer z-10 mb-[120px] rounded-full"})]})}nV.propTypes={genreId:Ee.number.isRequired};function b8(){const[t,e]=E.useState(null),n=r=>{e(r)};return g.jsxs("div",{className:"mt-24 p-5 px-10 md:px-20 ",children:[xc.genere.map((r,i)=>i<=20&&g.jsxs("div",{children:[g.jsxs("h2",{className:"text-white text-[20px] font-bold ",children:[r.name,g.jsxs("span",{className:"font-normal text-[16px] cursor-pointer text-gray-400 float-right flex",children:["VIEW ALL",g.jsx(M6,{className:"text-white ml-1"})]})]}),g.jsx(nV,{genreId:r.id,onMovieClick:n})]},r.id)),t&&g.jsx(VideoPlayer,{movieId:t})]})}function P8(){const t="https://image.tmdb.org/t/p/original",[e,n]=E.useState([]),[r,i]=E.useState(0),[s,o]=E.useState(!1),a=li();E.useEffect(()=>{l()},[]);const l=()=>{const f=c();f&&Ui.getMovieByGenreId(f).then(m=>{const w=m.data.results;n(w)}).catch(m=>{console.error("Error fetching anime movies:",m)})},c=()=>{const f=xc.genere.find(m=>m.name==="Anime");return f?f.id:null},u=()=>{i(f=>f===e.length-1?0:f+1)},d=()=>{i(f=>f===0?e.length-1:f-1)},h=()=>{i(f=>f===e.length-1?0:f+1)},p=()=>{a("/watch",{state:{movie:e[r]}})};return g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx(Tc,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer z-10",onClick:d}),g.jsx(Rh,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer right-0 z-10",onClick:u}),g.jsx("div",{className:"flex justify-center items-center w-full overflow-hidden",children:e.map((f,m)=>g.jsx("div",{className:`flex-shrink-0 flex justify-center items-center ${m===r?"":"hidden"}`,style:{width:"100%"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:`${t}${f.backdrop_path}`,alt:`Slide ${m+1}`,className:"w-[960vh] h-[85vh] object-cover"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{opacity:s?1:0},children:g.jsx(Sc,{movieId:f.id,style:{width:"100%",height:"100%"}})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Watch only on NOVA XTREME"}),g.jsx("h2",{className:"text-2xl font-bold",children:f.original_title}),g.jsxs("div",{className:"flex gap-3 mt-2",children:[g.jsx("button",{className:"px-4 py-2 bg-violet-950 text-white rounded hover:bg-blue-700",onClick:p,children:"PLAY"}),g.jsx("button",{className:"px-4 py-2 bg-transparent border border-white text-white rounded hover:bg-gray-700",onClick:h,children:"NEXT"})]})]})]})},m))})]})}function R8(){const t="https://image.tmdb.org/t/p/original",[e,n]=E.useState([]),[r,i]=E.useState(0),[s,o]=E.useState(!1),a=li();E.useEffect(()=>{l()},[]);const l=()=>{const f=c();f&&Ui.getMovieByGenreId(f).then(m=>{const w=m.data.results;n(w)}).catch(m=>{console.error("Error fetching anime movies:",m)})},c=()=>{const f=xc.genere.find(m=>m.name==="Mystery");return f?f.id:null},u=()=>{i(f=>f===e.length-1?0:f+1)},d=()=>{i(f=>f===0?e.length-1:f-1)},h=()=>{i(f=>f===e.length-1?0:f+1)},p=()=>{a("/watch",{state:{movie:e[r]}})};return g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx(Tc,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer z-10",onClick:d}),g.jsx(Rh,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer right-0 z-10",onClick:u}),g.jsx("div",{className:"flex justify-center items-center w-full overflow-hidden",children:e.map((f,m)=>g.jsx("div",{className:`flex-shrink-0 flex justify-center items-center ${m===r?"":"hidden"}`,style:{width:"100%"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:`${t}${f.backdrop_path}`,alt:`Slide ${m+1}`,className:"w-[960vh] h-[85vh] object-cover"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{opacity:s?1:0},children:g.jsx(Sc,{movieId:f.id,style:{width:"100%",height:"100%"}})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Watch only on NOVA XTREME"}),g.jsx("h2",{className:"text-2xl font-bold",children:f.original_title}),g.jsxs("div",{className:"flex gap-3 mt-2",children:[g.jsx("button",{className:"px-4 py-2 bg-violet-950 text-white rounded hover:bg-blue-700",onClick:p,children:"PLAY"}),g.jsx("button",{className:"px-4 py-2 bg-transparent border border-white text-white rounded hover:bg-gray-700",onClick:h,children:"NEXT"})]})]})]})},m))})]})}function hP(){const t=E.useRef(null),[e,n]=E.useState([]),r=["Popular","Most Watched","Releases","High Rated","Adventure"];E.useEffect(()=>{i()},[]);const i=()=>{Ui.getMovieByGenreId(53).then(s=>{n(s.data.results)}).catch(s=>{console.error("Error fetching anime list:",s)})};return g.jsx("div",{className:"mt-24 p-5 px-10 md:px-20",children:g.jsx("div",{id:"slider",ref:t,className:"w-full flex flex-wrap mb-16 ml-[-20px] mr-[-20px]",style:{scrollbarWidth:"none"},children:e.map((s,o)=>g.jsxs(Te.Fragment,{children:[o%4===0&&g.jsxs("h2",{className:"text-white text-[20px] font-bold w-full mb-4",children:[r[o/4]," "]}),g.jsxs("div",{className:"inline-block m-2 md:m-1 cursor-pointer group",style:{flex:"0 0 auto",width:"calc(25% - 20px)"},children:[g.jsx(Nh,{movie:s,imageWidth:400,imageHeight:600})," ",g.jsx("br",{})]})]},o))})})}function A8(){const t="https://image.tmdb.org/t/p/original",[e,n]=E.useState([]),[r,i]=E.useState(0),[s,o]=E.useState(!1),a=li();E.useEffect(()=>{l()},[]);const l=()=>{const f=c();f&&Ui.getMovieByGenreId(f).then(m=>{const w=m.data.results;n(w)}).catch(m=>{console.error("Error fetching anime movies:",m)})},c=()=>{const f=xc.genere.find(m=>m.name==="Science Fiction");return f?f.id:null},u=()=>{i(f=>f===e.length-1?0:f+1)},d=()=>{i(f=>f===0?e.length-1:f-1)},h=()=>{i(f=>f===e.length-1?0:f+1)},p=()=>{a("/watch",{state:{movie:e[r]}})};return g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx(Tc,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer z-10",onClick:d}),g.jsx(Rh,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer right-0 z-10",onClick:u}),g.jsx("div",{className:"flex justify-center items-center w-full overflow-hidden",children:e.map((f,m)=>g.jsx("div",{className:`flex-shrink-0 flex justify-center items-center ${m===r?"":"hidden"}`,style:{width:"100%"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:`${t}${f.backdrop_path}`,alt:`Slide ${m+1}`,className:"w-[960vh] h-[85vh] object-cover"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{opacity:s?1:0},children:g.jsx(Sc,{movieId:f.id,style:{width:"100%",height:"100%"}})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Watch only on NOVA XTREME"}),g.jsx("h2",{className:"text-2xl font-bold",children:f.original_title}),g.jsxs("div",{className:"flex gap-3 mt-2",children:[g.jsx("button",{className:"px-4 py-2 bg-violet-950 text-white rounded hover:bg-blue-700",onClick:p,children:"PLAY"}),g.jsx("button",{className:"px-4 py-2 bg-transparent border border-white text-white rounded hover:bg-gray-700",onClick:h,children:"NEXT"})]})]})]})},m))})]})}function C8(){const t=E.useRef(null),[e,n]=E.useState([]),r=["Popular","Most Watched","Releases","High Rated","Adventure"];E.useEffect(()=>{i()},[]);const i=()=>{Ui.getMovieByGenreId(878).then(s=>{n(s.data.results)}).catch(s=>{console.error("Error fetching anime list:",s)})};return g.jsx("div",{className:"mt-24 p-5 px-10 md:px-20",children:g.jsx("div",{id:"slider",ref:t,className:"w-full flex flex-wrap mb-16 ml-[-20px] mr-[-20px]",style:{scrollbarWidth:"none"},children:e.map((s,o)=>g.jsxs(Te.Fragment,{children:[o%4===0&&g.jsxs("h2",{className:"text-white text-[20px] font-bold w-full mb-4",children:[r[o/4]," "]}),g.jsxs("div",{className:"inline-block m-2 md:m-1 cursor-pointer group",style:{flex:"0 0 auto",width:"calc(25% - 20px)"},children:[g.jsx(Nh,{movie:s,imageWidth:400,imageHeight:600})," ",g.jsx("br",{})]})]},o))})})}function rV({movie:t}){const e="https://image.tmdb.org/t/p/original",n=li(),r=()=>{n("/watch",{state:{movie:t}})};return g.jsxs("div",{className:"inline-block m-2 md:m-3 cursor-pointer group",children:[g.jsx("div",{onClick:r,children:g.jsx("img",{src:`${e}${t.backdrop_path}`,alt:t.title,className:"w-[230px] md:w-[340px] object-cover rounded-2xl group-hover:border-[5px] border-gray-400 p-2 transition-all duration-300 ease-in-out",loading:"lazy"})}),g.jsxs("div",{className:"flex flex-col",children:[" ",g.jsx("h2",{className:"text-gray-400 mt-2 text-[12px] md:text-[17px] font-bold",children:"WATCH MOVIE"}),g.jsxs("div",{className:"flex justify-between items-center",children:[" ",g.jsx("h2",{className:"text-white mt-1 transition-all md:text-[22px] group-hover:font-bold",children:t.original_title}),g.jsx("div",{className:"block bg-[#B80000] w-[6vh] rounded-lg p-1",children:g.jsx("h2",{className:"text-white text-xs md:text-sm",children:"PAID"})})]})]})]})}rV.propTypes={movie:Ee.shape({id:Ee.number.isRequired,backdrop_path:Ee.string.isRequired,original_title:Ee.string.isRequired,title:Ee.string.isRequired}).isRequired};function k8(){const t=E.useRef(null),[e,n]=E.useState([]),r=["Popular","Most Watched","Releases","High Rated","Adventure"];E.useEffect(()=>{i()},[]);const i=()=>{Ui.getMovieByGenreId(10752).then(s=>{n(s.data.results)}).catch(s=>{console.error("Error fetching anime list:",s)})};return g.jsx("div",{className:"mt-24 p-5 px-10 md:px-20",children:g.jsx("div",{id:"slider",ref:t,className:"w-full flex flex-wrap mb-16 ml-[-20px] mr-[-20px]",style:{scrollbarWidth:"none"},children:e.map((s,o)=>g.jsxs(Te.Fragment,{children:[o%4===0&&g.jsxs("h2",{className:"text-white text-[20px] font-bold w-full mb-4",children:[r[o/4]," "]}),g.jsxs("div",{className:"inline-block m-2 md:m-1 cursor-pointer group",style:{flex:"0 0 auto",width:"calc(25% - 20px)"},children:[g.jsx(rV,{movie:s,imageWidth:400,imageHeight:600})," ",g.jsx("br",{})]})]},o))})})}function N8(){const t="https://image.tmdb.org/t/p/original",[e,n]=E.useState([]),[r,i]=E.useState(0),[s,o]=E.useState(!1),a=li();E.useEffect(()=>{l()},[]);const l=()=>{const f=c();f&&Ui.getMovieByGenreId(f).then(m=>{const w=m.data.results;n(w)}).catch(m=>{console.error("Error fetching anime movies:",m)})},c=()=>{const f=xc.genere.find(m=>m.name==="War");return f?f.id:null},u=()=>{i(f=>f===e.length-1?0:f+1)},d=()=>{i(f=>f===0?e.length-1:f-1)},h=()=>{i(f=>f===e.length-1?0:f+1)},p=()=>{a("/watch",{state:{movie:e[r]}})};return g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx(Tc,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer z-10",onClick:d}),g.jsx(Rh,{className:"hidden md:block text-white text-[30px] absolute mx-8 mt-[150px] cursor-pointer right-0 z-10",onClick:u}),g.jsx("div",{className:"flex justify-center items-center w-full overflow-hidden",children:e.map((f,m)=>g.jsx("div",{className:`flex-shrink-0 flex justify-center items-center ${m===r?"":"hidden"}`,style:{width:"100%"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:`${t}${f.backdrop_path}`,alt:`Slide ${m+1}`,className:"w-[960vh] h-[85vh] object-cover"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{opacity:s?1:0},children:g.jsx(Sc,{movieId:f.id,style:{width:"100%",height:"100%"}})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Watch only on NOVA XTREME"}),g.jsx("h2",{className:"text-2xl font-bold",children:f.original_title}),g.jsxs("div",{className:"flex gap-3 mt-2",children:[g.jsx("button",{className:"px-4 py-2 bg-violet-950 text-white rounded hover:bg-blue-700",onClick:p,children:"PLAY"}),g.jsx("button",{className:"px-4 py-2 bg-transparent border border-white text-white rounded hover:bg-gray-700",onClick:h,children:"NEXT"})]})]})]})},m))})]})}var fP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new O8;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const f=c<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V8=function(t){const e=iV(t);return sV.encodeByteArray(e,!0)},Sm=function(t){return V8(t).replace(/\./g,"")},oV=function(t){try{return sV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!M8(n)||(t[n]=bm(t[n],e[n]));return t}function M8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=()=>L8().__FIREBASE_DEFAULTS__,F8=()=>{if(typeof process>"u"||typeof fP>"u")return;const t=fP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oV(t[1]);return e&&JSON.parse(e)},iT=()=>{try{return $8()||F8()||j8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aV=()=>{var t;return(t=iT())===null||t===void 0?void 0:t.config},U8=t=>{var e;return(e=iT())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sm(JSON.stringify(n)),Sm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function sT(){var t;const e=(t=iT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q8(){return typeof self=="object"&&self.self===self}function lV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uV(){return!sT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dd(){try{return typeof indexedDB=="object"}catch{return!1}}function G8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="FirebaseError";class fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K8,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?H8(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fn(i,a,r)}}function H8(t,e){return t.replace(Q8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Y8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mP(s)&&mP(o)){if(!Od(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dV(t,e){const n=new X8(t,e);return n.subscribe.bind(n)}class X8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m0),i.error===void 0&&(i.error=m0),i.complete===void 0&&(i.complete=m0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tW(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eW(t){return t===_o?void 0:t}function tW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=[];var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const hV={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},rW=ae.INFO,iW={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},sW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=rW,this._logHandler=sW,this._userLogHandler=null,aT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}function oW(t){aT.forEach(e=>{e.setLogLevel(t)})}function aW(t,e){for(const n of aT){let r=null;e&&e.level&&(r=hV[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ae[s].toLowerCase(),message:a,args:o,type:i.name})}}}const lW=(t,e)=>e.some(n=>t instanceof n);let gP,yP;function cW(){return gP||(gP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uW(){return yP||(yP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fV=new WeakMap,ww=new WeakMap,pV=new WeakMap,g0=new WeakMap,lT=new WeakMap;function dW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fV.set(n,t)}).catch(()=>{}),lT.set(e,t),e}function hW(t){if(ww.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ww.set(t,e)}let Ew={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ww.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fW(t){Ew=t(Ew)}function pW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y0(this),e,...n);return pV.set(r,e.sort?e.sort():[e]),Rs(r)}:uW().includes(t)?function(...e){return t.apply(y0(this),e),Rs(fV.get(this))}:function(...e){return Rs(t.apply(y0(this),e))}}function mW(t){return typeof t=="function"?pW(t):(t instanceof IDBTransaction&&hW(t),lW(t,cW())?new Proxy(t,Ew):t)}function Rs(t){if(t instanceof IDBRequest)return dW(t);if(g0.has(t))return g0.get(t);const e=mW(t);return e!==t&&(g0.set(t,e),lT.set(e,t)),e}const y0=t=>lT.get(t);function gW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Rs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Rs(o.result),l.oldVersion,l.newVersion,Rs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const yW=["get","getKey","getAll","getAllKeys","count"],vW=["put","add","delete","clear"],v0=new Map;function vP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v0.get(e))return v0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yW.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return v0.set(e,s),s}fW(t=>({...t,get:(e,n,r)=>vP(e,n)||t.get(e,n,r),has:(e,n)=>!!vP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tw="@firebase/app",_P="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new zg("@firebase/app"),EW="@firebase/app-compat",TW="@firebase/analytics-compat",IW="@firebase/analytics",xW="@firebase/app-check-compat",SW="@firebase/app-check",bW="@firebase/auth",PW="@firebase/auth-compat",RW="@firebase/database",AW="@firebase/database-compat",CW="@firebase/functions",kW="@firebase/functions-compat",NW="@firebase/installations",DW="@firebase/installations-compat",OW="@firebase/messaging",VW="@firebase/messaging-compat",MW="@firebase/performance",LW="@firebase/performance-compat",$W="@firebase/remote-config",FW="@firebase/remote-config-compat",jW="@firebase/storage",UW="@firebase/storage-compat",BW="@firebase/firestore",zW="@firebase/firestore-compat",WW="firebase",qW="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]",GW={[Tw]:"fire-core",[EW]:"fire-core-compat",[IW]:"fire-analytics",[TW]:"fire-analytics-compat",[SW]:"fire-app-check",[xW]:"fire-app-check-compat",[bW]:"fire-auth",[PW]:"fire-auth-compat",[RW]:"fire-rtdb",[AW]:"fire-rtdb-compat",[CW]:"fire-fn",[kW]:"fire-fn-compat",[NW]:"fire-iid",[DW]:"fire-iid-compat",[OW]:"fire-fcm",[VW]:"fire-fcm-compat",[MW]:"fire-perf",[LW]:"fire-perf-compat",[$W]:"fire-rc",[FW]:"fire-rc-compat",[jW]:"fire-gcs",[UW]:"fire-gcs-compat",[BW]:"fire-fst",[zW]:"fire-fst-compat","fire-js":"fire-js",[WW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Map,Vd=new Map;function Pm(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mV(t,e){t.container.addOrOverwriteComponent(e)}function $s(t){const e=t.name;if(Vd.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,t);for(const n of Ls.values())Pm(n,t);return!0}function gV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KW(t,e,n=Ms){gV(t,e).clearInstance(n)}function HW(){Vd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ti=new Ia("app","Firebase",QW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YW=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=qW;function cT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ms,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=aV()),!n)throw Ti.create("no-options");const s=Ls.get(i);if(s){if(Od(n,s.options)&&Od(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new nW(i);for(const l of Vd.values())o.addComponent(l);const a=new YW(n,r,o);return Ls.set(i,a),a}function XW(t=Ms){const e=Ls.get(t);if(!e&&t===Ms&&aV())return cT();if(!e)throw Ti.create("no-app",{appName:t});return e}function JW(){return Array.from(Ls.values())}async function yV(t){const e=t.name;Ls.has(e)&&(Ls.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Zr(t,e,n){var r;let i=(r=GW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}$s(new ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function vV(t,e){if(t!==null&&typeof t!="function")throw Ti.create("invalid-log-argument");aW(t,e)}function _V(t){oW(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW="firebase-heartbeat-database",eq=1,Md="firebase-heartbeat-store";let _0=null;function wV(){return _0||(_0=gW(ZW,eq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Md)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),_0}async function tq(t){try{const n=(await wV()).transaction(Md),r=await n.objectStore(Md).get(EV(t));return await n.done,r}catch(e){if(e instanceof fn)aa.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function wP(t,e){try{const r=(await wV()).transaction(Md,"readwrite");await r.objectStore(Md).put(e,EV(t)),await r.done}catch(n){if(n instanceof fn)aa.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function EV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=1024,rq=30*24*60*60*1e3;class iq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EP();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rq}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EP(),{heartbeatsToSend:r,unsentEntries:i}=sq(this._heartbeatsCache.heartbeats),s=Sm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function EP(){return new Date().toISOString().substring(0,10)}function sq(t,e=nq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dd()?G8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TP(t){return Sm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){$s(new ii("platform-logger",e=>new _W(e),"PRIVATE")),$s(new ii("heartbeat",e=>new iq(e),"PRIVATE")),Zr(Tw,_P,t),Zr(Tw,_P,"esm2017"),Zr("fire-js","")}aq("");const lq=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fn,SDK_VERSION:to,_DEFAULT_ENTRY_NAME:Ms,_addComponent:Pm,_addOrOverwriteComponent:mV,_apps:Ls,_clearComponents:HW,_components:Vd,_getProvider:gV,_registerComponent:$s,_removeServiceInstance:KW,deleteApp:yV,getApp:XW,getApps:JW,initializeApp:cT,onLog:vV,registerVersion:Zr,setLogLevel:_V},Symbol.toStringTag,{value:"Module"}));function uT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const iu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},La={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function TV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uq=cq,dq=TV,IV=new Ia("auth","Firebase",TV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new zg("@firebase/auth");function hq(t,...e){Rm.logLevel<=ae.WARN&&Rm.warn(`Auth (${to}): ${t}`,...e)}function Tp(t,...e){Rm.logLevel<=ae.ERROR&&Rm.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,...e){throw dT(t,...e)}function qt(t,...e){return dT(t,...e)}function xV(t,e,n){const r=Object.assign(Object.assign({},dq()),{[e]:n});return new Ia("auth","Firebase",r).create(e,{appName:t.name})}function Pc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ht(t,"argument-error"),xV(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IV.create(t,...e)}function V(t,e,...n){if(!t)throw dT(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function kr(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hT(){return IP()==="http:"||IP()==="https:"}function IP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hT()||lV()||"connection"in navigator)?navigator.onLine:!0}function pq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=W8()||oT()}get(){return fq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=new Dh(3e4,6e4);function it(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function st(t,e,n,r,i={}){return bV(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=bc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),SV.fetch()(PV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function bV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mq),e);try{const i=new vq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ru(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ru(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ru(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xV(t,u,c);Ht(t,u)}}catch(i){if(i instanceof fn)throw i;Ht(t,"network-request-failed",{message:String(i)})}}async function Bi(t,e,n,r,i={}){const s=await st(t,e,n,r,i);return"mfaPendingCredential"in s&&Ht(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fT(t.config,i):`${t.config.apiScheme}://${i}`}function yq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qt(this.auth,"network-request-failed")),gq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ru(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){return t!==void 0&&t.getResponse!==void 0}function SP(t){return t!==void 0&&t.enterprise!==void 0}class _q{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t){return(await st(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Eq(t,e){return st(t,"GET","/v2/recaptchaConfig",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(t,e){return st(t,"POST","/v1/accounts:delete",e)}async function Iq(t,e){return st(t,"POST","/v1/accounts:update",e)}async function xq(t,e){return st(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sq(t,e=!1){const n=H(t),r=await n.getIdToken(e),i=Wg(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ku(w0(i.auth_time)),issuedAtTime:Ku(w0(i.iat)),expirationTime:Ku(w0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function w0(t){return Number(t)*1e3}function Wg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=oV(n);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bq(t){const e=Wg(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fn&&Pq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Pq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Di(t,xq(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kq(s.providerUserInfo):[],a=Cq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new RV(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Aq(t){const e=H(t);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kq(t){return t.map(e=>{var{providerId:n}=e,r=uT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nq(t,e){const n=await bV(t,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PV(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SV.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dq(t,e){return st(t,"POST","/v2/accounts:revokeToken",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Nq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fd;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fd,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ho{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new RV(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Di(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sq(this,e)}reload(){return Aq(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $d(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Di(this,Tq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:T,isAnonymous:I,providerData:x,stsTokenManager:S}=n;V(y&&S,e,"internal-error");const P=Fd.fromJSON(this.name,S);V(typeof y=="string",e,"internal-error"),Zi(d,e.name),Zi(h,e.name),V(typeof T=="boolean",e,"internal-error"),V(typeof I=="boolean",e,"internal-error"),Zi(p,e.name),Zi(f,e.name),Zi(m,e.name),Zi(w,e.name),Zi(_,e.name),Zi(v,e.name);const $=new Ho({uid:y,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:I,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:P,createdAt:_,lastLoginAt:v});return x&&Array.isArray(x)&&($.providerData=x.map(N=>Object.assign({},N))),w&&($._redirectEventId=w),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fd;i.updateFromServerResponse(n);const s=new Ho({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $d(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;function Un(t){kr(t instanceof Function,"Expected a class definition");let e=bP.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AV.type="NONE";const Jl=AV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ho._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(Un(Jl),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Un(Jl);const o=Qo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Ho._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Pl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DV(e))return"Blackberry";if(OV(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||kV(e))&&!e.includes("edge/"))return"Chrome";if(Oh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CV(t=Be()){return/firefox\//i.test(t)}function pT(t=Be()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kV(t=Be()){return/crios\//i.test(t)}function NV(t=Be()){return/iemobile/i.test(t)}function Oh(t=Be()){return/android/i.test(t)}function DV(t=Be()){return/blackberry/i.test(t)}function OV(t=Be()){return/webos/i.test(t)}function Rc(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oq(t=Be()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Vq(t=Be()){var e;return Rc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mq(){return cV()&&document.documentMode===10}function VV(t=Be()){return Rc(t)||Oh(t)||OV(t)||DV(t)||/windows phone/i.test(t)||NV(t)}function Lq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t,e=[]){let n;switch(t){case"Browser":n=PP(Be());break;case"Worker":n=`${PP(Be())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e={}){return st(t,"GET","/v2/passwordPolicy",it(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=6;class Uq{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RP(this),this.idTokenSubscription=new RP(this),this.beforeStateQueue=new $q(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?H(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fq(this),n=new Uq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tt(t){return H(t)}class RP{constructor(e){this.auth=e,this.observer=null,this.addObserver=dV(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zq(t){Vh=t}function mT(t){return Vh.loadJS(t)}function Wq(){return Vh.recaptchaV2Script}function qq(){return Vh.recaptchaEnterpriseScript}function Gq(){return Vh.gapiScript}function LV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kq="recaptcha-enterprise",Hq="NO_RECAPTCHA";class Qq{constructor(e){this.type=Kq,this.auth=tt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Eq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new _q(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;SP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Hq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&SP(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qq();l.length!==0&&(l+=a),mT(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function AP(t,e,n,r=!1){const i=new Qq(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function jd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await AP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await AP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function Yq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Xq(t,e,n){const r=tt(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=$V(e),{host:o,port:a}=Jq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Zq()}function $V(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jq(t){const e=$V(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:CP(o)}}}function CP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return st(t,"POST","/v1/accounts:resetPassword",it(t,e))}async function eG(t,e){return st(t,"POST","/v1/accounts:update",e)}async function tG(t,e){return st(t,"POST","/v1/accounts:signUp",e)}async function nG(t,e){return st(t,"POST","/v1/accounts:update",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,e){return Bi(t,"POST","/v1/accounts:signInWithPassword",it(t,e))}async function qg(t,e){return st(t,"POST","/v1/accounts:sendOobCode",it(t,e))}async function iG(t,e){return qg(t,e)}async function sG(t,e){return qg(t,e)}async function oG(t,e){return qg(t,e)}async function aG(t,e){return qg(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(t,e){return Bi(t,"POST","/v1/accounts:signInWithEmailLink",it(t,e))}async function cG(t,e){return Bi(t,"POST","/v1/accounts:signInWithEmailLink",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Ac{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(e,n,"signInWithPassword",rG);case"emailLink":return lG(e,{email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(e,r,"signUpPassword",tG);case"emailLink":return cG(e,{idToken:n,email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t,e){return Bi(t,"POST","/v1/accounts:signInWithIdp",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG="http://localhost";class si extends Ac{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new si(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ii(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ii(e,n)}buildRequest(){const e={requestUri:uG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dG(t,e){return st(t,"POST","/v1/accounts:sendVerificationCode",it(t,e))}async function hG(t,e){return Bi(t,"POST","/v1/accounts:signInWithPhoneNumber",it(t,e))}async function fG(t,e){const n=await Bi(t,"POST","/v1/accounts:signInWithPhoneNumber",it(t,e));if(n.temporaryProof)throw Ru(t,"account-exists-with-different-credential",n);return n}const pG={USER_NOT_FOUND:"user-not-found"};async function mG(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Bi(t,"POST","/v1/accounts:signInWithPhoneNumber",it(t,n),pG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Ac{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Yo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Yo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return hG(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return fG(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return mG(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Yo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yG(t){const e=ml(Pu(t)).link,n=e?ml(Pu(e)).deep_link_id:null,r=ml(Pu(t)).deep_link_id;return(r?ml(Pu(r)).link:null)||r||n||e||t}class Gg{constructor(e){var n,r,i,s,o,a;const l=ml(Pu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=gG((i=l.mode)!==null&&i!==void 0?i:null);V(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=yG(e);try{return new Gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return Ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gg.parseLink(n);return V(r,"argument-error"),Ud._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rl extends Cc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return V("providerId"in n&&"signInMethod"in n,"argument-error"),si._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return V(e.idToken||e.accessToken,"argument-error"),si._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Rl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Rl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Cc{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return si._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Cc{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="http://localhost";class Zl extends Ac{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ii(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ii(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Zl(r,s)}static _create(e,n){return new Zl(e,n)}buildRequest(){return{requestUri:vG,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="saml.";class Am extends zi{constructor(e){V(e.startsWith(_G),"argument-error"),super(e)}static credentialFromResult(e){return Am.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Am.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Zl.fromJSON(e);return V(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Zl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Cc{constructor(){super("twitter.com")}static credential(e,n){return si._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return Bi(t,"POST","/v1/accounts:signUp",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ho._fromIdTokenResponse(e,r,i),o=kP(r);return new yr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kP(r);return new yr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wG(t){var e;const n=tt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new yr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await jV(n,{returnSecureToken:!0}),i=await yr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends fn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cm(e,n,r,i)}}function UV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cm._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(t,e){const n=H(t);await Kg(!0,n,e);const{providerUserInfo:r}=await Iq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=BV(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function gT(t,e,n=!1){const r=await Di(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yr._forOperation(t,"link",r)}async function Kg(t,e,n){await $d(e);const r=BV(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";V(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Di(t,UV(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=Wg(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),yr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ht(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e,n=!1){const r="signIn",i=await UV(t,r,e),s=await yr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Hg(t,e){return WV(tt(t),e)}async function qV(t,e){const n=H(t);return await Kg(!1,n,e.providerId),gT(n,e)}async function GV(t,e){return zV(H(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(t,e){return Bi(t,"POST","/v1/accounts:signInWithCustomToken",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IG(t,e){const n=tt(t),r=await TG(n,{token:e,returnSecureToken:!0}),i=await yr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?yT._fromServerResponse(e,n):"totpInfo"in n?vT._fromServerResponse(e,n):Ht(e,"internal-error")}}class yT extends Mh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new yT(n)}}class vT extends Mh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new vT(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e,n){var r;V(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t){const e=tt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xG(t,e,n){const r=tt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Qg(r,i,n),await jd(r,i,"getOobCode",sG)}async function SG(t,e,n){await FV(H(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_T(t),r})}async function bG(t,e){await nG(H(t),{oobCode:e})}async function KV(t,e){const n=H(t),r=await FV(n,{oobCode:e}),i=r.requestType;switch(V(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(r.mfaInfo,n,"internal-error");default:V(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Mh._fromServerResponse(tt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function PG(t,e){const{data:n}=await KV(H(t),e);return n.email}async function HV(t,e,n){const r=tt(t),o=await jd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_T(t),l}),a=await yr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function QV(t,e,n){return Hg(H(t),no.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_T(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RG(t,e,n){const r=tt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){V(a.handleCodeInApp,r,"argument-error"),a&&Qg(r,o,a)}s(i,n),await jd(r,i,"getOobCode",oG)}function AG(t,e){const n=Gg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function CG(t,e,n){const r=H(t),i=no.credentialWithLink(e,n||Ld());return V(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Hg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kG(t,e){return st(t,"POST","/v1/accounts:createAuthUri",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NG(t,e){const n=hT()?Ld():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await kG(H(t),r);return i||[]}async function DG(t,e){const n=H(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Qg(n.auth,i,e);const{email:s}=await iG(n.auth,i);s!==t.email&&await t.reload()}async function OG(t,e,n){const r=H(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Qg(r.auth,s,n);const{email:o}=await aG(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VG(t,e){return st(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=H(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Di(r,VG(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function MG(t,e){return XV(H(t),e,null)}function LG(t,e){return XV(H(t),null,e)}async function XV(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Di(t,eG(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Wg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Al(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new FG(s,i);case"github.com":return new jG(s,i);case"google.com":return new UG(s,i);case"twitter.com":return new BG(s,i,t.screenName||null);case"custom":case"anonymous":return new Al(s,null);default:return new Al(s,r,i)}}class Al{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class JV extends Al{constructor(e,n,r,i){super(e,n,r),this.username=i}}class FG extends Al{constructor(e,n){super(e,"facebook.com",n)}}class jG extends JV{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class UG extends Al{constructor(e,n){super(e,"google.com",n)}}class BG extends JV{constructor(e,n,r){super(e,"twitter.com",n,r)}}function zG(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:$G(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Mo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Mo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Mo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Mo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=tt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Mh._fromServerResponse(r,a));V(i.mfaPendingCredential,r,"internal-error");const o=Mo._fromMfaPendingCredential(i.mfaPendingCredential);return new wT(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await yr._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return V(n.user,r,"internal-error"),yr._forOperation(n.user,n.operationType,c);default:Ht(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function WG(t,e){var n;const r=H(t),i=e;return V(e.customData.operationType,r,"argument-error"),V((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),wT._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t,e){return st(t,"POST","/v2/accounts/mfaEnrollment:start",it(t,e))}function GG(t,e){return st(t,"POST","/v2/accounts/mfaEnrollment:finalize",it(t,e))}function KG(t,e){return st(t,"POST","/v2/accounts/mfaEnrollment:withdraw",it(t,e))}class ET{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Mh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ET(e)}async getSession(){return Mo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Di(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Di(this.user,KG(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const E0=new WeakMap;function HG(t){const e=H(t);return E0.has(e)||E0.set(e,ET._fromUser(e)),E0.get(e)}const km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(km,"1"),this.storage.removeItem(km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(){const t=Be();return pT(t)||Rc(t)}const YG=1e3,XG=10;class eM extends ZV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QG()&&Lq(),this.fallbackToPolling=VV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eM.type="LOCAL";const TT=eM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM extends ZV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tM.type="SESSION";const la=tM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await JG(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Lh("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return window}function e7(t){mt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof mt().WorkerGlobalScope<"u"&&typeof mt().importScripts=="function"}async function t7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r7(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="firebaseLocalStorageDb",i7=1,Nm="firebaseLocalStorage",rM="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xg(t,e){return t.transaction([Nm],e?"readwrite":"readonly").objectStore(Nm)}function s7(){const t=indexedDB.deleteDatabase(nM);return new $h(t).toPromise()}function Iw(){const t=indexedDB.open(nM,i7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nm,{keyPath:rM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nm)?e(r):(r.close(),await s7(),e(await Iw()))})})}async function NP(t,e,n){const r=Xg(t,!0).put({[rM]:e,value:n});return new $h(r).toPromise()}async function o7(t,e){const n=Xg(t,!1).get(e),r=await new $h(n).toPromise();return r===void 0?null:r.value}function DP(t,e){const n=Xg(t,!0).delete(e);return new $h(n).toPromise()}const a7=800,l7=3;class iM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yg._getInstance(r7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t7(),!this.activeServiceWorker)return;this.sender=new ZG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iw();return await NP(e,km,"1"),await DP(e,km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xg(i,!1).getAll();return new $h(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iM.type="LOCAL";const Bd=iM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t,e){return st(t,"POST","/v2/accounts/mfaSignIn:start",it(t,e))}function u7(t,e){return st(t,"POST","/v2/accounts/mfaSignIn:finalize",it(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=500,h7=6e4,Ff=1e12;class f7{constructor(e){this.auth=e,this.counter=Ff,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new p7(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Ff;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Ff;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Ff;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class p7{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;V(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=m7(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},h7)},d7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function m7(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=LV("rcb"),g7=new Dh(3e4,6e4);class y7{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return V(v7(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xP(mt().grecaptcha)?Promise.resolve(mt().grecaptcha):new Promise((r,i)=>{const s=mt().setTimeout(()=>{i(qt(e,"network-request-failed"))},g7.get());mt()[T0]=()=>{mt().clearTimeout(s),delete mt()[T0];const a=mt().grecaptcha;if(!a||!xP(a)){i(qt(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${Wq()}?${bc({onload:T0,render:"explicit",hl:n})}`;mT(o).catch(()=>{clearTimeout(s),i(qt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function v7(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class _7{async load(e){return new f7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="recaptcha",w7={theme:"light",type:"image"};let E7=class{constructor(e,n,r=Object.assign({},w7)){this.parameters=r,this.type=sM,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tt(e),this.isInvisible=this.parameters.size==="invisible",V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _7:new y7,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){V(hT()&&!IT(),this.auth,"internal-error"),await T7(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await wq(this.auth);V(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function T7(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Yo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function I7(t,e,n){const r=tt(t),i=await Jg(r,e,H(n));return new xT(i,s=>Hg(r,s))}async function x7(t,e,n){const r=H(t);await Kg(!1,r,"phone");const i=await Jg(r.auth,e,H(n));return new xT(i,s=>qV(r,s))}async function S7(t,e,n){const r=H(t),i=await Jg(r.auth,e,H(n));return new xT(i,s=>GV(r,s))}async function Jg(t,e,n){var r;const i=await n.verify();try{V(typeof i=="string",t,"argument-error"),V(n.type===sM,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return V(o.type==="enroll",t,"internal-error"),(await qG(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{V(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return V(a,t,"missing-multi-factor-info"),(await c7(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await dG(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function b7(t,e){await gT(H(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=class Ip{constructor(e){this.providerId=Ip.PROVIDER_ID,this.auth=tt(e)}verifyPhoneNumber(e,n){return Jg(this.auth,e,H(n))}static credential(e,n){return Yo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Ip.credentialFromTaggedObject(n)}static credentialFromError(e){return Ip.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Yo._fromTokenResponse(n,r):null}};ca.PROVIDER_ID="phone";ca.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){return e?Un(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends Ac{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ii(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ii(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P7(t){return WV(t.auth,new ST(t),t.bypassAuthState)}function R7(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),zV(n,new ST(t),t.bypassAuthState)}async function A7(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),gT(n,new ST(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P7;case"linkViaPopup":case"linkViaRedirect":return A7;case"reauthViaPopup":case"reauthViaRedirect":return R7;default:Ht(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=new Dh(2e3,1e4);async function aM(t,e,n){const r=tt(t);Pc(t,e,zi);const i=xa(r,n);return new gi(r,"signInViaPopup",e,i).executeNotNull()}async function k7(t,e,n){const r=H(t);Pc(r.auth,e,zi);const i=xa(r.auth,n);return new gi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function N7(t,e,n){const r=H(t);Pc(r.auth,e,zi);const i=xa(r.auth,n);return new gi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class gi extends oM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gi.currentPopupAction&&gi.currentPopupAction.cancel(),gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=Lh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C7.get())};e()}}gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="pendingRedirect",Hu=new Map;class O7 extends oM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await V7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V7(t,e){const n=cM(e),r=lM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function bT(t,e){return lM(t)._set(cM(e),"true")}function M7(){Hu.clear()}function PT(t,e){Hu.set(t._key(),e)}function lM(t){return Un(t._redirectPersistence)}function cM(t){return Qo(D7,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t,e,n){return $7(t,e,n)}async function $7(t,e,n){const r=tt(t);Pc(t,e,zi),await r._initializationPromise;const i=xa(r,n);return await bT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function F7(t,e,n){return j7(t,e,n)}async function j7(t,e,n){const r=H(t);Pc(r.auth,e,zi),await r.auth._initializationPromise;const i=xa(r.auth,n);await bT(i,r.auth);const s=await uM(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function U7(t,e,n){return B7(t,e,n)}async function B7(t,e,n){const r=H(t);Pc(r.auth,e,zi),await r.auth._initializationPromise;const i=xa(r.auth,n);await Kg(!1,r,e.providerId),await bT(i,r.auth);const s=await uM(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function z7(t,e){return await tt(t)._initializationPromise,Zg(t,e,!1)}async function Zg(t,e,n=!1){const r=tt(t),i=xa(r,e),o=await new O7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function uM(t){const e=Lh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=10*60*1e3;class dM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W7&&this.cachedEventUids.clear(),this.cachedEventUids.has(OP(e))}saveEventToCache(e){this.cachedEventUids.add(OP(e)),this.lastProcessedEventTime=Date.now()}}function OP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e={}){return st(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K7=/^https?/;async function H7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fM(t);for(const n of e)try{if(Q7(n))return}catch{}Ht(t,"unauthorized-domain")}function Q7(t){const e=Ld(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!K7.test(n))return!1;if(G7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=new Dh(3e4,6e4);function VP(){const t=mt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X7(t){return new Promise((e,n)=>{var r,i,s;function o(){VP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VP(),n(qt(t,"network-request-failed"))},timeout:Y7.get()})}if(!((i=(r=mt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mt().gapi)===null||s===void 0)&&s.load)o();else{const a=LV("iframefcb");return mt()[a]=()=>{gapi.load?o():n(qt(t,"network-request-failed"))},mT(`${Gq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xp=null,e})}let xp=null;function J7(t){return xp=xp||X7(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=new Dh(5e3,15e3),eK="__/auth/iframe",tK="emulator/auth/iframe",nK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iK(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fT(e,tK):`https://${t.config.authDomain}/${eK}`,r={apiKey:e.apiKey,appName:t.name,v:to},i=rK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bc(r).slice(1)}`}async function sK(t){const e=await J7(t),n=mt().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:iK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qt(t,"network-request-failed"),a=mt().setTimeout(()=>{s(o)},Z7.get());function l(){mt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aK=500,lK=600,cK="_blank",uK="http://localhost";class MP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dK(t,e,n,r=aK,i=lK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oK),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Be().toLowerCase();n&&(a=kV(c)?cK:n),CV(c)&&(e=e||uK,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(Vq(c)&&a!=="_self")return hK(e||"",a),new MP(null);const d=window.open(e||"",a,u);V(d,t,"popup-blocked");try{d.focus()}catch{}return new MP(d)}function hK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK="__/auth/handler",pK="emulator/auth/handler",mK=encodeURIComponent("fac");async function xw(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:i};if(e instanceof zi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Y8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Cc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${mK}=${encodeURIComponent(l)}`:"";return`${gK(t)}?${bc(a).slice(1)}${c}`}function gK({config:t}){return t.emulator?fT(t,pK):`https://${t.authDomain}/${fK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="webStorageSupport";class yK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=la,this._completeRedirectFn=Zg,this._overrideRedirectResult=PT}async _openPopup(e,n,r,i){var s;kr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await xw(e,n,r,Ld(),i);return dK(e,o,Lh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await xw(e,n,r,Ld(),i);return e7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sK(e),r=new dM(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(I0,{type:I0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[I0];o!==void 0&&n(!!o),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VV()||pT()||Rc()}}const vK=yK;class _K{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Gr("unexpected MultiFactorSessionType")}}}class RT extends _K{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new RT(e)}_finalizeEnroll(e,n,r){return GG(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return u7(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class pM{constructor(){}static assertion(e){return RT._fromCredential(e)}}pM.FACTOR_ID="phone";var LP="@firebase/auth",$P="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TK(t){$s(new ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MV(t)},c=new Bq(r,i,s,l);return Yq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$s(new ii("auth-internal",e=>{const n=tt(e.getProvider("auth").getImmediate());return(r=>new wK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(LP,$P,EK(t)),Zr(LP,$P,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=5*60;U8("authIdTokenMaxAge");function xK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TK("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,n){this._delegate=e,this.firebase=n,Pm(e,new ii("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),yV(this._delegate)))}_getService(e,n=Ms){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ms){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Pm(this._delegate,e)}_addOrOverwriteComponent(e){mV(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},FP=new Ia("app-compat","Firebase",bK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Zr,setLogLevel:_V,onLog:vV,apps:null,SDK_VERSION:to,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:lq}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Ms,!pP(e,c))throw FP.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=cT(c,u);if(pP(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if($s(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw FP.create("invalid-app-argument",{appName:u});return p[d]()};c.serviceProps!==void 0&&bm(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){const t=PK(SK);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:mM,extendNamespace:e,createSubscribe:dV,ErrorFactory:Ia,deepExtend:bm});function e(n){bm(t,n)}return t}const RK=mM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new zg("@firebase/app-compat"),AK="@firebase/app-compat",CK="0.2.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(t){Zr(AK,CK,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(q8()&&self.firebase!==void 0){jP.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&jP.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Sa=RK;kK();var NK="firebase",DK="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sa.registerVersion(NK,DK,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=2e3;async function VK(t,e,n){var r;const{BuildInfo:i}=ua();kr(e.sessionId,"AuthEvent did not contain a session ID");const s=await jK(e.sessionId),o={};return Rc()?o.ibi=i.packageName:Oh()?o.apn=i.packageName:Ht(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,xw(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function MK(t){const{BuildInfo:e}=ua(),n={};Rc()?n.iosBundleId=e.packageName:Oh()?n.androidPackageName=e.packageName:Ht(t,"operation-not-supported-in-this-environment"),await fM(t,n)}function LK(t){const{cordova:e}=ua();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Oq()?"_blank":"_system","location=yes"),n(i)})})}async function $K(t,e,n){const{cordova:r}=ua();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(qt(t,"redirect-cancelled-by-user"))},OK))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Oh()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function FK(t){var e,n,r,i,s,o,a,l,c,u;const d=ua();V(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function jK(t){const e=UK(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function UK(t){if(kr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=20;class zK extends dM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function WK(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:KK(),postBody:null,tenantId:t.tenantId,error:qt(t,"no-auth-event")}}function qK(t,e){return Sw()._set(bw(t),e)}async function UP(t){const e=await Sw()._get(bw(t));return e&&await Sw()._remove(bw(t)),e}function GK(t,e){var n,r;const i=QK(e);if(i.includes("/__/auth/callback")){const s=Sp(i),o=s.firebaseError?HK(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?qt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function KK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<BK;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Sw(){return Un(TT)}function bw(t){return Qo("authEvent",t.config.apiKey,t.name)}function HK(t){try{return JSON.parse(t)}catch{return null}}function QK(t){const e=Sp(t),n=e.link?decodeURIComponent(e.link):void 0,r=Sp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sp(i).link||i||r||n||t}function Sp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ml(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=500;class XK{constructor(){this._redirectPersistence=la,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zg,this._overrideRedirectResult=PT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new zK(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ht(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){FK(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),M7(),await this._originValidation(e);const o=WK(e,r,i);await qK(e,o);const a=await VK(e,o,n),l=await LK(a);return $K(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MK(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ua(),o=setTimeout(async()=>{await UP(e),n.onEvent(BP())},YK),a=async u=>{clearTimeout(o);const d=await UP(e);let h=null;d&&(u!=null&&u.url)&&(h=GK(d,u.url)),n.onEvent(h||BP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;ua().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const JK=XK;function BP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t,e){tt(t)._logFramework(e)}var eH="@firebase/auth-compat",tH="0.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=1e3;function Qu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function rH(){return Qu()==="http:"||Qu()==="https:"}function gM(t=Be()){return!!((Qu()==="file:"||Qu()==="ionic:"||Qu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function iH(){return oT()||sT()}function sH(){return cV()&&(document==null?void 0:document.documentMode)===11}function oH(t=Be()){return/Edge\/\d+/.test(t)}function aH(t=Be()){return sH()||oH(t)}function yM(){try{const t=self.localStorage,e=Lh();if(t)return t.setItem(e,"1"),t.removeItem(e),aH()?Dd():!0}catch{return AT()&&Dd()}return!1}function AT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function x0(){return(rH()||lV()||gM())&&!iH()&&yM()&&!AT()}function vM(){return gM()&&typeof document<"u"}async function lH(){return vM()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},nH);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function cH(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln={LOCAL:"local",NONE:"none",SESSION:"session"},su=V,_M="persistence";function uH(t,e){if(su(Object.values(Ln).includes(e),t,"invalid-persistence-type"),oT()){su(e!==Ln.SESSION,t,"unsupported-persistence-type");return}if(sT()){su(e===Ln.NONE,t,"unsupported-persistence-type");return}if(AT()){su(e===Ln.NONE||e===Ln.LOCAL&&Dd(),t,"unsupported-persistence-type");return}su(e===Ln.NONE||yM(),t,"unsupported-persistence-type")}async function Pw(t){await t._initializationPromise;const e=wM(),n=Qo(_M,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function dH(t,e){const n=wM();if(!n)return[];const r=Qo(_M,t,e);switch(n.getItem(r)){case Ln.NONE:return[Jl];case Ln.LOCAL:return[Bd,la];case Ln.SESSION:return[la];default:return[]}}function wM(){var t;try{return((t=cH())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=V;class ys{constructor(){this.browserResolver=Un(vK),this.cordovaResolver=Un(JK),this.underlyingResolver=null,this._redirectPersistence=la,this._completeRedirectFn=Zg,this._overrideRedirectResult=PT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return vM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hH(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await lH();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){return t.unwrap()}function fH(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(t){return TM(t)}function mH(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new gH(t,WG(t,e))}else if(r){const i=TM(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function TM(t){const{_tokenResponse:e}=t instanceof fn?t.customData:t;if(!e)return null;if(!(t instanceof fn)&&"temporaryProof"in e&&"phoneNumber"in e)return ca.credentialFromResult(t);const n=e.providerId;if(!n||n===iu.PASSWORD)return null;let r;switch(n){case iu.GOOGLE:r=br;break;case iu.FACEBOOK:r=Ur;break;case iu.GITHUB:r=Br;break;case iu.TWITTER:r=zr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Zl._create(n,a):si._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Rl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof fn?r.credentialFromError(t):r.credentialFromResult(t)}function wn(t,e){return e.catch(n=>{throw n instanceof fn&&mH(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:pH(n),additionalUserInfo:zG(n),user:ey.getOrCreate(i)}})}async function Rw(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>wn(t,n.confirm(r))}}class gH{constructor(e,n){this.resolver=n,this.auth=fH(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return wn(EM(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey=class Au{constructor(e){this._delegate=e,this.multiFactor=HG(e)}static getOrCreate(e){return Au.USER_MAP.has(e)||Au.USER_MAP.set(e,new Au(e)),Au.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return wn(this.auth,qV(this._delegate,e))}async linkWithPhoneNumber(e,n){return Rw(this.auth,x7(this._delegate,e,n))}async linkWithPopup(e){return wn(this.auth,N7(this._delegate,e,ys))}async linkWithRedirect(e){return await Pw(tt(this.auth)),U7(this._delegate,e,ys)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return wn(this.auth,GV(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Rw(this.auth,S7(this._delegate,e,n))}reauthenticateWithPopup(e){return wn(this.auth,k7(this._delegate,e,ys))}async reauthenticateWithRedirect(e){return await Pw(tt(this.auth)),F7(this._delegate,e,ys)}sendEmailVerification(e){return DG(this._delegate,e)}async unlink(e){return await EG(this._delegate,e),this}updateEmail(e){return MG(this._delegate,e)}updatePassword(e){return LG(this._delegate,e)}updatePhoneNumber(e){return b7(this._delegate,e)}updateProfile(e){return YV(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return OG(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};ey.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=V;class Aw{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ou(r,"invalid-api-key",{appName:e.name}),ou(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ys:void 0;this._delegate=n.initialize({options:{persistence:yH(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(uq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ey.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Xq(this._delegate,e,n)}applyActionCode(e){return bG(this._delegate,e)}checkActionCode(e){return KV(this._delegate,e)}confirmPasswordReset(e,n){return SG(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return wn(this._delegate,HV(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return NG(this._delegate,e)}isSignInWithEmailLink(e){return AG(this._delegate,e)}async getRedirectResult(){ou(x0(),this._delegate,"operation-not-supported-in-this-environment");const e=await z7(this._delegate,ys);return e?wn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){ZK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=zP(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=zP(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return RG(this._delegate,e,n)}sendPasswordResetEmail(e,n){return xG(this._delegate,e,n||void 0)}async setPersistence(e){uH(this._delegate,e);let n;switch(e){case Ln.SESSION:n=la;break;case Ln.LOCAL:n=await Un(Bd)._isAvailable()?Bd:TT;break;case Ln.NONE:n=Jl;break;default:return Ht("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return wn(this._delegate,wG(this._delegate))}signInWithCredential(e){return wn(this._delegate,Hg(this._delegate,e))}signInWithCustomToken(e){return wn(this._delegate,IG(this._delegate,e))}signInWithEmailAndPassword(e,n){return wn(this._delegate,QV(this._delegate,e,n))}signInWithEmailLink(e,n){return wn(this._delegate,CG(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Rw(this._delegate,I7(this._delegate,e,n))}async signInWithPopup(e){return ou(x0(),this._delegate,"operation-not-supported-in-this-environment"),wn(this._delegate,aM(this._delegate,e,ys))}async signInWithRedirect(e){return ou(x0(),this._delegate,"operation-not-supported-in-this-environment"),await Pw(this._delegate),L7(this._delegate,e,ys)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return PG(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Aw.Persistence=Ln;function zP(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ey.getOrCreate(o)),error:e,complete:n}}function yH(t,e){const n=dH(t,e);if(typeof self<"u"&&!n.includes(Bd)&&n.push(Bd),typeof window<"u")for(const r of[TT,la])n.includes(r)||n.push(r);return n.includes(Jl)||n.push(Jl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.providerId="phone",this._delegate=new ca(EM(Sa.auth()))}static credential(e,n){return ca.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}CT.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD;CT.PROVIDER_ID=ca.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=V;class _H{constructor(e,n,r=Sa.app()){var i;vH((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new E7(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="auth-compat";function EH(t){t.INTERNAL.registerComponent(new ii(wH,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Aw(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:La.EMAIL_SIGNIN,PASSWORD_RESET:La.PASSWORD_RESET,RECOVER_EMAIL:La.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:La.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:La.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:La.VERIFY_EMAIL}},EmailAuthProvider:no,FacebookAuthProvider:Ur,GithubAuthProvider:Br,GoogleAuthProvider:br,OAuthProvider:Rl,SAMLAuthProvider:Am,PhoneAuthProvider:CT,PhoneMultiFactorGenerator:pM,RecaptchaVerifier:_H,TwitterAuthProvider:zr,Auth:Aw,AuthCredential:Ac,Error:fn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(eH,tH)}EH(Sa);var TH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,kT=kT||{},Z=TH||self;function ty(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function IH(t){return Object.prototype.hasOwnProperty.call(t,S0)&&t[S0]||(t[S0]=++xH)}var S0="closure_uid_"+(1e9*Math.random()>>>0),xH=0;function SH(t,e,n){return t.call.apply(t.bind,arguments)}function bH(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=SH:rn=bH,rn.apply(null,arguments)}function jf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ro(){this.s=this.s,this.o=this.o}var PH=0;ro.prototype.s=!1;ro.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PH!=0)&&IH(this)};ro.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function NT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function WP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ty(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var RH=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Z.addEventListener("test",n,e),Z.removeEventListener("test",n,e)}catch{}return t}();function zd(t){return/^[\s\xa0]*$/.test(t)}function ny(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Wr(t){return ny().indexOf(t)!=-1}function DT(t){return DT[" "](t),t}DT[" "]=function(){};function AH(t,e){var n=EQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var CH=Wr("Opera"),ec=Wr("Trident")||Wr("MSIE"),xM=Wr("Edge"),Cw=xM||ec,SM=Wr("Gecko")&&!(ny().toLowerCase().indexOf("webkit")!=-1&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),kH=ny().toLowerCase().indexOf("webkit")!=-1&&!Wr("Edge");function bM(){var t=Z.document;return t?t.documentMode:void 0}var kw;e:{var b0="",P0=function(){var t=ny();if(SM)return/rv:([^\);]+)(\)|;)/.exec(t);if(xM)return/Edge\/([\d\.]+)/.exec(t);if(ec)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kH)return/WebKit\/(\S+)/.exec(t);if(CH)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(P0&&(b0=P0?P0[1]:""),ec){var R0=bM();if(R0!=null&&R0>parseFloat(b0)){kw=String(R0);break e}}kw=b0}var Nw;if(Z.document&&ec){var qP=bM();Nw=qP||parseInt(kw,10)||void 0}else Nw=void 0;var NH=Nw;function Wd(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SM){e:{try{DT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wd.$.h.call(this)}}Dt(Wd,sn);var DH={2:"touch",3:"pen",4:"mouse"};Wd.prototype.h=function(){Wd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jh="closure_listenable_"+(1e6*Math.random()|0),OH=0;function VH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++OH,this.fa=this.ia=!1}function ry(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function OT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function MH(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function PM(t){const e={};for(const n in t)e[n]=t[n];return e}const GP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RM(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<GP.length;s++)n=GP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function iy(t){this.src=t,this.g={},this.h=0}iy.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ow(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new VH(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Dw(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=IM(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ry(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ow(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var VT="closure_lm_"+(1e6*Math.random()|0),A0={};function AM(t,e,n,r,i){if(r&&r.once)return kM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AM(t,e[s],n,r,i);return null}return n=$T(n),t&&t[jh]?t.O(e,n,Fh(r)?!!r.capture:!!r,i):CM(t,e,n,!1,r,i)}function CM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fh(i)?!!i.capture:!!i,a=LT(t);if(a||(t[VT]=a=new iy(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=LH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)RH||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LH(){function t(n){return e.call(t.src,t.listener,n)}const e=$H;return t}function kM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kM(t,e[s],n,r,i);return null}return n=$T(n),t&&t[jh]?t.P(e,n,Fh(r)?!!r.capture:!!r,i):CM(t,e,n,!0,r,i)}function NM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NM(t,e[s],n,r,i);else r=Fh(r)?!!r.capture:!!r,n=$T(n),t&&t[jh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ow(s,n,r,i),-1<n&&(ry(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=LT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ow(e,n,r,i)),(n=-1<t?e[t]:null)&&MT(n))}function MT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jh])Dw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=LT(e))?(Dw(n,t),n.h==0&&(n.src=null,e[VT]=null)):ry(t)}}}function DM(t){return t in A0?A0[t]:A0[t]="on"+t}function $H(t,e){if(t.fa)t=!0;else{e=new Wd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MT(t),t=n.call(r,e)}return t}function LT(t){return t=t[VT],t instanceof iy?t:null}var C0="__closure_events_fn_"+(1e9*Math.random()>>>0);function $T(t){return typeof t=="function"?t:(t[C0]||(t[C0]=function(e){return t.handleEvent(e)}),t[C0])}function Nt(){ro.call(this),this.i=new iy(this),this.S=this,this.J=null}Dt(Nt,ro);Nt.prototype[jh]=!0;Nt.prototype.removeEventListener=function(t,e,n,r){NM(this,t,e,n,r)};function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;e=new sn(r,t),RM(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Uf(o,r,!0,e)&&i}if(o=e.g=t,i=Uf(o,r,!0,e)&&i,i=Uf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Uf(o,r,!1,e)&&i}Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ry(n[r]);delete t.g[e],t.h--}}this.J=null};Nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Nt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Uf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Dw(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var FT=Z.JSON.stringify;class FH{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function jH(){var t=jT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UH{constructor(){this.h=this.g=null}add(e,n){const r=OM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var OM=new FH(()=>new BH,t=>t.reset());class BH{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zH(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function WH(t){Z.setTimeout(()=>{throw t},0)}let qd,Gd=!1,jT=new UH,VM=()=>{const t=Z.Promise.resolve(void 0);qd=()=>{t.then(qH)}};var qH=()=>{for(var t;t=jH();){try{t.h.call(t.g)}catch(n){WH(n)}var e=OM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gd=!1};function sy(t,e){Nt.call(this),this.h=t||1,this.g=e||Z,this.j=rn(this.qb,this),this.l=Date.now()}Dt(sy,Nt);j=sy.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(UT(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function UT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){sy.$.N.call(this),UT(this),delete this.g};function BT(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function MM(t){t.g=BT(()=>{t.g=null,t.i&&(t.i=!1,MM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class GH extends ro{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MM(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kd(t){ro.call(this),this.h=t,this.g={}}Dt(Kd,ro);var KP=[];function LM(t,e,n,r){Array.isArray(n)||(n&&(KP[0]=n.toString()),n=KP);for(var i=0;i<n.length;i++){var s=AM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $M(t){OT(t.g,function(e,n){this.g.hasOwnProperty(n)&&MT(e)},t),t.g={}}Kd.prototype.N=function(){Kd.$.N.call(this),$M(this)};Kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function oy(){this.g=!0}oy.prototype.Ea=function(){this.g=!1};function KH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function HH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function gl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YH(t,n)+(r?" "+r:"")})}function QH(t,e){t.info(function(){return"TIMEOUT: "+e})}oy.prototype.info=function(){};function YH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return FT(n)}catch{return e}}var ba={},HP=null;function ay(){return HP=HP||new Nt}ba.Ta="serverreachability";function FM(t){sn.call(this,ba.Ta,t)}Dt(FM,sn);function Hd(t){const e=ay();Gt(e,new FM(e))}ba.STAT_EVENT="statevent";function jM(t,e){sn.call(this,ba.STAT_EVENT,t),this.stat=e}Dt(jM,sn);function dn(t){const e=ay();Gt(e,new jM(e,t))}ba.Ua="timingevent";function UM(t,e){sn.call(this,ba.Ua,t),this.size=e}Dt(UM,sn);function Uh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var ly={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zT(){}zT.prototype.h=null;function QP(t){return t.h||(t.h=t.i())}function zM(){}var Bh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function WT(){sn.call(this,"d")}Dt(WT,sn);function qT(){sn.call(this,"c")}Dt(qT,sn);var Vw;function cy(){}Dt(cy,zT);cy.prototype.g=function(){return new XMLHttpRequest};cy.prototype.i=function(){return{}};Vw=new cy;function zh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kd(this),this.P=XH,t=Cw?125:void 0,this.V=new sy(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WM}function WM(){this.i=null,this.g="",this.h=!1}var XH=45e3,qM={},Mw={};j=zh.prototype;j.setTimeout=function(t){this.P=t};function Lw(t,e,n){t.L=1,t.A=dy(Oi(e)),t.u=n,t.S=!0,GM(t,null)}function GM(t,e){t.G=Date.now(),Wh(t),t.B=Oi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),e2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new WM,t.g=E2(t.l,n?e:null,!t.u),0<t.O&&(t.M=new GH(rn(t.Pa,t,t.g),t.O)),LM(t.U,t.g,"readystatechange",t.nb),e=t.I?PM(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Hd(),KH(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;const e=this.M;e&&Kr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const u=Kr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Cw||this.g&&(this.h.h||this.g.ja()||ZP(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Hd(3):Hd(2)),uy(this);var n=this.g.da();this.ca=n;t:if(KM(this)){var r=ZP(this.g);t="";var i=r.length,s=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Yu(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,HH(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zd(a)){var c=a;break t}}c=null}if(n=c)gl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$w(this,n);else{this.i=!1,this.s=3,dn(12),Lo(this),Yu(this);break e}}this.S?(HM(this,u,o),Cw&&this.i&&u==3&&(LM(this.U,this.V,"tick",this.mb),this.V.start())):(gl(this.j,this.m,o,null),$w(this,o)),u==4&&Lo(this),this.i&&!this.J&&(u==4?y2(this.l,this):(this.i=!1,Wh(this)))}else vQ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Lo(this),Yu(this)}}}catch{}finally{}};function KM(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function HM(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=JH(t,n),i==Mw){e==4&&(t.s=4,dn(14),r=!1),gl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qM){t.s=4,dn(15),gl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else gl(t.j,t.m,i,null),$w(t,i);KM(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XT(e),e.M=!0,dn(11))):(gl(t.j,t.m,n,"[Invalid Chunked Response]"),Lo(t),Yu(t))}j.mb=function(){if(this.g){var t=Kr(this.g),e=this.g.ja();this.o<e.length&&(uy(this),HM(this,t,e),this.i&&t!=4&&Wh(this))}};function JH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Mw:(n=Number(e.substring(n,r)),isNaN(n)?qM:(r+=1,r+n>e.length?Mw:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,Lo(this)};function Wh(t){t.Y=Date.now()+t.P,QM(t,t.P)}function QM(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Uh(rn(t.lb,t),e)}function uy(t){t.C&&(Z.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(QH(this.j,this.B),this.L!=2&&(Hd(),dn(17)),Lo(this),this.s=2,Yu(this)):QM(this,this.Y-t)};function Yu(t){t.l.H==0||t.J||y2(t.l,t)}function Lo(t){uy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,UT(t.V),$M(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $w(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Fw(n.i,t))){if(!t.K&&Fw(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vm(n),my(n);else break e;YT(n),dn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Uh(rn(n.ib,n),6e3));if(1>=r2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $o(n,11)}else if((t.K||n.g==t)&&Vm(n),!zd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.i;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(GT(s,s.h),s.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Oe(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=w2(r,r.J?r.pa:null,r.Y),o.K){i2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(uy(a),Wh(a)),r.g=o}else m2(r);0<n.j.length&&gy(n)}else c[0]!="stop"&&c[0]!="close"||$o(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?$o(n,7):QT(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Hd(4)}catch{}}function ZH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ty(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function eQ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ty(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function YM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ty(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=eQ(t),r=ZH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var XM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xo){this.h=t.h,Dm(this,t.j),this.s=t.s,this.g=t.g,Om(this,t.m),this.l=t.l;var e=t.i,n=new Qd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YP(this,n),this.o=t.o}else t&&(e=String(t).match(XM))?(this.h=!1,Dm(this,e[1]||"",!0),this.s=Cu(e[2]||""),this.g=Cu(e[3]||"",!0),Om(this,e[4]),this.l=Cu(e[5]||"",!0),YP(this,e[6]||"",!0),this.o=Cu(e[7]||"")):(this.h=!1,this.i=new Qd(null,this.h))}Xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ku(e,XP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ku(e,XP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ku(n,n.charAt(0)=="/"?iQ:rQ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ku(n,oQ)),t.join("")};function Oi(t){return new Xo(t)}function Dm(t,e,n){t.j=n?Cu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Om(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YP(t,e,n){e instanceof Qd?(t.i=e,aQ(t.i,t.h)):(n||(e=ku(e,sQ)),t.i=new Qd(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function dy(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ku(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nQ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XP=/[#\/\?@]/g,rQ=/[#\?:]/g,iQ=/[#\?]/g,sQ=/[#\?@]/g,oQ=/#/g;function Qd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function io(t){t.g||(t.g=new Map,t.h=0,t.i&&tQ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Qd.prototype;j.add=function(t,e){io(this),this.i=null,t=kc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JM(t,e){io(t),e=kc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ZM(t,e){return io(t),e=kc(t,e),t.g.has(e)}j.forEach=function(t,e){io(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){io(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){io(this);let e=[];if(typeof t=="string")ZM(this,t)&&(e=e.concat(this.g.get(kc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return io(this),this.i=null,t=kc(this,t),ZM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function e2(t,e,n){JM(t,e),0<n.length&&(t.i=null,t.g.set(kc(t,e),NT(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function kc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aQ(t,e){e&&!t.j&&(io(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JM(this,r),e2(this,i,n))},t)),t.j=e}var lQ=class{constructor(t,e){this.g=t,this.map=e}};function t2(t){this.l=t||cQ,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cQ=10;function n2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function r2(t){return t.h?1:t.g?t.g.size:0}function Fw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function GT(t,e){t.g?t.g.add(e):t.h=e}function i2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}t2.prototype.cancel=function(){if(this.i=s2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function s2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return NT(t.i)}var uQ=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function dQ(){this.g=new uQ}function hQ(t,e,n){const r=n||"";try{YM(t,function(i,s){let o=i;Fh(i)&&(o=FT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fQ(t,e){const n=new oy;if(Z.Image){const r=new Image;r.onload=jf(Bf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jf(Bf,n,r,"TestLoadImage: error",!1,e),r.onabort=jf(Bf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jf(Bf,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hy(t){this.l=t.ec||null,this.j=t.ob||!1}Dt(hy,zT);hy.prototype.g=function(){return new fy(this.l,this.j)};hy.prototype.i=function(t){return function(){return t}}({});function fy(t,e){Nt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=KT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(fy,Nt);var KT=0;j=fy.prototype;j.open=function(t,e){if(this.readyState!=KT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yd(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qh(this)),this.readyState=KT};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;o2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function o2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qh(this):Yd(this),this.readyState==3&&o2(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,qh(this))};j.Ya=function(t){this.g&&(this.response=t,qh(this))};j.ka=function(){this.g&&qh(this)};function qh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yd(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pQ=Z.JSON.parse;function nt(t){Nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=a2,this.L=this.M=!1}Dt(nt,Nt);var a2="",mQ=/^https?$/i,gQ=["POST","PUT"];j=nt.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vw.g(),this.C=this.u?QP(this.u):QP(Vw),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){JP(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=IM(gQ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{u2(this),0<this.B&&((this.L=yQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=BT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){JP(this,s)}};function yQ(t){return ec&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof kT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))};function JP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,l2(t),py(t)}function l2(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),py(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),py(this,!0)),nt.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?c2(this):this.kb())};j.kb=function(){c2(this)};function c2(t){if(t.h&&typeof kT<"u"&&(!t.C[1]||Kr(t)!=4||t.da()!=2)){if(t.v&&Kr(t)==4)BT(t.La,0,t);else if(Gt(t,"readystatechange"),Kr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(XM)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!mQ.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Kr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",l2(t)}}finally{py(t)}}}}function py(t,e){if(t.g){u2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function u2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function Kr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pQ(e)}};function ZP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case a2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vQ(t){const e={};t=(t.g&&2<=Kr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zd(t[r]))continue;var n=zH(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}MH(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function d2(t){let e="";return OT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function HT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=d2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function au(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function h2(t){this.Ga=0,this.j=[],this.l=new oy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=au("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=au("baseRetryDelayMs",5e3,t),this.hb=au("retryDelaySeedMs",1e4,t),this.eb=au("forwardChannelMaxRetries",2,t),this.xa=au("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new t2(t&&t.concurrentRequestLimit),this.Ja=new dQ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=h2.prototype;j.ra=8;j.H=1;function QT(t){if(f2(t),t.H==3){var e=t.W++,n=Oi(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),Gh(t,n),e=new zh(t,t.l,e),e.L=2,e.A=dy(Oi(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=e.A,n=!0),n||(e.g=E2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wh(e)}_2(t)}function my(t){t.g&&(XT(t),t.g.cancel(),t.g=null)}function f2(t){my(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Vm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function gy(t){if(!n2(t.i)&&!t.m){t.m=!0;var e=t.Na;qd||VM(),Gd||(qd(),Gd=!0),jT.add(e,t),t.C=0}}function _Q(t,e){return r2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Uh(rn(t.Na,t,e),v2(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new zh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=PM(s),RM(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=p2(this,i,e),n=Oi(this.I),Oe(n,"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),Gh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(d2(s)))+"&"+e:this.o&&HT(n,this.o,s)),GT(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,Lw(i,n,null)):Lw(i,n,e),this.H=2}}else this.H==3&&(t?eR(this,t):this.j.length==0||n2(this.i)||eR(this))};function eR(t,e){var n;e?n=e.m:n=t.W++;const r=Oi(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),Gh(t,r),t.o&&t.s&&HT(r,t.o,t.s),n=new zh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=p2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),GT(t.i,n),Lw(n,r,e)}function Gh(t,e){t.na&&OT(t.na,function(n,r){Oe(e,r,n)}),t.h&&YM({},function(n,r){Oe(e,r,n)})}function p2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{hQ(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function m2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qd||VM(),Gd||(qd(),Gd=!0),jT.add(e,t),t.A=0}}function YT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Uh(rn(t.Ma,t),v2(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,g2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Uh(rn(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dn(10),my(this),g2(this))};function XT(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function g2(t){t.g=new zh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Oi(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),Gh(t,e),t.o&&t.s&&HT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=dy(Oi(e)),n.u=null,n.S=!0,GM(n,t)}j.ib=function(){this.v!=null&&(this.v=null,my(this),YT(this),dn(19))};function Vm(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function y2(t,e){var n=null;if(t.g==e){Vm(t),XT(t),t.g=null;var r=2}else if(Fw(t.i,e))n=e.F,i2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ay(),Gt(r,new UM(r,n)),gy(t)}else m2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&_Q(t,e)||r==2&&YT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$o(t,5);break;case 4:$o(t,10);break;case 3:$o(t,6);break;default:$o(t,2)}}}function v2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $o(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new Xo("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Dm(n,"https"),dy(n)),fQ(n.toString(),r)}else dn(2);t.H=0,t.h&&t.h.za(e),_2(t),f2(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),dn(2)):(this.l.info("Failed to ping google.com"),dn(1))};function _2(t){if(t.H=0,t.ma=[],t.h){const e=s2(t.i);(e.length!=0||t.j.length!=0)&&(WP(t.ma,e),WP(t.ma,t.j),t.i.i.length=0,NT(t.j),t.j.length=0),t.h.ya()}}function w2(t,e,n){var r=n instanceof Xo?Oi(n):new Xo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Om(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xo(null);r&&Dm(s,r),e&&(s.g=e),i&&Om(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),Gh(t,r),r}function E2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new nt(new hy({ob:n})):new nt(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function T2(){}j=T2.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Mm(){if(ec&&!(10<=Number(NH)))throw Error("Environmental error: no available transport.")}Mm.prototype.g=function(t,e){return new Kn(t,e)};function Kn(t,e){Nt.call(this),this.g=new h2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Nc(this)}Dt(Kn,Nt);Kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;dn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=w2(t,null,t.Y),gy(t)};Kn.prototype.close=function(){QT(this.g)};Kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=FT(t),t=n);e.j.push(new lQ(e.fb++,t)),e.H==3&&gy(e)};Kn.prototype.N=function(){this.g.h=null,delete this.j,QT(this.g),delete this.g,Kn.$.N.call(this)};function I2(t){WT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Dt(I2,WT);function x2(){qT.call(this),this.status=1}Dt(x2,qT);function Nc(t){this.g=t}Dt(Nc,T2);Nc.prototype.Ba=function(){Gt(this.g,"a")};Nc.prototype.Aa=function(t){Gt(this.g,new I2(t))};Nc.prototype.za=function(t){Gt(this.g,new x2)};Nc.prototype.ya=function(){Gt(this.g,"b")};function wQ(){this.blockSize=-1}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Dt(Nr,wQ);Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function k0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)k0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){k0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){k0(this,r),i=0;break}}this.h=i,this.i+=e};Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var EQ={};function JT(t){return-128<=t&&128>t?AH(t,function(e){return new Se([e|0],0>e?-1:0)}):new Se([t|0],0>t?-1:0)}function Hr(t){if(isNaN(t)||!isFinite(t))return Cl;if(0>t)return Bt(Hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jw;return new Se(e,0)}function S2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bt(S2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hr(Math.pow(e,8)),r=Cl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hr(Math.pow(e,s)),r=r.R(s).add(Hr(o))):(r=r.R(n),r=r.add(Hr(o)))}return r}var jw=4294967296,Cl=JT(0),Uw=JT(1),tR=JT(16777216);j=Se.prototype;j.ea=function(){if(lr(this))return-Bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jw+r)*e,e*=jw}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yi(this))return"0";if(lr(this))return"-"+Bt(this).toString(t);for(var e=Hr(Math.pow(t,6)),n=this,r="";;){var i=$m(n,e).g;n=Lm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,yi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function lr(t){return t.h==-1}j.X=function(t){return t=Lm(this,t),lr(t)?-1:yi(t)?0:1};function Bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Se(n,~t.h).add(Uw)}j.abs=function(){return lr(this)?Bt(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Se(n,n[n.length-1]&-2147483648?-1:0)};function Lm(t,e){return t.add(Bt(e))}j.R=function(t){if(yi(this)||yi(t))return Cl;if(lr(this))return lr(t)?Bt(this).R(Bt(t)):Bt(Bt(this).R(t));if(lr(t))return Bt(this.R(Bt(t)));if(0>this.X(tR)&&0>t.X(tR))return Hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,zf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Se(n,0)};function zf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lu(t,e){this.g=t,this.h=e}function $m(t,e){if(yi(e))throw Error("division by zero");if(yi(t))return new lu(Cl,Cl);if(lr(t))return e=$m(Bt(t),e),new lu(Bt(e.g),Bt(e.h));if(lr(e))return e=$m(t,Bt(e)),new lu(Bt(e.g),e.h);if(30<t.g.length){if(lr(t)||lr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Uw,r=e;0>=r.X(t);)n=nR(n),r=nR(r);var i=$a(n,1),s=$a(r,1);for(r=$a(r,2),n=$a(n,2);!yi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$a(r,1),n=$a(n,1)}return e=Lm(t,i.R(e)),new lu(i,e)}for(i=Cl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hr(n),o=s.R(e);lr(o)||0<o.X(t);)n-=r,s=Hr(n),o=s.R(e);yi(s)&&(s=Uw),i=i.add(s),t=Lm(t,o)}return new lu(i,t)}j.gb=function(t){return $m(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Se(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Se(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Se(n,this.h^t.h)};function nR(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Se(n,t.h)}function $a(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Se(i,t.h)}Mm.prototype.createWebChannel=Mm.prototype.g;Kn.prototype.send=Kn.prototype.u;Kn.prototype.open=Kn.prototype.m;Kn.prototype.close=Kn.prototype.close;ly.NO_ERROR=0;ly.TIMEOUT=8;ly.HTTP_ERROR=6;BM.COMPLETE="complete";zM.EventType=Bh;Bh.OPEN="a";Bh.CLOSE="b";Bh.ERROR="c";Bh.MESSAGE="d";Nt.prototype.listen=Nt.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;Nr.prototype.digest=Nr.prototype.l;Nr.prototype.reset=Nr.prototype.reset;Nr.prototype.update=Nr.prototype.j;Se.prototype.add=Se.prototype.add;Se.prototype.multiply=Se.prototype.R;Se.prototype.modulo=Se.prototype.gb;Se.prototype.compare=Se.prototype.X;Se.prototype.toNumber=Se.prototype.ea;Se.prototype.toString=Se.prototype.toString;Se.prototype.getBits=Se.prototype.D;Se.fromNumber=Hr;Se.fromString=S2;var TQ=function(){return new Mm},IQ=function(){return ay()},N0=ly,xQ=BM,SQ=ba,rR={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wf=zM,bQ=nt,PQ=Nr,kl=Se;const iR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new zg("@firebase/firestore");function Qa(){return Fs.logLevel}function RQ(t){Fs.setLogLevel(t)}function k(t,...e){if(Fs.logLevel<=ae.DEBUG){const n=e.map(ZT);Fs.debug(`Firestore (${Dc}): ${t}`,...n)}}function ct(t,...e){if(Fs.logLevel<=ae.ERROR){const n=e.map(ZT);Fs.error(`Firestore (${Dc}): ${t}`,...n)}}function Dr(t,...e){if(Fs.logLevel<=ae.WARN){const n=e.map(ZT);Fs.warn(`Firestore (${Dc}): ${t}`,...n)}}function ZT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t="Unexpected state"){const e=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: `+t;throw ct(e),new Error(e)}function W(t,e){t||B()}function AQ(t,e){t||B()}function F(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class kQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NQ{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new At;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new At,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new At)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W(typeof r.accessToken=="string"),new b2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(e===null||typeof e=="string"),new Pt(e)}}class DQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(W(typeof n.token=="string"),this.R=n.token,new VQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function R2(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ue(0,0))}static max(){return new q(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends Xd{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const $Q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Xd{construct(e,n,r){return new Fe(e,n,r)}static isValidIdentifier(e){return $Q.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new C(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new C(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(le.fromString(e))}static fromName(e){return new L(le.fromString(e).popFirst(5))}static empty(){return new L(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Bw(t){return t.fields.find(e=>e.kind===2)}function wo(t){return t.fields.filter(e=>e.kind!==2)}Fm.UNKNOWN_ID=-1;class bp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jd(0,Hn.min())}}function A2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new Hn(i,L.empty(),e)}function C2(t){return new Hn(t.readTime,t.key,-1)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(q.min(),L.empty(),-1)}static max(){return new Hn(q.max(),L.empty(),-1)}}function eI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==k2)throw t;k("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new At,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=tI(r.target.error);this.V.reject(new Xu(e,i))}}static open(e,n,r,i){try{return new yy(n,e.transaction(i,r))}catch(s){throw new Xu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new jQ(n)}}class ur{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ur.S(Be())===12.2&&ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return k("SimpleDb","Removing database:",e),bo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dd())return!1;if(ur.C())return!0;const e=Be(),n=ur.S(e),r=0<n&&n<10,i=ur.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(k("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new C(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xu(e,o))},i.onupgradeneeded=s=>{k("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{k("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=yy.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),b.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(k("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class FQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return bo(this.k.delete())}}class Xu extends C{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function oo(t){return t.name==="IndexedDbTransactionError"}class jQ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),bo(r)}add(e){return k("SimpleDb","ADD",this.store.name,e,e),bo(this.store.add(e))}get(e){return bo(this.store.get(e)).next(n=>(n===void 0&&(n=null),k("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return k("SimpleDb","DELETE",this.store.name,e),bo(this.store.delete(e))}count(){return k("SimpleDb","COUNT",this.store.name),bo(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new b((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){k("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{const o=tI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new FQ(a),c=n(a.primaryKey,a.value,l);if(c instanceof b){const u=c.catch(d=>(l.done(),b.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function bo(t){return new b((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=tI(r.target.error);n(i)}})}let sR=!1;function tI(t){const e=ur.S(Be());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sR||(sR=!0,setTimeout(()=>{throw r},0)),r}}return t}class UQ{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){k("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{k("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){oo(n)?k("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await so(n)}await this.ee(6e4)})}}class BQ{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return b.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return k("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(k("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=C2(s);eI(o,r)>0&&(r=o)}),new Hn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}xn._e=-1;function Kh(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function D2(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oR(e)),e=zQ(t.get(n),e);return oR(e)}function zQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function oR(t){return t+""}function Qr(t){const e=t.length;if(W(e>=2),e===2)return W(t.charAt(0)===""&&t.charAt(1)===""),le.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&B(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:B()}s=o+2}return new le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e){return[t,pn(e)]}function O2(t,e,n){return[t,pn(e),n]}const WQ={},qQ=["prefixPath","collectionGroup","readTime","documentId"],GQ=["prefixPath","collectionGroup","documentId"],KQ=["collectionGroup","readTime","prefixPath","documentId"],HQ=["canonicalId","targetId"],QQ=["targetId","path"],YQ=["path","targetId"],XQ=["collectionId","parent"],JQ=["indexId","uid"],ZQ=["uid","sequenceNumber"],eY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tY=["indexId","uid","orderedDocumentKey"],nY=["userId","collectionPath","documentId"],rY=["userId","collectionPath","largestBatchId"],iY=["userId","collectionGroup","largestBatchId"],V2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sY=[...V2,"documentOverlays"],M2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],L2=M2,oY=[...L2,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends N2{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ot(t,e){const n=F(t);return ur.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cR(this.data.getIterator())}getIteratorFrom(e){return new cR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class cR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Re(Fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new F2("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const lY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(W(!!t),typeof t=="string"){let e=0;const n=lY.exec(t);if(W(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nI(t){const e=t.mapValue.fields.__previous_value__;return vy(e)?nI(e):e}function eh(t){const e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Bs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rp={nullValue:"NULL_VALUE"};function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vy(t)?4:j2(t)?9007199254740991:10:B()}function oi(t,e){if(t===e)return!0;const n=da(t);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=js(i.timestampValue),a=js(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Us(i.bytesValue).isEqual(Us(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),a=Ze(s.doubleValue);return o===a?Zd(o)===Zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lR(o)!==lR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!oi(o[l],a[l])))return!1;return!0}(t,e);default:return B()}}function th(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function zs(t,e){if(t===e)return 0;const n=da(t),r=da(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ze(s.integerValue||s.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uR(t.timestampValue,e.timestampValue);case 4:return uR(eh(t),eh(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Us(s),l=Us(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ee(a[c],l[c]);if(u!==0)return u}return ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ee(Ze(s.latitude),Ze(o.latitude));return a!==0?a:ee(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=zs(a[c],l[c]);if(u)return u}return ee(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===vs.mapValue&&o===vs.mapValue)return 0;if(s===vs.mapValue)return 1;if(o===vs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=ee(l[d],u[d]);if(h!==0)return h;const p=zs(a[l[d]],c[u[d]]);if(p!==0)return p}return ee(l.length,u.length)}(t.mapValue,e.mapValue);default:throw B()}}function uR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=js(t),r=js(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function nc(t){return Ww(t)}function Ww(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ww(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ww(n.fields[o])}`;return i+"}"}(t.mapValue):B()}function ha(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qw(t){return!!t&&"integerValue"in t}function nh(t){return!!t&&"arrayValue"in t}function dR(t){return!!t&&"nullValue"in t}function hR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ap(t){return!!t&&"mapValue"in t}function Ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ju(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function uY(t){return"nullValue"in t?Rp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ha(Bs.empty(),L.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:B()}function dY(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ha(Bs.empty(),L.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vs:B()}function fR(t,e){const n=zs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pR(t,e){const n=zs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=Fe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ju(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(Ju(this.value))}}function U2(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new Fe([n]);if(Ap(r)){const s=U2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,q.min(),q.min(),q.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,q.min(),q.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,q.min(),q.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.position=e,this.inclusive=n}}function mR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{}class ce extends B2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fY(e,n,r):n==="array-contains"?new gY(e,r):n==="in"?new H2(e,r):n==="not-in"?new yY(e,r):n==="array-contains-any"?new vY(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pY(e,r):new mY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ie extends B2{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ie(e,n)}matches(e){return rc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rc(t){return t.op==="and"}function Gw(t){return t.op==="or"}function rI(t){return z2(t)&&rc(t)}function z2(t){for(const e of t.filters)if(e instanceof Ie)return!1;return!0}function Kw(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(rI(t))return t.filters.map(e=>Kw(e)).join(",");{const e=t.filters.map(n=>Kw(n)).join(",");return`${t.op}(${e})`}}function W2(t,e){return t instanceof ce?function(r,i){return i instanceof ce&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)}(t,e):t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&W2(o,i.filters[a]),!0):!1}(t,e):void B()}function q2(t,e){const n=t.filters.concat(e);return Ie.create(n,t.op)}function G2(t){return t instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof Ie?function(n){return n.op.toString()+" {"+n.getFilters().map(G2).join(" ,")+"}"}(t):"Filter"}class fY extends ce{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class pY extends ce{constructor(e,n){super(e,"in",n),this.keys=K2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mY extends ce{constructor(e,n){super(e,"not-in",n),this.keys=K2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class gY extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nh(n)&&th(n.arrayValue,this.value)}}class H2 extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class yY extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!th(this.value.arrayValue,n)}}class vY extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>th(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Hw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _Y(t,e,n,r,i,s,o)}function fa(t){const e=F(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.ce=n}return e.ce}function Hh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gR(t.startAt,e.startAt)&&gR(t.endAt,e.endAt)}function jm(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Um(t,e){return t.filters.filter(n=>n instanceof ce&&n.field.isEqual(e))}function yR(t,e,n){let r=Rp,i=!0;for(const s of Um(t,e)){let o=Rp,a=!0;switch(s.op){case"<":case"<=":o=uY(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Rp}fR({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];fR({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function vR(t,e,n){let r=vs,i=!0;for(const s of Um(t,e)){let o=vs,a=!0;switch(s.op){case">=":case">":o=dY(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=vs}pR({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];pR({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Q2(t,e,n,r,i,s,o,a){return new Wi(t,e,n,r,i,s,o,a)}function Oc(t){return new Wi(t)}function _R(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iI(t){return t.collectionGroup!==null}function Nl(t){const e=F(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Re(Fe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new rh(s,r))}),n.has(Fe.keyField().canonicalString())||e.le.push(new rh(Fe.keyField(),r))}return e.le}function mn(t){const e=F(t);return e.he||(e.he=wY(e,Nl(t))),e.he}function wY(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rh(i.field,s)});const n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qw(t,e){const n=t.filters.concat([e]);return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qh(t,e){return Hh(mn(t),mn(e))&&t.limitType===e.limitType}function Y2(t){return`${fa(mn(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G2(i)).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(mn(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):L.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=mR(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Nl(r),i)||r.endAt&&!function(o,a,l){const c=mR(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Nl(r),i))}(t,e)}function X2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J2(t){return(e,n)=>{let r=!1;for(const i of Nl(t)){const s=EY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function EY(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?zs(l,c):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=new Ce(L.comparator);function bn(){return TY}const Z2=new Ce(L.comparator);function Nu(...t){let e=Z2;for(const n of t)e=e.insert(n.key,n);return e}function eL(t){let e=Z2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return Zu()}function tL(){return Zu()}function Zu(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const IY=new Ce(L.comparator),xY=new Re(L.comparator);function ne(...t){let e=xY;for(const n of t)e=e.add(n);return e}const SY=new Re(ee);function sI(){return SY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function rL(t){return{integerValue:""+t}}function iL(t,e){return D2(e)?rL(e):nL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this._=void 0}}function bY(t,e,n){return t instanceof ic?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vy(s)&&(s=nI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pa?oL(t,e):t instanceof ma?aL(t,e):function(i,s){const o=sL(i,s),a=wR(o)+wR(i.Ie);return qw(o)&&qw(i.Ie)?rL(a):nL(i.serializer,a)}(t,e)}function PY(t,e,n){return t instanceof pa?oL(t,e):t instanceof ma?aL(t,e):n}function sL(t,e){return t instanceof sc?function(r){return qw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ic extends _y{}class pa extends _y{constructor(e){super(),this.elements=e}}function oL(t,e){const n=lL(e);for(const r of t.elements)n.some(i=>oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends _y{constructor(e){super(),this.elements=e}}function aL(t,e){let n=lL(e);for(const r of t.elements)n=n.filter(i=>!oi(i,r));return{arrayValue:{values:n}}}class sc extends _y{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function wR(t){return Ze(t.integerValue||t.doubleValue)}function lL(t){return nh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.field=e,this.transform=n}}function RY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pa&&i instanceof pa||r instanceof ma&&i instanceof ma?tc(r.elements,i.elements,oi):r instanceof sc&&i instanceof sc?oi(r.Ie,i.Ie):r instanceof ic&&i instanceof ic}(t.transform,e.transform)}class AY{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wy{}function cL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mc(t.key,je.none()):new Vc(t.key,t.data,je.none());{const n=t.data,r=zt.empty();let i=new Re(Fe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qi(t.key,r,new Sn(i.toArray()),je.none())}}function CY(t,e,n){t instanceof Vc?function(i,s,o){const a=i.value.clone(),l=TR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(i,s,o){if(!Cp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=TR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(uL(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ed(t,e,n,r){return t instanceof Vc?function(s,o,a,l){if(!Cp(s.precondition,o))return a;const c=s.value.clone(),u=IR(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(s,o,a,l){if(!Cp(s.precondition,o))return a;const c=IR(s.fieldTransforms,l,o),u=o.data;return u.setAll(uL(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Cp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function kY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sL(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function ER(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(s,o)=>RY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends wy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TR(t,e,n){const r=new Map;W(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,PY(o,a,n[i]))}return r}function IR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bY(s,o,e))}return r}class Mc extends wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oI extends wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&CY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=cL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>ER(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>ER(n,r))}}class lI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){W(e.mutations.length===r.length);let i=function(){return IY}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,he;function dL(t){switch(t){default:return B();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function hL(t){if(t===void 0)return ct("GRPC error has no .code"),R.UNKNOWN;switch(t){case pt.OK:return R.OK;case pt.CANCELLED:return R.CANCELLED;case pt.UNKNOWN:return R.UNKNOWN;case pt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case pt.INTERNAL:return R.INTERNAL;case pt.UNAVAILABLE:return R.UNAVAILABLE;case pt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case pt.NOT_FOUND:return R.NOT_FOUND;case pt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case pt.ABORTED:return R.ABORTED;case pt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case pt.DATA_LOSS:return R.DATA_LOSS;default:return B()}}(he=pt||(pt={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY=new kl([4294967295,4294967295],0);function xR(t){const e=fL().encode(t),n=new PQ;return n.update(e),new Uint8Array(n.digest())}function SR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kl([n,r],0),new kl([i,s],0)]}class uI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=kl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(kl.fromNumber(r)));return i.compare(DY)===1&&(i=new kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=xR(e),[r,i]=SR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=xR(e),[r,i]=SR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(q.min(),i,new Ce(ee),bn(),ne())}}class Zh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class pL{constructor(e,n){this.targetId=e,this.fe=n}}class mL{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bR{constructor(){this.ge=0,this.pe=RR(),this.ye=It.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new Zh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=RR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,W(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class OY{constructor(e){this.Le=e,this.ke=new Map,this.qe=bn(),this.Qe=PR(),this.Ke=new Ce(ee)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(jm(s))if(r===0){const o=new L(s.path);this.We(n,o,Ve.newNoDocument(o,q.min()))}else W(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Us(r).toUint8Array()}catch(l){if(l instanceof F2)return Dr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uI(o,i,s)}catch(l){return Dr(l instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&jm(a.target)){const l=new L(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ve.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Jh(e,n,this.Ke,this.qe,r);return this.qe=bn(),this.Qe=PR(),this.Ke=new Ce(ee),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new bR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Re(ee),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new bR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function PR(){return new Ce(L.comparator)}function RR(){return new Ce(L.comparator)}const VY={asc:"ASCENDING",desc:"DESCENDING"},MY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LY={and:"AND",or:"OR"};class $Y{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yw(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FY(t,e){return oc(t,e.toTimestamp())}function ut(t){return W(!!t),q.fromTimestamp(function(n){const r=js(n);return new Ue(r.seconds,r.nanos)}(t))}function dI(t,e){return Xw(t,e).canonicalString()}function Xw(t,e){const n=function(i){return new le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yL(t){const e=le.fromString(t);return W(PL(e)),e}function ih(t,e){return dI(t.databaseId,e.path)}function ei(t,e){const n=yL(e);if(n.get(1)!==t.databaseId.projectId)throw new C(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(wL(n))}function vL(t,e){return dI(t.databaseId,e)}function _L(t){const e=yL(t);return e.length===4?le.emptyPath():wL(e)}function Jw(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wL(t){return W(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AR(t,e,n){return{name:ih(t,e),fields:n.value.mapValue.fields}}function EL(t,e,n){const r=ei(t,e.name),i=ut(e.updateTime),s=e.createTime?ut(e.createTime):q.min(),o=new zt({mapValue:{fields:e.fields}}),a=Ve.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function jY(t,e){return"found"in e?function(r,i){W(!!i.found),i.found.name,i.found.updateTime;const s=ei(r,i.found.name),o=ut(i.found.updateTime),a=i.found.createTime?ut(i.found.createTime):q.min(),l=new zt({mapValue:{fields:i.found.fields}});return Ve.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){W(!!i.missing),W(!!i.readTime);const s=ei(r,i.missing),o=ut(i.readTime);return Ve.newNoDocument(s,o)}(t,e):B()}function UY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(W(u===void 0||typeof u=="string"),It.fromBase64String(u||"")):(W(u===void 0||u instanceof Uint8Array),It.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?R.UNKNOWN:hL(c.code);return new C(u,c.message||"")}(o);n=new mL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ei(t,r.document.name),s=ut(r.document.updateTime),o=r.document.createTime?ut(r.document.createTime):q.min(),a=new zt({mapValue:{fields:r.document.fields}}),l=Ve.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new kp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ei(t,r.document),s=r.readTime?ut(r.readTime):q.min(),o=Ve.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ei(t,r.document),s=r.removedTargetIds||[];n=new kp([],s,i,null)}else{if(!("filter"in e))return B();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new NY(i,s),a=r.targetId;n=new pL(a,o)}}return n}function sh(t,e){let n;if(e instanceof Vc)n={update:AR(t,e.key,e.value)};else if(e instanceof Mc)n={delete:ih(t,e.key)};else if(e instanceof qi)n={update:AR(t,e.key,e.data),updateMask:KY(e.fieldMask)};else{if(!(e instanceof oI))return B();n={verify:ih(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ma)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:FY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:B()}(t,e.precondition)),n}function Zw(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?je.updateTime(ut(s.updateTime)):s.exists!==void 0?je.exists(s.exists):je.none()}(e.currentDocument):je.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)W(a.setToServerValue==="REQUEST_TIME"),l=new ic;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new pa(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new ma(u)}else"increment"in a?l=new sc(o,a.increment):B();const c=Fe.fromServerFormat(a.fieldPath);return new Xh(c,l)}(t,i)):[];if(e.update){e.update.name;const i=ei(t,e.update.name),s=new zt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Sn(c.map(u=>Fe.fromServerFormat(u)))}(e.updateMask);return new qi(i,s,o,n,r)}return new Vc(i,s,n,r)}if(e.delete){const i=ei(t,e.delete);return new Mc(i,n)}if(e.verify){const i=ei(t,e.verify);return new oI(i,n)}return B()}function BY(t,e){return t&&t.length>0?(W(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ut(i.updateTime):ut(s);return o.isEqual(q.min())&&(o=ut(s)),new AY(o,i.transformResults||[])}(n,e))):[]}function TL(t,e){return{documents:[vL(t,e.path)]}}function IL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vL(t,i);const s=function(c){if(c.length!==0)return bL(Ie.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Xa(h.field),direction:WY(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function xL(t){let e=_L(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){W(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=SL(d);return h instanceof Ie&&rI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(f){return new rh(Ja(f.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Kh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Ws(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Ws(p,h)}(n.endAt)),Q2(e,i,o,s,a,"F",l,c)}function zY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(n.unaryFilter.field);return ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ja(n.unaryFilter.field);return ce.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ja(n.unaryFilter.field);return ce.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(n){return ce.create(Ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ie.create(n.compositeFilter.filters.map(r=>SL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B()}function WY(t){return VY[t]}function qY(t){return MY[t]}function GY(t){return LY[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Fe.fromServerFormat(t.fieldPath)}function bL(t){return t instanceof ce?function(n){if(n.op==="=="){if(hR(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(dR(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hR(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(dR(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:qY(n.op),value:n.value}}}(t):t instanceof Ie?function(n){const r=n.getFilters().map(i=>bL(i));return r.length===1?r[0]:{compositeFilter:{op:GY(n.op),filters:r}}}(t):B()}function KY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s=q.min(),o=q.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.ct=e}}function HY(t,e){let n;if(e.document)n=EL(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=L.fromSegments(e.noDocument.path),i=ya(e.noDocument.readTime);n=Ve.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return B();{const r=L.fromSegments(e.unknownDocument.path),i=ya(e.unknownDocument.version);n=Ve.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ue(i[0],i[1]);return q.fromTimestamp(s)}(e.readTime)),n}function CR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:ih(s,o.key),fields:o.data.value.mapValue.fields,updateTime:oc(s,o.version.toTimestamp()),createTime:oc(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ga(e.version)};else{if(!e.isUnknownDocument())return B();r.unknownDocument={path:n.path.toArray(),version:ga(e.version)}}return r}function zm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ga(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ya(t){const e=new Ue(t.seconds,t.nanoseconds);return q.fromTimestamp(e)}function Po(t,e){const n=(e.baseMutations||[]).map(s=>Zw(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Zw(t.ct,s)),i=Ue.fromMillis(e.localWriteTimeMs);return new aI(e.batchId,i,n,r)}function Ou(t){const e=ya(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ya(t.lastLimboFreeSnapshotVersion):q.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return W(s.documents.length===1),mn(Oc(_L(s.documents[0])))}(t.query):function(s){return mn(xL(s))}(t.query),new vi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,It.fromBase64String(t.resumeToken))}function AL(t,e){const n=ga(e.snapshotVersion),r=ga(e.lastLimboFreeSnapshotVersion);let i;i=jm(e.target)?TL(t.ct,e.target):IL(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fa(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hI(t){const e=xL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}function D0(t,e){return new cI(e.largestBatchId,Zw(t.ct,e.overlayMutation))}function kR(t,e){const n=e.path.lastSegment();return[t,pn(e.path.popLast()),n]}function NR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ga(r.readTime),documentKey:pn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{getBundleMetadata(e,n){return DR(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ya(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return DR(e).put(function(i){return{bundleId:i.id,createTime:ga(ut(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return OR(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:hI(s.bundledQuery),readTime:ya(s.readTime)}}(r)})}saveNamedQuery(e,n){return OR(e).put(function(i){return{name:i.name,readTime:ga(ut(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function DR(t){return Ot(t,"bundles")}function OR(t){return Ot(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Ey(e,r)}getOverlay(e,n){return cu(e).get(kR(this.userId,n)).next(r=>r?D0(this.serializer,r):null)}getOverlays(e,n){const r=Yr();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new cI(n,o);i.push(this.ht(e,a))}),b.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(pn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(cu(e).H("collectionPathOverlayIndex",a))}),b.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Yr(),s=pn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cu(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=D0(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Yr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cu(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=D0(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return cu(e).put(function(i,s,o){const[a,l,c]=kR(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sh(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function cu(t){return Ot(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Zd(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Us(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?j2(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):B()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),L.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Ro.bt=new Ro;function YY(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function VR(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=YY(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class XY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Bt(e){const n=this.Lt(e),r=VR(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Lt(e),r=VR(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class JY{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class ZY{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class uu{constructor(){this.Gt=new XY,this.zt=new JY(this.Gt),this.jt=new ZY(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ao(this.indexId,this.documentKey,this.arrayValue,r)}}function es(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=MR(t.arrayValue,e.arrayValue),n!==0?n:(n=MR(t.directionalValue,e.directionalValue),n!==0?n:L.comparator(t.documentKey,e.documentKey)))}function MR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.Yt=new Re((n,r)=>Fe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(W(e.collectionGroup===this.collectionId),this.en)return!1;const n=Bw(e);if(n!==void 0&&!this.nn(n))return!1;const r=wo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Re(Fe.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bp(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bp(r.field,r.dir==="asc"?0:1)));return new Fm(Fm.UNKNOWN_ID,this.collectionId,n,Jd.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){var e,n;if(W(t instanceof ce||t instanceof Ie),t instanceof ce){if(t instanceof H2){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ce.create(t.field,"==",s)))||[];return Ie.create(i,"or")}return t}const r=t.filters.map(i=>CL(i));return Ie.create(r,t.op)}function eX(t){if(t.getFilters().length===0)return[];const e=nE(CL(t));return W(kL(e)),eE(e)||tE(e)?[e]:e.getFilters()}function eE(t){return t instanceof ce}function tE(t){return t instanceof Ie&&rI(t)}function kL(t){return eE(t)||tE(t)||function(n){if(n instanceof Ie&&Gw(n)){for(const r of n.getFilters())if(!eE(r)&&!tE(r))return!1;return!0}return!1}(t)}function nE(t){if(W(t instanceof ce||t instanceof Ie),t instanceof ce)return t;if(t.filters.length===1)return nE(t.filters[0]);const e=t.filters.map(r=>nE(r));let n=Ie.create(e,t.op);return n=Wm(n),kL(n)?n:(W(n instanceof Ie),W(rc(n)),W(n.filters.length>1),n.filters.reduce((r,i)=>fI(r,i)))}function fI(t,e){let n;return W(t instanceof ce||t instanceof Ie),W(e instanceof ce||e instanceof Ie),n=t instanceof ce?e instanceof ce?function(i,s){return Ie.create([i,s],"and")}(t,e):$R(t,e):e instanceof ce?$R(e,t):function(i,s){if(W(i.filters.length>0&&s.filters.length>0),rc(i)&&rc(s))return q2(i,s.getFilters());const o=Gw(i)?i:s,a=Gw(i)?s:i,l=o.filters.map(c=>fI(c,a));return Ie.create(l,"or")}(t,e),Wm(n)}function $R(t,e){if(rc(e))return q2(e,t.getFilters());{const n=e.filters.map(r=>fI(t,r));return Ie.create(n,"or")}}function Wm(t){if(W(t instanceof ce||t instanceof Ie),t instanceof ce)return t;const e=t.getFilters();if(e.length===1)return Wm(e[0]);if(z2(t))return t;const n=e.map(i=>Wm(i)),r=[];return n.forEach(i=>{i instanceof ce?r.push(i):i instanceof Ie&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ie.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(){this._n=new pI}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Hn.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class pI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Uint8Array(0);class nX{constructor(e,n){this.databaseId=n,this.an=new pI,this.un=new ao(r=>fa(r),(r,i)=>Hh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:pn(i)};return FR(e).put(s)}return b.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[R2(n),""],!1,!0);return FR(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Qr(o.parent))}return r})}addFieldIndex(e,n){const r=du(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ua(e);return s.next(a=>{o.put(NR(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=du(e),i=Ua(e),s=ja(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=du(e),r=ja(e),i=Ua(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return b.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new LR(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ja(e);let i=!0;const s=new Map;return b.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ne();const a=[];return b.forEach(s,(l,c)=>{k("IndexedDbIndexManager",`Using index ${function(y){return`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(l)} to execute ${fa(n)}`);const u=function(y,T){const I=Bw(T);if(I===void 0)return null;for(const x of Um(y,I.fieldPath))switch(x.op){case"array-contains-any":return x.value.arrayValue.values||[];case"array-contains":return[x.value]}return null}(c,l),d=function(y,T){const I=new Map;for(const x of wo(T))for(const S of Um(y,x.fieldPath))switch(S.op){case"==":case"in":I.set(x.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return I.set(x.fieldPath.canonicalString(),S.value),Array.from(I.values())}return null}(c,l),h=function(y,T){const I=[];let x=!0;for(const S of wo(T)){const P=S.kind===0?yR(y,S.fieldPath,y.startAt):vR(y,S.fieldPath,y.startAt);I.push(P.value),x&&(x=P.inclusive)}return new Ws(I,x)}(c,l),p=function(y,T){const I=[];let x=!0;for(const S of wo(T)){const P=S.kind===0?vR(y,S.fieldPath,y.endAt):yR(y,S.fieldPath,y.endAt);I.push(P.value),x&&(x=P.inclusive)}return new Ws(I,x)}(c,l),f=this.hn(l,c,h),m=this.hn(l,c,p),w=this.Pn(l,c,d),_=this.In(l.indexId,u,f,h.inclusive,m,p.inclusive,w);return b.forEach(_,v=>r.j(v,n.limit).next(y=>{y.forEach(T=>{const I=L.fromSegments(T.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return b.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=eX(Ie.create(e.filters,"and")).map(r=>Hw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/c]):Gf,p=this.En(e,h,r[d%c],i),f=this.dn(e,h,s[d%c],o),m=a.map(w=>this.En(e,h,w,!0));u.push(...this.createRange(p,f,m))}return u}En(e,n,r,i){const s=new Ao(e,L.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Ao(e,L.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new LR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return b.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Re(Fe.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new uu;for(const i of wo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Ro.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new uu;return Ro.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new uu;return Ro.bt.Pt(ha(this.databaseId,n),r.Ht(function(s){const o=wo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new uu);let s=0;for(const o of wo(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&nh(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Ro.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new uu;l.seed(a.Wt()),Ro.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=du(e),i=Ua(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return b.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Jd(d.sequenceNumber,new Hn(ya(d.readTime),new L(Qr(d.documentKey)),d.largestBatchId)):Jd.empty(),p=u.fields.map(([f,m])=>new bp(Fe.fromServerFormat(f),m));return new Fm(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=du(e),s=Ua(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>b.forEach(a,l=>s.put(NR(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return b.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?b.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),b.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?b.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return ja(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return ja(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=ja(e);let s=new Re(es);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ao(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Re(es);const i=this.An(n,e);if(i==null)return r;const s=Bw(n);if(s!=null){const o=e.data.field(s.fieldPath);if(nh(o))for(const a of o.arrayValue.values||[])r=r.add(new Ao(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ao(n.indexId,e.key,Gf,i));return r}wn(e,n,r,i,s){k("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,h){const p=l.getIterator(),f=c.getIterator();let m=Fa(p),w=Fa(f);for(;m||w;){let _=!1,v=!1;if(m&&w){const y=u(m,w);y<0?v=!0:y>0&&(_=!0)}else m!=null?v=!0:_=!0;_?(d(w),w=Fa(f)):v?(h(m),m=Fa(p)):(m=Fa(p),w=Fa(f))}}(i,s,es,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),b.waitFor(o)}gn(e){let n=1;return Ua(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>es(o,a)).filter((o,a,l)=>!a||es(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=es(o,e),l=es(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Gf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Gf,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return es(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jR)}getMinOffset(e,n){return b.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||B())).next(jR)}}function FR(t){return Ot(t,"collectionParents")}function ja(t){return Ot(t,"indexEntries")}function du(t){return Ot(t,"indexConfiguration")}function Ua(t){return Ot(t,"indexState")}function jR(t){W(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;eI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class En{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{W(a===1)}));const c=[];for(const u of n.mutations){const d=O2(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return b.waitFor(s).next(()=>c)}function qm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw B();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Ty{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){W(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ty(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ts(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Za(e),o=ts(e);return o.add({}).next(a=>{W(typeof a=="number");const l=new aI(a,n,r,i),c=function(p,f,m){const w=m.baseMutations.map(v=>sh(p.ct,v)),_=m.mutations.map(v=>sh(p.ct,v));return{userId:f,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:w,mutations:_}}(this.serializer,this.userId,l),u=[];let d=new Re((h,p)=>ee(h.canonicalString(),p.canonicalString()));for(const h of i){const p=O2(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,WQ))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),b.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return ts(e).get(n).next(r=>r?(W(r.userId===this.userId),Po(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?b.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ts(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(W(a.batchId>=r),s=Po(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ts(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ts(e).W("userMutationsIndex",n).next(r=>r.map(i=>Po(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Pp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Za(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,h=Qr(u);if(c===this.userId&&n.path.isEqual(h))return ts(e).get(d).next(p=>{if(!p)throw B();W(p.userId===this.userId),s.push(Po(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(ee);const i=[];return n.forEach(s=>{const o=Pp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Za(e).Y({range:a},(c,u,d)=>{const[h,p,f]=c,m=Qr(p);h===this.userId&&s.path.isEqual(m)?r=r.add(f):d.done()});i.push(l)}),b.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Pp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Re(ee);return Za(e).Y({range:o},(l,c,u)=>{const[d,h,p]=l,f=Qr(h);d===this.userId&&r.isPrefixOf(f)?f.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ts(e).get(s).next(o=>{if(o===null)throw B();W(o.userId===this.userId),r.push(Po(this.serializer,o))}))}),b.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return NL(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),b.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return b.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Za(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Qr(s[1]);i.push(l)}else a.done()}).next(()=>{W(i.length===0)})})}containsKey(e,n){return DL(e,this.userId,n)}xn(e){return OL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DL(t,e,n){const r=Pp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Za(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function ts(t){return Ot(t,"mutations")}function Za(t){return Ot(t,"documentMutations")}function OL(t){return Ot(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new va(0)}static Bn(){return new va(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const r=new va(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>q.fromTimestamp(new Ue(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ba(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(W(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ba(e).Y((o,a)=>{const l=Ou(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>b.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ba(e).Y((r,i)=>{const s=Ou(i);n(s)})}Ln(e){return BR(e).get("targetGlobalKey").next(n=>(W(n!==null),n))}kn(e,n){return BR(e).put("targetGlobalKey",n)}qn(e,n){return Ba(e).put(AL(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ba(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Ou(a);Hh(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ds(e);return n.forEach(o=>{const a=pn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),b.waitFor(i)}removeMatchingKeys(e,n,r){const i=ds(e);return b.forEach(n,s=>{const o=pn(s.path);return b.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ds(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ds(e);let s=ne();return i.Y({range:r,J:!0},(o,a,l)=>{const c=Qr(o[1]),u=new L(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=pn(n.path),i=IDBKeyRange.bound([r],[R2(r)],!1,!0);let s=0;return ds(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return Ba(e).get(n).next(r=>r?Ou(r):null)}}function Ba(t){return Ot(t,"targets")}function BR(t){return Ot(t,"targetGlobal")}function ds(t){return Ot(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class iX{constructor(e){this.Kn=e,this.buffer=new Re(zR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){k("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.zn(3e5)})}}class oX{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return b.resolve(xn._e);const r=new iX(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(UR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UR):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Qa()<=ae.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function aX(t,e){return new oX(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e,n){this.db=e,this.garbageCollector=aX(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Kf(e,r)}removeReference(e,n,r){return Kf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Kf(e,n)}er(e,n){return function(i,s){let o=!1;return OL(i).Z(a=>DL(i,a,s).next(l=>(l&&(o=!0),b.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,q.min()),ds(e).delete(function(d){return[0,pn(d.path)]}(o))))});i.push(l)}}).next(()=>b.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Kf(e,n)}Xn(e,n){const r=ds(e);let i,s=xn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==xn._e&&n(new L(Qr(i)),s),s=c,i=l):s=xn._e}).next(()=>{s!==xn._e&&n(new L(Qr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kf(t,e){return ds(t).put(function(r,i){return{targetId:0,path:pn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return po(e).put(r)}removeEntry(e,n,r){return po(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Ve.newInvalidDocument(n);return po(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Ve.newInvalidDocument(n)};return po(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r={document:this.nr(n,s),size:qm(s)}}).next(()=>r)}getEntries(e,n){let r=bn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=bn(),i=new Ce(L.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,qm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return b.resolve();let i=new Re(GR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(hu(i.first()),hu(i.last())),o=i.getIterator();let a=o.getNext();return po(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=L.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&GR(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(hu(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),zm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return po(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=bn();for(const d of c){const h=this.nr(L.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Yh(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=bn();const o=qR(n,r),a=qR(n,Hn.max());return po(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(L.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new uX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return WR(e).get("remoteDocumentGlobalKey").next(n=>(W(!!n),n))}tr(e,n){return WR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=HY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(q.min())))return r}return Ve.newInvalidDocument(e)}}function ML(t){return new cX(t)}class uX extends VL{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new ao(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Re((s,o)=>ee(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=CR(this.ar.serializer,o);i=i.add(s.path.popLast());const c=qm(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=CR(this.ar.serializer,o.convertToNoDocument(q.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),b.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function WR(t){return Ot(t,"remoteDocumentGlobal")}function po(t){return Ot(t,"remoteDocumentsV14")}function hu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qR(t,e){const n=e.documentKey.path.toArray();return[t,zm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function GR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ee(n[s],r[s]),i)return i;return i=ee(n.length,r.length),i||(i=ee(n[n.length-2],r[r.length-2]),i||ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ed(r.mutation,i,Sn.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=bn();const o=Zu(),a=function(){return Zu()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof qi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ed(u.mutation,c,u.mutation.getFieldMask(),Ue.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new dX(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zu();let i=new Ce((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=tL();u.forEach(h=>{if(!s.has(h)){const p=cL(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return L.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(Yr());let a=-1,l=s;return o.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ne())).next(u=>({batchId:a,changes:eL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nu();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,l=>{const c=function(d,h){return new Wi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ve.newInvalidDocument(u)))});let a=Nu();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&ed(u.mutation,c,Sn.empty(),Ue.now()),Yh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ut(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:hI(i.bundledQuery),readTime:ut(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(){this.overlays=new Ce(L.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Yr(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Yr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Yr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return b.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cI(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.Pr=new Re(xt.Ir),this.Tr=new Re(xt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new xt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new L(new le([])),r=new xt(n,e),i=new xt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new L(new le([])),r=new xt(n,e),i=new xt(n,e+1);let s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return L.comparator(e.key,n.key)||ee(e.pr,n.pr)}static Er(e,n){return ee(e.pr,n.pr)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Re(xt.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(ee);return n.forEach(i=>{const s=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new xt(new L(s),0);let a=new Re(ee);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),b.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){W(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const s=new xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new xt(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.vr=e,this.docs=function(){return new Ce(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=bn();const o=n.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eI(C2(u),r)<=0||(i.has(u.key)||Yh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){B()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gX(this)}getSize(e){return b.resolve(this.size)}}class gX extends VL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e){this.persistence=e,this.Mr=new ao(n=>fa(n),Hh),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mI,this.targetCount=0,this.Br=va.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new va(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.Lr={},this.overlays={},this.kr=new xn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yX(this),this.indexManager=new tX,this.remoteDocumentCache=function(i){return new mX(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new RL(n),this.$r=new hX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new pX(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);const i=new vX(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class vX extends N2{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.zr=new mI,this.jr=null}static Hr(e){return new Iy(e)}get Jr(){if(this.jr)return this.jr;throw B()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=L.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e){this.serializer=e}N(e,n,r,i){const s=new yy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aR,{unique:!0}),l.createObjectStore("documentMutations")}(e),KR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=b.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),KR(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:q.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aR,{unique:!0});const d=c.store("mutations"),h=u.map(p=>d.put(p));return b.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:nY});c.createIndex("collectionPathOverlayIndex",rY,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",iY,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:qQ});c.createIndex("documentKeyIndex",GQ),c.createIndex("collectionGroupIndex",KQ)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:JQ}).createIndex("sequenceNumberIndex",ZQ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:eY}).createIndex("documentKeyIndex",tY,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=qm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>b.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>b.forEach(a,l=>{W(l.userId===s.userId);const c=Po(this.serializer,l);return NL(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new le(o),c=function(d){return[0,pn(d)]}(l);s.push(n.get(c).next(u=>u?b.resolve():(d=>n.put({targetId:0,path:pn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>b.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:XQ});const r=n.store("collectionParents"),i=new pI,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:pn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new le(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=Qr(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Ou(i),o=AL(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new L(le.fromString(d.document.name).popFirst(5)):d.noDocument?L.fromSegments(d.noDocument.path):d.unknownDocument?L.fromSegments(d.unknownDocument.path):B()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>b.waitFor(i))}si(e,n){const r=n.store("mutations"),i=ML(this.serializer),s=new $L(Iy.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:ne();Po(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),b.forEach(a,(l,c)=>{const u=new Pt(c),d=Ey.lt(this.serializer,u),h=s.getIndexManager(u),p=Ty.lt(u,this.serializer,h,s.referenceDelegate);return new LL(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new zw(n,xn._e),l).next()})})}}function KR(t){t.createObjectStore("targetDocuments",{keyPath:QQ}).createIndex("documentTargetsIndex",YQ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HQ,{unique:!0}),t.createObjectStore("targetGlobal")}const O0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gI{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!gI.D())throw new C(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lX(this,i),this.Ti=n+"main",this.serializer=new RL(l),this.Ei=new ur(this.Ti,this.ui,new _X(this.serializer)),this.Qr=new rX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ML(this.serializer),this.$r=new QY,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&ct("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(R.FAILED_PRECONDITION,O0);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new xn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(oo(e))return k("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return fu(e).get("owner").next(n=>b.resolve(this.Si(n)))}bi(e){return Hf(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ot(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return b.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?b.resolve(!0):fu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new C(R.FAILED_PRECONDITION,O0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hf(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&k("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new zw(e,xn._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Bi()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>Hf(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Ty.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nX(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ey.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){k("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?oY:l===14?L2:l===13?M2:l===12?sY:l===11?V2:void B()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new zw(a,this.kr?this.kr.next():xn._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw ct(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new C(R.FAILED_PRECONDITION,k2);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return fu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new C(R.FAILED_PRECONDITION,O0)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fu(e).put("owner",n)}static D(){return ur.D()}yi(e){const n=fu(e);return n.get("owner").next(r=>this.Si(r)?(k("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):b.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ct(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;uV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return k("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ct("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ct("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fu(t){return Ot(t,"owner")}function Hf(t){return Ot(t,"clientMetadata")}function yI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return uV()?8:ur.v(Be())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new wX;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Qa()<=ae.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Qa()<=ae.DEBUG&&k("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qa()<=ae.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):b.resolve())}ji(e,n){if(_R(n))return b.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bm(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Bm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return _R(n)||i.isEqual(q.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?b.resolve(null):(Qa()<=ae.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(n)),this.es(e,o,n,A2(i,-1)).next(a=>a))})}Zi(e,n){let r=new Re(J2(e));return n.forEach((i,s)=>{Yh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Qa()<=ae.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.zi.getDocumentsMatchingQuery(e,n,Hn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ce(ee),this.rs=new ao(s=>fa(s),Hh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function jL(t,e,n,r){return new EX(t,e,n,r)}async function UL(t,e){const n=F(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function TX(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=b.resolve();return h.forEach(f=>{p=p.next(()=>u.getEntry(l,f)).next(m=>{const w=c.docVersions.get(f);W(w!==null),m.version.compareTo(w)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BL(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function IX(t,e){const n=F(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(It.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(m,w,_){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=bn(),c=ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(zL(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(q.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function zL(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=bn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function xX(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ac(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function lc(t,e,n){const r=F(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!oo(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gm(t,e,n){const r=F(t);let i=q.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=F(l),h=d.rs.get(u);return h!==void 0?b.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:ne())).next(a=>(GL(r,X2(e),a),{documents:a,hs:s})))}function WL(t,e){const n=F(t),r=F(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function qL(t,e){const n=F(t),r=n.ss.get(e)||q.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,A2(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(GL(n,e,i),i))}function GL(t,e,n){let r=t.ss.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function SX(t,e,n,r){const i=F(t);let s=ne(),o=bn();for(const c of n){const u=e.Ps(c.metadata.name);c.document&&(s=s.add(u));const d=e.Is(c);d.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(u,d)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await ac(i,function(u){return mn(Oc(le.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>zL(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.cs,u.ls)).next(()=>u.cs)))}async function bX(t,e,n=ne()){const r=await ac(t,mn(hI(e.bundledQuery))),i=F(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ut(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(It.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function HR(t,e){return`firestore_clients_${t}_${e}`}function QR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function V0(t,e){return`firestore_targets_${t}_${e}`}class Km{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new C(i.error.code,i.error.message))),o?new Km(e,n,i.state,s):(ct("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class td{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new C(r.error.code,r.error.message))),s?new td(e,r.state,i):(ct("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=sI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=D2(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Hm(e,s):(ct("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class _I{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new _I(n.clientId,n.onlineState):(ct("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rE{constructor(){this.activeTargetIds=sI()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M0{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ce(ee),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=HR(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new rE),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(HR(this.persistenceKey,r));if(i){const s=Hm.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,r){this.Bs(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(V0(this.persistenceKey,e));if(r){const i=td.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(V0(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return k("SharedClientState","READ",e,n),n}setItem(e,n){k("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){k("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(k("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=xn._e;if(s!=null)try{const a=JSON.parse(s);W(typeof a=="number"),o=a}catch(a){ct("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==xn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,r){const i=new Km(this.currentUser,e,n,r),s=QR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Ls(e){const n=QR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=V0(this.persistenceKey,e),s=new td(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return Hm.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Km.Es(new Pt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return td.Es(i,n)}xs(e){return _I.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);k("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=sI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class KL{constructor(){this.no=new rE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function L0(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class CX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=L0(),l=this.bo(n,r.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(k("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Dr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=RX[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=L0();return new Promise((o,a)=>{const l=new bQ;l.setWithCredentials(!0),l.listenOnce(xQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case N0.NO_ERROR:const u=l.getResponseJson();k(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case N0.TIMEOUT:k(Xt,`RPC '${e}' ${s} timed out`),a(new C(R.DEADLINE_EXCEEDED,"Request time out"));break;case N0.HTTP_ERROR:const d=l.getStatus();if(k(Xt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const f=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(_)>=0?_:R.UNKNOWN}(p.status);a(new C(f,p.message))}else a(new C(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new C(R.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{k(Xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);k(Xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=L0(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TQ(),a=IQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");k(Xt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const f=new AX({lo:w=>{p?k(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(k(Xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),k(Xt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),m=(w,_,v)=>{w.listen(_,y=>{try{v(y)}catch(T){setTimeout(()=>{throw T},0)}})};return m(d,Wf.EventType.OPEN,()=>{p||k(Xt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Wf.EventType.CLOSE,()=>{p||(p=!0,k(Xt,`RPC '${e}' stream ${i} transport closed`),f.Vo())}),m(d,Wf.EventType.ERROR,w=>{p||(p=!0,Dr(Xt,`RPC '${e}' stream ${i} transport errored:`,w),f.Vo(new C(R.UNAVAILABLE,"The operation could not be completed")))}),m(d,Wf.EventType.MESSAGE,w=>{var _;if(!p){const v=w.data[0];W(!!v);const y=v,T=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(T){k(Xt,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let x=function($){const N=pt[$];if(N!==void 0)return hL(N)}(I),S=T.message;x===void 0&&(x=R.INTERNAL,S="Unknown error status: "+I+" with message "+T.message),p=!0,f.Vo(new C(x,S)),d.close()}else k(Xt,`RPC '${e}' stream ${i} received:`,v),f.mo(v)}}),m(a,SQ.STAT_EVENT,w=>{w.stat===rR.PROXY?k(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===rR.NOPROXY&&k(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.Ro()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return typeof window<"u"?window:null}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){return new $Y(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new wI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(ct(n.toString()),ct("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new C(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kX extends QL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=UY(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?ut(o.readTime):q.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Jw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=jm(l)?{documents:TL(s,l)}:{query:IL(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gL(s,o.resumeToken);const c=Yw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=oc(s,o.snapshotVersion.toTimestamp());const c=Yw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=zY(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Jw(this.serializer),n.removeTarget=e,this.t_(n)}}class NX extends QL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=BY(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.T_(r,n)}return W(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Jw(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sh(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(R.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Xw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(R.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Xw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(R.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class OX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ct(n),this.g_=!1):k("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{lo(this)&&(k("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=F(l);c.v_.add(4),await Lc(c),c.x_.set("Unknown"),c.v_.delete(4),await tf(c)}(this))})}),this.x_=new OX(r,i)}}async function tf(t){if(lo(t))for(const e of t.F_)await e(!0)}async function Lc(t){for(const e of t.F_)await e(!1)}function xy(t,e){const n=F(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),II(n)?TI(n):Fc(n).Jo()&&EI(n,e))}function oh(t,e){const n=F(t),r=Fc(n);n.C_.delete(e),r.Jo()&&YL(n,e),n.C_.size===0&&(r.Jo()?r.Xo():lo(n)&&n.x_.set("Unknown"))}function EI(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).c_(e)}function YL(t,e){t.O_.Oe(e),Fc(t).l_(e)}function TI(t){t.O_=new OY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.x_.p_()}function II(t){return lo(t)&&!Fc(t).Ho()&&t.C_.size>0}function lo(t){return F(t).v_.size===0}function XL(t){t.O_=void 0}async function MX(t){t.C_.forEach((e,n)=>{EI(t,e)})}async function LX(t,e){XL(t),II(t)?(t.x_.S_(e),TI(t)):t.x_.set("Unknown")}async function $X(t,e,n){if(t.x_.set("Online"),e instanceof mL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qm(t,r)}else if(e instanceof kp?t.O_.$e(e):e instanceof pL?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(q.min()))try{const r=await BL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),YL(s,l);const d=new vi(u.target,l,c,u.sequenceNumber);EI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){k("RemoteStore","Failed to raise snapshot:",r),await Qm(t,r)}}async function Qm(t,e,n){if(!oo(e))throw e;t.v_.add(1),await Lc(t),t.x_.set("Offline"),n||(n=()=>BL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{k("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await tf(t)})}function JL(t,e){return e().catch(n=>Qm(t,n,e))}async function $c(t){const e=F(t),n=qs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;FX(e);)try{const i=await xX(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,jX(e,i)}catch(i){await Qm(e,i)}ZL(e)&&e$(e)}function FX(t){return lo(t)&&t.D_.length<10}function jX(t,e){t.D_.push(e);const n=qs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function ZL(t){return lo(t)&&!qs(t).Ho()&&t.D_.length>0}function e$(t){qs(t).start()}async function UX(t){qs(t).d_()}async function BX(t){const e=qs(t);for(const n of t.D_)e.I_(n.mutations)}async function zX(t,e,n){const r=t.D_.shift(),i=lI.from(r,e,n);await JL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $c(t)}async function WX(t,e){e&&qs(t).P_&&await async function(r,i){if(function(o){return dL(o)&&o!==R.ABORTED}(i.code)){const s=r.D_.shift();qs(r).Zo(),await JL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $c(r)}}(t,e),ZL(t)&&e$(t)}async function XR(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=lo(n);n.v_.add(3),await Lc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await tf(n)}async function iE(t,e){const n=F(t);e?(n.v_.delete(2),await tf(n)):e||(n.v_.add(2),await Lc(n),n.x_.set("Unknown"))}function Fc(t){return t.N_||(t.N_=function(n,r,i){const s=F(n);return s.R_(),new kX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:MX.bind(null,t),To:LX.bind(null,t),u_:$X.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),II(t)?TI(t):t.x_.set("Unknown")):(await t.N_.stop(),XL(t))})),t.N_}function qs(t){return t.B_||(t.B_=function(n,r,i){const s=F(n);return s.R_(),new NX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:UX.bind(null,t),To:WX.bind(null,t),E_:BX.bind(null,t),T_:zX.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await $c(t)):(await t.B_.stop(),t.D_.length>0&&(k("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xI(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(t,e){if(ct("AsyncQueue",`${e}: ${t}`),oo(t))return new C(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new Dl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.L_=new Ce(L.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):B():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new cc(e,n,Dl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(){this.q_=void 0,this.Q_=[]}}class GX{constructor(){this.queries=new ao(e=>Y2(e),Qh),this.onlineState="Unknown",this.K_=new Set}}async function SI(t,e){const n=F(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qX),i)try{s.q_=await n.onListen(r)}catch(o){const a=jc(o,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&PI(n)}async function bI(t,e){const n=F(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function KX(t,e){const n=F(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&PI(n)}function HX(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function PI(t){t.K_.forEach(e=>{e.next()})}class RI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.serializer=e}Ps(e){return ei(this.serializer,e)}Is(e){return e.metadata.exists?EL(this.serializer,e.document,!1):Ve.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ut(e)}}class YX{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=t$(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=le.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new ZR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ne()).add(s);n.set(o,a)}}return n}async complete(){const e=await SX(this.localStore,new ZR(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await bX(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function t$(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.key=e}}class r${constructor(e){this.key=e}}class i${constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=J2(e),this.ca=new Dl(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new JR,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Yh(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),w=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ua(p,l)>0||c&&this.ua(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,d)=>function(p,f){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return m(p)-m(f)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new cc(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new JR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new r$(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new n$(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return cc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class XX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JX{constructor(e){this.key=e,this.ma=!1}}class ZX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ao(a=>Y2(a),Qh),this.pa=new Map,this.ya=new Set,this.wa=new Ce(L.comparator),this.Sa=new Map,this.ba=new mI,this.Da={},this.Ca=new Map,this.va=va.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function eJ(t,e){const n=DI(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await ac(n.localStore,mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await AI(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&xy(n.remoteStore,o)}return i}async function AI(t,e,n,r,i){t.Ma=(d,h,p)=>async function(m,w,_,v){let y=w.view.ha(_);y.Xi&&(y=await Gm(m.localStore,w.query,!1).then(({documents:S})=>w.view.ha(S,y)));const T=v&&v.targetChanges.get(w.targetId),I=v&&v.targetMismatches.get(w.targetId)!=null,x=w.view.applyChanges(y,m.isPrimaryClient,T,I);return sE(m,w.targetId,x.da),x.snapshot}(t,d,h,p);const s=await Gm(t.localStore,e,!0),o=new i$(e,s.hs),a=o.ha(s.documents),l=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);sE(t,n,c.da);const u=new XX(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function tJ(t,e){const n=F(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Qh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),oh(n.remoteStore,r.targetId),uc(n,r.targetId)}).catch(so)):(uc(n,r.targetId),await lc(n.localStore,r.targetId,!0))}async function nJ(t,e,n){const r=OI(t);try{const i=await function(o,a){const l=F(o),c=Ue.now(),u=a.reduce((p,f)=>p.add(f.key),ne());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let f=bn(),m=ne();return l.os.getEntries(p,u).next(w=>{f=w,f.forEach((_,v)=>{v.isValidDocument()||(m=m.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,f)).next(w=>{d=w;const _=[];for(const v of a){const y=kY(v,d.get(v.key).overlayedDocument);y!=null&&_.push(new qi(v.key,y,U2(y.value.mapValue),je.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:eL(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new Ce(ee)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await Gi(r,i.changes),await $c(r.remoteStore)}catch(i){const s=jc(i,"Failed to persist write");n.reject(s)}}async function s$(t,e){const n=F(t);try{const r=await IX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?W(o.ma):i.removedDocuments.size>0&&(W(o.ma),o.ma=!1))}),await Gi(n,r,e)}catch(r){await so(r)}}function eA(t,e,n){const r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=F(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.U_(a)&&(c=!0)}),c&&PI(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rJ(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ce(L.comparator);o=o.insert(s,Ve.newNoDocument(s,q.min()));const a=ne().add(s),l=new Jh(q.min(),new Map,new Ce(ee),o,a);await s$(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),NI(r)}else await lc(r.localStore,e,!1).then(()=>uc(r,e,n)).catch(so)}async function iJ(t,e){const n=F(t),r=e.batch.batchId;try{const i=await TX(n.localStore,e);kI(n,r,null),CI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gi(n,i)}catch(i){await so(i)}}async function sJ(t,e,n){const r=F(t);try{const i=await function(o,a){const l=F(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(W(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);kI(r,e,n),CI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gi(r,i)}catch(i){await so(i)}}async function oJ(t,e){const n=F(t);lo(n.remoteStore)||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=F(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=jc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function CI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function kI(t,e,n){const r=F(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function uc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||o$(t,r)})}function o$(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(oh(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),NI(t))}function sE(t,e,n){for(const r of n)r instanceof n$?(t.ba.addReference(r.key,e),aJ(t,r)):r instanceof r$?(k("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||o$(t,r.key)):B()}function aJ(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(k("SyncEngine","New document in limbo: "+n),t.ya.add(r),NI(t))}function NI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new L(le.fromString(e)),r=t.va.next();t.Sa.set(r,new JX(n)),t.wa=t.wa.insert(n,r),xy(t.remoteStore,new vi(mn(Oc(n.path)),r,"TargetPurposeLimboResolution",xn._e))}}async function Gi(t,e,n){const r=F(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=vI.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const u=F(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,h=>b.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>b.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!oo(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),f=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(f);u.ns=u.ns.insert(h,m)}}}(r.localStore,s))}async function lJ(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=await UL(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new C(R.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gi(n,r.us)}}function cJ(t,e){const n=F(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}async function uJ(t,e){const n=F(t),r=await Gm(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&sE(n,e.targetId,i.da),i}async function dJ(t,e){const n=F(t);return qL(n.localStore,e).then(r=>Gi(n,r))}async function hJ(t,e,n,r){const i=F(t),s=await function(a,l){const c=F(a),u=F(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.vn(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):b.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await $c(i.remoteStore):n==="acknowledged"||n==="rejected"?(kI(i,e,r||null),CI(i,e),function(a,l){F(F(a).mutationQueue).Mn(l)}(i.localStore,e)):B(),await Gi(i,s)):k("SyncEngine","Cannot apply mutation batch with id: "+e)}async function fJ(t,e){const n=F(t);if(DI(n),OI(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await tA(n,r.toArray());n.Fa=!0,await iE(n.remoteStore,!0);for(const s of i)xy(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(uc(n,o),lc(n.localStore,o,!0))),oh(n.remoteStore,o)}),await i,await tA(n,r),function(o){const a=F(o);a.Sa.forEach((l,c)=>{oh(a.remoteStore,c)}),a.ba.mr(),a.Sa=new Map,a.wa=new Ce(L.comparator)}(n),n.Fa=!1,await iE(n.remoteStore,!1)}}async function tA(t,e,n){const r=F(t),i=[],s=[];for(const o of e){let a;const l=r.pa.get(o);if(l&&l.length!==0){a=await ac(r.localStore,mn(l[0]));for(const c of l){const u=r.ga.get(c),d=await uJ(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=await WL(r.localStore,o);a=await ac(r.localStore,c),await AI(r,a$(c),o,!1,a.resumeToken)}i.push(a)}return r.fa.u_(s),i}function a$(t){return Q2(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function pJ(t){return function(n){return F(F(n).persistence).Li()}(F(t).localStore)}async function mJ(t,e,n,r){const i=F(t);if(i.Fa)return void k("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await qL(i.localStore,X2(s[0])),a=Jh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",It.EMPTY_BYTE_STRING);await Gi(i,o,a);break}case"rejected":await lc(i.localStore,e,!0),uc(i,e,r);break;default:B()}}async function gJ(t,e,n){const r=DI(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){k("SyncEngine","Adding an already active target "+i);continue}const s=await WL(r.localStore,i),o=await ac(r.localStore,s);await AI(r,a$(s),o.targetId,!1,o.resumeToken),xy(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await lc(r.localStore,i,!1).then(()=>{oh(r.remoteStore,i),uc(r,i)}).catch(so)}}function DI(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rJ.bind(null,e),e.fa.u_=KX.bind(null,e.eventManager),e.fa.xa=HX.bind(null,e.eventManager),e}function OI(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sJ.bind(null,e),e}function yJ(t,e,n){const r=F(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(p,f){const m=F(p),w=ut(f.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",_=>m.$r.getBundleMetadata(_,f.id)).then(_=>!!_&&_.createTime.compareTo(w)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(t$(l));const c=new YX(l,s.localStore,o.serializer);let u=await o.Oa();for(;u;){const h=await c.na(u);h&&a._updateProgress(h),u=await o.Oa()}const d=await c.complete();return await Gi(s,d.sa,void 0),await function(p,f){const m=F(p);return m.persistence.runTransaction("Save bundle","readwrite",w=>m.$r.saveBundleMetadata(w,f))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.ia)}catch(l){return Dr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class oE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jL(this.persistence,new FL,e.initialUser,this.serializer)}createPersistence(e){return new $L(Iy.Hr,this.serializer)}createSharedClientState(e){return new KL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class l$ extends oE{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await OI(this.Na.syncEngine),await $c(this.Na.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return jL(this.persistence,new FL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new sX(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new BQ(n,this.persistence);return new UQ(e.asyncQueue,r)}createPersistence(e){const n=yI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new gI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,HL(),Np(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new KL}}class vJ extends l${constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof M0&&(this.sharedClientState.syncEngine={Zs:hJ.bind(null,n),Xs:mJ.bind(null,n),eo:gJ.bind(null,n),Li:pJ.bind(null,n),Ys:dJ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await fJ(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=HL();if(!M0.D(n))throw new C(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new M0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class VI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lJ.bind(null,this.syncEngine),await iE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GX}()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),r=function(s){return new CX(s)}(e.databaseInfo);return function(s,o,a,l){return new DX(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new VX(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eA(this.syncEngine,n,0),function(){return YR.D()?new YR:new PX}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new ZX(i,s,o,a,l,c);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=F(r);k("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Lc(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ct("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new At,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new QX(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e===123)}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new C(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=F(i),a={documents:s.map(d=>ih(o.serializer,d))},l=await o.vo("BatchGetDocuments",o.serializer.databaseId,le.emptyPath(),a,s.length),c=new Map;l.forEach(d=>{const h=jY(o.serializer,d);c.set(h.key.toString(),h)});const u=[];return s.forEach(d=>{const h=c.get(d.toString());W(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=L.fromPath(r);this.mutations.push(new oI(i,this.precondition(i)))}),await async function(r,i){const s=F(r),o={writes:i.map(a=>sh(s.serializer,a))};await s.So("Commit",s.serializer.databaseId,le.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw B();n=q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new C(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(q.min())?je.exists(!1):je.updateTime(n):je.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(q.min()))throw new C(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(n)}return je.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.jo=new wI(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo(async()=>{const e=new wJ(this.datastore),n=this.Ja(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ya(i)}))}).catch(r=>{this.Ya(r)})})}Ja(e){try{const n=this.updateFunction(e);return!Kh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=P2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{k("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(k("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dp(t,e){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MI(t);k("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XR(e.remoteStore,i)),t._onlineComponents=e}function c$(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function MI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!c$(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),await Dp(t,new oE)}}else k("FirestoreClient","Using default OfflineComponentProvider"),await Dp(t,new oE);return t._offlineComponents}async function by(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),await aE(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),await aE(t,new VI))),t._onlineComponents}function u$(t){return MI(t).then(e=>e.persistence)}function LI(t){return MI(t).then(e=>e.localStore)}function d$(t){return by(t).then(e=>e.remoteStore)}function $I(t){return by(t).then(e=>e.syncEngine)}function IJ(t){return by(t).then(e=>e.datastore)}async function dc(t){const e=await by(t),n=e.eventManager;return n.onListen=eJ.bind(null,e.syncEngine),n.onUnlisten=tJ.bind(null,e.syncEngine),n}function xJ(t){return t.asyncQueue.enqueue(async()=>{const e=await u$(t),n=await d$(t);return e.setNetworkEnabled(!0),function(i){const s=F(i);return s.v_.delete(0),tf(s)}(n)})}function SJ(t){return t.asyncQueue.enqueue(async()=>{const e=await u$(t),n=await d$(t);return e.setNetworkEnabled(!1),async function(i){const s=F(i);s.v_.add(0),await Lc(s),s.x_.set("Offline")}(n)})}function bJ(t,e){const n=new At;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,u){const d=F(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new C(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=jc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await LI(t),e,n)),n.promise}function h$(t,e,n={}){const r=new At;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Sy({next:h=>{o.enqueueAndForget(()=>bI(s,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new C(R.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new C(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new RI(Oc(a.path),u,{includeMetadataChanges:!0,Z_:!0});return SI(s,d)}(await dc(t),t.asyncQueue,e,n,r)),r.promise}function PJ(t,e){const n=new At;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Gm(i,s,!0),l=new i$(s,a.hs),c=l.ha(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=jc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await LI(t),e,n)),n.promise}function f$(t,e,n={}){const r=new At;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Sy({next:h=>{o.enqueueAndForget(()=>bI(s,d)),h.fromCache&&l.source==="server"?c.reject(new C(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new RI(a,u,{includeMetadataChanges:!0,Z_:!0});return SI(s,d)}(await dc(t),t.asyncQueue,e,n,r)),r.promise}function RJ(t,e){const n=new Sy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){F(i).K_.add(s),s.next()}(await dc(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){F(i).K_.delete(s)}(await dc(t),n))}}function AJ(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?fL().encode(o):o,function(u,d){return new _J(u,d)}(function(u,d){if(u instanceof Uint8Array)return nA(u,d);if(u instanceof ArrayBuffer)return nA(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,ef(e));t.asyncQueue.enqueueAndForget(async()=>{yJ(await $I(t),i,r)})}function CJ(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=F(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await LI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e,n){if(!n)throw new C(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m$(t,e,n,r){if(e===!0&&r===!0)throw new C(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iA(t){if(!L.isDocumentKey(t))throw new C(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sA(t){if(L.isDocumentKey(t))throw new C(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Py(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Py(t);throw new C(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function g$(t,e){if(e<=0)throw new C(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CQ;switch(r.type){case"firstParty":return new OQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rA.get(n);r&&(k("ComponentProvider","Removing Datastore"),rA.delete(n),r.terminate())}(this),Promise.resolve()}}function kJ(t,e,n,r={}){var i;const s=(t=me(t,nf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Pt.MOCK_USER;else{a=z8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pt(c)}t._authCredentials=new kQ(new b2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class y${constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new y$(this.firestore,e,this._query)}},Ge=class v${constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new v$(this.firestore,e,this._key)}},As=class _$ extends gn{constructor(e,n,r){super(e,n,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new L(e))}withConverter(e){return new _$(this.firestore,e,this._path)}};function w$(t,e,...n){if(t=H(t),FI("collection","path",e),t instanceof nf){const r=le.fromString(e,...n);return sA(r),new As(t,null,r)}{if(!(t instanceof Ge||t instanceof As))throw new C(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return sA(r),new As(t.firestore,null,r)}}function NJ(t,e){if(t=me(t,nf),FI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new C(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gn(t,null,function(r){return new Wi(le.emptyPath(),r)}(e))}function Ym(t,e,...n){if(t=H(t),arguments.length===1&&(e=P2.newId()),FI("doc","path",e),t instanceof nf){const r=le.fromString(e,...n);return iA(r),new Ge(t,null,new L(r))}{if(!(t instanceof Ge||t instanceof As))throw new C(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return iA(r),new Ge(t.firestore,t instanceof As?t.converter:null,new L(r))}}function E$(t,e){return t=H(t),e=H(e),(t instanceof Ge||t instanceof As)&&(e instanceof Ge||e instanceof As)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function T$(t,e){return t=H(t),e=H(e),t instanceof gn&&e instanceof gn&&t.firestore===e.firestore&&Qh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new wI(this,"async_queue_retry"),this._u=()=>{const n=Np();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new At;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!oo(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ct("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=xI.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&B()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function lE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class OJ{constructor(){this._progressObserver={},this._taskCompletionResolver=new At,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=-1;let rt=class extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new DJ}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I$(this),this._firestoreClient.terminate()}};function Vt(t){return t._firestoreClient||I$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new cY(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,p$(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TJ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function MJ(t,e){S$(t=me(t,rt));const n=Vt(t);if(n._uninitializedComponentsProvider)throw new C(R.FAILED_PRECONDITION,"SDK cache is already specified.");Dr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new VI;return x$(n,i,new l$(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function LJ(t){S$(t=me(t,rt));const e=Vt(t);if(e._uninitializedComponentsProvider)throw new C(R.FAILED_PRECONDITION,"SDK cache is already specified.");Dr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new VI;return x$(e,r,new vJ(r,n.cacheSizeBytes))}function x$(t,e,n){const r=new At;return t.asyncQueue.enqueue(async()=>{try{await Dp(t,n),await aE(t,e),r.resolve()}catch(i){const s=i;if(!c$(s))throw s;Dr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function $J(t){if(t._initialized&&!t._terminated)throw new C(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new At;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ur.D())return Promise.resolve();const i=r+"main";await ur.delete(i)}(yI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function FJ(t){return function(n){const r=new At;return n.asyncQueue.enqueueAndForget(async()=>oJ(await $I(n),r)),r.promise}(Vt(t=me(t,rt)))}function jJ(t){return xJ(Vt(t=me(t,rt)))}function UJ(t){return SJ(Vt(t=me(t,rt)))}function BJ(t,e){const n=Vt(t=me(t,rt)),r=new OJ;return AJ(n,t._databaseId,e,r),r}function zJ(t,e){return CJ(Vt(t=me(t,rt)),e).then(n=>n?new gn(t,null,n.query):null)}function S$(t){if(t._initialized||t._terminated)throw new C(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(It.fromBase64String(e))}catch(n){throw new C(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=/^__.*__$/;class qJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class b${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Ay{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Xm(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(P$(this.du)&&WJ.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class GJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ef(e)}Su(e,n,r,i=!1){return new Ay({du:e,methodName:n,wu:r,path:Fe.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Aa(t){const e=t._freezeSettings(),n=ef(t._databaseId);return new GJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cy(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);GI("Data must be an object, but it was:",o,r);const a=C$(r,o);let l,c;if(s.merge)l=new Sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=cE(e,d,n);if(!o.contains(h))throw new C(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);N$(u,h)||u.push(h)}l=new Sn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new qJ(new zt(a),l,c)}class rf extends Ra{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function R$(t,e,n){return new Ay({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jI extends Ra{_toFieldTransform(e){return new Xh(e.path,new ic)}isEqual(e){return e instanceof jI}}class UI extends Ra{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=R$(this,e,!0),r=this.bu.map(s=>Ca(s,n)),i=new pa(r);return new Xh(e.path,i)}isEqual(e){return e instanceof UI&&Od(this.bu,e.bu)}}class BI extends Ra{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=R$(this,e,!0),r=this.bu.map(s=>Ca(s,n)),i=new ma(r);return new Xh(e.path,i)}isEqual(e){return e instanceof BI&&Od(this.bu,e.bu)}}class zI extends Ra{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new sc(e.serializer,iL(e.serializer,this.Du));return new Xh(e.path,n)}isEqual(e){return e instanceof zI&&this.Du===e.Du}}function WI(t,e,n,r){const i=t.Su(1,e,n);GI("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();Pa(r,(l,c)=>{const u=KI(e,l,n);c=H(c);const d=i.fu(u);if(c instanceof rf)s.push(u);else{const h=Ca(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Sn(s);return new b$(o,a,i.fieldTransforms)}function qI(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[cE(e,r,n)],l=[i];if(s.length%2!=0)throw new C(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(cE(e,s[h])),l.push(s[h+1]);const c=[],u=zt.empty();for(let h=a.length-1;h>=0;--h)if(!N$(c,a[h])){const p=a[h];let f=l[h];f=H(f);const m=o.fu(p);if(f instanceof rf)c.push(p);else{const w=Ca(f,m);w!=null&&(c.push(p),u.set(p,w))}}const d=new Sn(c);return new b$(u,d,o.fieldTransforms)}function A$(t,e,n,r=!1){return Ca(n,t.Su(r?4:3,e))}function Ca(t,e){if(k$(t=H(t)))return GI("Unsupported field value:",e,t),C$(t,e);if(t instanceof Ra)return function(r,i){if(!P$(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ca(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=H(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:oc(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(i.serializer,s)}}if(r instanceof Ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:gL(i.serializer,r._byteString)};if(r instanceof Ge){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Py(r)}`)}(t,e)}function C$(t,e){const n={};return $2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const s=Ca(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function k$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Ry||t instanceof ai||t instanceof Ge||t instanceof Ra)}function GI(t,e,n){if(!k$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Py(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function cE(t,e,n){if((e=H(e))instanceof Gs)return e._internalPath;if(typeof e=="string")return KI(t,e);throw Xm("Field path arguments must be of type string or ",t,!1,void 0,n)}const KJ=new RegExp("[~\\*/\\[\\]]");function KI(t,e,n){if(e.search(KJ)>=0)throw Xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gs(...e.split("."))._internalPath}catch{throw Xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new C(R.INVALID_ARGUMENT,a+t+l)}function N$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HJ extends ah{data(){return super.data()}}function ky(t,e){return typeof e=="string"?KI(t,e):e instanceof Gs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HI{}class sf extends HI{}function ns(t,e,...n){let r=[];e instanceof HI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof QI).length,a=s.filter(l=>l instanceof Ny).length;if(o>1||o>0&&a>0)throw new C(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ny extends sf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ny(e,n,r)}_apply(e){const n=this._parse(e);return V$(e._query,n),new gn(e.firestore,e.converter,Qw(e._query,n))}_parse(e){const n=Aa(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new C(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){lA(d,u);const p=[];for(const f of d)p.push(aA(l,s,f));h={arrayValue:{values:p}}}else h=aA(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||lA(d,u),h=A$(a,o,d,u==="in"||u==="not-in");return ce.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QJ(t,e,n){const r=e,i=ky("where",t);return Ny._create(i,r,n)}class QI extends HI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ie.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)V$(o,l),o=Qw(o,l)}(e._query,n),new gn(e.firestore,e.converter,Qw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YI extends sf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new C(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new C(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rh(s,o)}(e._query,this._field,this._direction);return new gn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YJ(t,e="asc"){const n=e,r=ky("orderBy",t);return YI._create(r,n)}class Dy extends sf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dy(e,n,r)}_apply(e){return new gn(e.firestore,e.converter,Bm(e._query,this._limit,this._limitType))}}function XJ(t){return g$("limit",t),Dy._create("limit",t,"F")}function JJ(t){return g$("limitToLast",t),Dy._create("limitToLast",t,"L")}class Oy extends sf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Oy(e,n,r)}_apply(e){const n=O$(e,this.type,this._docOrFields,this._inclusive);return new gn(e.firestore,e.converter,function(i,s){return new Wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function ZJ(...t){return Oy._create("startAt",t,!0)}function eZ(...t){return Oy._create("startAfter",t,!1)}class Vy extends sf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Vy(e,n,r)}_apply(e){const n=O$(e,this.type,this._docOrFields,this._inclusive);return new gn(e.firestore,e.converter,function(i,s){return new Wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function tZ(...t){return Vy._create("endBefore",t,!1)}function nZ(...t){return Vy._create("endAt",t,!0)}function O$(t,e,n,r){if(n[0]=H(n[0]),n[0]instanceof ah)return function(s,o,a,l,c){if(!l)throw new C(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Nl(s))if(d.field.isKeyField())u.push(ha(o,l.key));else{const h=l.data.field(d.field);if(vy(h))throw new C(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new C(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Ws(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Aa(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new C(R.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let f=0;f<u.length;f++){const m=u[f];if(h[f].field.isKeyField()){if(typeof m!="string")throw new C(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!iI(o)&&m.indexOf("/")!==-1)throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);const w=o.path.child(le.fromString(m));if(!L.isDocumentKey(w))throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const _=new L(w);p.push(ha(a,_))}else{const w=A$(l,c,m);p.push(w)}}return new Ws(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function aA(t,e,n){if(typeof(n=H(n))=="string"){if(n==="")throw new C(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iI(e)&&n.indexOf("/")!==-1)throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(le.fromString(n));if(!L.isDocumentKey(r))throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ha(t,new L(r))}if(n instanceof Ge)return ha(t,n._key);throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Py(n)}.`)}function lA(t,e){if(!Array.isArray(t)||t.length===0)throw new C(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V$(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XI{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ry(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const n=js(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);W(PL(r));const i=new Bs(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rZ extends XI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Vi=class extends ah{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},nd=class extends Vi{data(e={}){return super.data(e)}},Ks=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nd(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new nd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new nd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:iZ(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function iZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}function M$(t,e){return t instanceof Vi&&e instanceof Vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ks&&e instanceof Ks&&t._firestore===e._firestore&&T$(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(t){t=me(t,Ge);const e=me(t.firestore,rt);return h$(Vt(e),t._key).then(n=>JI(e,t,n))}class ka extends XI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}function oZ(t){t=me(t,Ge);const e=me(t.firestore,rt),n=Vt(e),r=new ka(e);return bJ(n,t._key).then(i=>new Vi(e,r,t._key,i,new Fo(i!==null&&i.hasLocalMutations,!0),t.converter))}function aZ(t){t=me(t,Ge);const e=me(t.firestore,rt);return h$(Vt(e),t._key,{source:"server"}).then(n=>JI(e,t,n))}function lZ(t){t=me(t,gn);const e=me(t.firestore,rt),n=Vt(e),r=new ka(e);return D$(t._query),f$(n,t._query).then(i=>new Ks(e,r,t,i))}function cZ(t){t=me(t,gn);const e=me(t.firestore,rt),n=Vt(e),r=new ka(e);return PJ(n,t._query).then(i=>new Ks(e,r,t,i))}function uZ(t){t=me(t,gn);const e=me(t.firestore,rt),n=Vt(e),r=new ka(e);return f$(n,t._query,{source:"server"}).then(i=>new Ks(e,r,t,i))}function cA(t,e,n){t=me(t,Ge);const r=me(t.firestore,rt),i=My(t.converter,e,n);return of(r,[Cy(Aa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,je.none())])}function uA(t,e,n,...r){t=me(t,Ge);const i=me(t.firestore,rt),s=Aa(i);let o;return o=typeof(e=H(e))=="string"||e instanceof Gs?qI(s,"updateDoc",t._key,e,n,r):WI(s,"updateDoc",t._key,e),of(i,[o.toMutation(t._key,je.exists(!0))])}function dZ(t){return of(me(t.firestore,rt),[new Mc(t._key,je.none())])}function hZ(t,e){const n=me(t.firestore,rt),r=Ym(t),i=My(t.converter,e);return of(n,[Cy(Aa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function L$(t,...e){var n,r,i;t=H(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||lE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(lE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Ge)c=me(t.firestore,rt),u=Oc(t._key.path),l={next:d=>{e[o]&&e[o](JI(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,gn);c=me(d.firestore,rt),u=d._query;const h=new ka(c);l={next:p=>{e[o]&&e[o](new Ks(c,h,d,p))},error:e[o+1],complete:e[o+2]},D$(t._query)}return function(h,p,f,m){const w=new Sy(m),_=new RI(p,w,f);return h.asyncQueue.enqueueAndForget(async()=>SI(await dc(h),_)),()=>{w.La(),h.asyncQueue.enqueueAndForget(async()=>bI(await dc(h),_))}}(Vt(c),u,a,l)}function fZ(t,e){return RJ(Vt(t=me(t,rt)),lE(e)?e:{next:e})}function of(t,e){return function(r,i){const s=new At;return r.asyncQueue.enqueueAndForget(async()=>nJ(await $I(r),i,s)),s.promise}(Vt(t),e)}function JI(t,e,n){const r=n.docs.get(e._key),i=new ka(t);return new Vi(t,i,e._key,r,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mZ=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Aa(e)}set(e,n,r){this._verifyNotCommitted();const i=hs(e,this._firestore),s=My(i.converter,n,r),o=Cy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,je.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=hs(e,this._firestore);let o;return o=typeof(n=H(n))=="string"||n instanceof Gs?qI(this._dataReader,"WriteBatch.update",s._key,n,r,i):WI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,je.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hs(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function hs(t,e){if((t=H(t)).firestore!==e)throw new C(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gZ=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Aa(n)}get(n){const r=hs(n,this._firestore),i=new rZ(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return B();const o=s[0];if(o.isFoundDocument())return new ah(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new ah(this._firestore,i,r._key,null,r.converter);throw B()})}set(n,r,i){const s=hs(n,this._firestore),o=My(s.converter,r,i),a=Cy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=hs(n,this._firestore);let a;return a=typeof(r=H(r))=="string"||r instanceof Gs?qI(this._dataReader,"Transaction.update",o._key,r,i,s):WI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=hs(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=hs(e,this._firestore),r=new ka(this._firestore);return super.get(e).then(i=>new Vi(this._firestore,r,n._key,i._document,new Fo(!1,!1),n.converter))}};function yZ(t,e,n){t=me(t,rt);const r=Object.assign(Object.assign({},pZ),n);return function(s){if(s.maxAttempts<1)throw new C(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new At;return s.asyncQueue.enqueueAndForget(async()=>{const c=await IJ(s);new EJ(s.asyncQueue,c,a,o,l).ja()}),l.promise}(Vt(t),i=>e(new gZ(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(){return new rf("deleteField")}function _Z(){return new jI("serverTimestamp")}function wZ(...t){return new UI("arrayUnion",t)}function EZ(...t){return new BI("arrayRemove",t)}function TZ(t){return new zI("increment",t)}(function(e,n=!0){(function(i){Dc=i})(to),$s(new ii("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new rt(new NQ(r.getProvider("auth-internal")),new MQ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new C(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Zr(iR,"4.4.2",e),Zr(iR,"4.4.2","esm2017")})();const IZ="@firebase/firestore-compat",xZ="0.3.25";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new C("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){if(typeof Uint8Array>"u")throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function hA(){if(!aY())throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $$=class uE{constructor(e){this._delegate=e}static fromBase64String(e){return hA(),new uE(ai.fromBase64String(e))}static fromUint8Array(e){return dA(),new uE(ai.fromUint8Array(e))}toBase64(){return hA(),this._delegate.toBase64()}toUint8Array(){return dA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){return SZ(t,["next","error","complete"])}function SZ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{enableIndexedDbPersistence(e,n){return MJ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return LJ(e._delegate)}clearIndexedDbPersistence(e){return $J(e._delegate)}}class F${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Dr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){kJ(this._delegate,e,n,r)}enableNetwork(){return jJ(this._delegate)}disableNetwork(){return UJ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,m$("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return FJ(this._delegate)}onSnapshotsInSync(e){return fZ(this._delegate,e)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hc(this,w$(this._delegate,e))}catch(n){throw un(n,"collection()","Firestore.collection()")}}doc(e){try{return new dr(this,Ym(this._delegate,e))}catch(n){throw un(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cn(this,NJ(this._delegate,e))}catch(n){throw un(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return yZ(this._delegate,n=>e(new j$(this,n)))}batch(){return Vt(this._delegate),new U$(new mZ(this._delegate,e=>of(this._delegate,e)))}loadBundle(e){return BJ(this._delegate,e)}namedQuery(e){return zJ(this._delegate,e).then(n=>n?new cn(this,n):null)}}class Ly extends XI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $$(new ai(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return dr.forKey(n,this.firestore,null)}}function PZ(t){RQ(t)}class j${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ly(e)}get(e){const n=jo(e);return this._delegate.get(n).then(r=>new lh(this._firestore,new Vi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=jo(e);return r?(ZI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=jo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=jo(e);return this._delegate.delete(n),this}}class U${constructor(e){this._delegate=e}set(e,n,r){const i=jo(e);return r?(ZI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=jo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=jo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class _a{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new nd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ch(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=_a.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new _a(e,new Ly(e),n),i.set(n,s)),s}}_a.INSTANCES=new WeakMap;class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ly(e)}static forPath(e,n,r){if(e.length%2!==0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dr(n,new Ge(n._delegate,r,new L(e)))}static forKey(e,n,r){return new dr(n,new Ge(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new hc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hc(this.firestore,w$(this._delegate,e))}catch(n){throw un(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=H(e),e instanceof Ge?E$(this._delegate,e):!1}set(e,n){n=ZI("DocumentReference.set",n);try{return n?cA(this._delegate,e,n):cA(this._delegate,e)}catch(r){throw un(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?uA(this._delegate,e):uA(this._delegate,e,n,...r)}catch(i){throw un(i,"updateDoc()","DocumentReference.update()")}}delete(){return dZ(this._delegate)}onSnapshot(...e){const n=B$(e),r=z$(e,i=>new lh(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return L$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=oZ(this._delegate):(e==null?void 0:e.source)==="server"?n=aZ(this._delegate):n=sZ(this._delegate),n.then(r=>new lh(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(_a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function un(t,e,n){return t.message=t.message.replace(e,n),t}function B$(t){for(const e of t)if(typeof e=="object"&&!dE(e))return e;return{}}function z$(t,e){var n,r;let i;return dE(t[0])?i=t[0]:dE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class lh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return M$(this._delegate,e._delegate)}}class ch extends lh{data(e){const n=this._delegate.data(e);return this._delegate._converter||AQ(n!==void 0),n}}class cn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ly(e)}where(e,n,r){try{return new cn(this.firestore,ns(this._delegate,QJ(e,n,r)))}catch(i){throw un(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new cn(this.firestore,ns(this._delegate,YJ(e,n)))}catch(r){throw un(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cn(this.firestore,ns(this._delegate,XJ(e)))}catch(n){throw un(n,"limit()","Query.limit()")}}limitToLast(e){try{return new cn(this.firestore,ns(this._delegate,JJ(e)))}catch(n){throw un(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new cn(this.firestore,ns(this._delegate,ZJ(...e)))}catch(n){throw un(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new cn(this.firestore,ns(this._delegate,eZ(...e)))}catch(n){throw un(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new cn(this.firestore,ns(this._delegate,tZ(...e)))}catch(n){throw un(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new cn(this.firestore,ns(this._delegate,nZ(...e)))}catch(n){throw un(n,"endAt()","Query.endAt()")}}isEqual(e){return T$(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=cZ(this._delegate):(e==null?void 0:e.source)==="server"?n=uZ(this._delegate):n=lZ(this._delegate),n.then(r=>new hE(this.firestore,new Ks(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=B$(e),r=z$(e,i=>new hE(this.firestore,new Ks(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return L$(this._delegate,n,r)}withConverter(e){return new cn(this.firestore,e?this._delegate.withConverter(_a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class RZ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ch(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new cn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ch(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new RZ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ch(this._firestore,r))})}isEqual(e){return M$(this._delegate,e._delegate)}}class hc extends cn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dr(this.firestore,e):null}doc(e){try{return e===void 0?new dr(this.firestore,Ym(this._delegate)):new dr(this.firestore,Ym(this._delegate,e))}catch(n){throw un(n,"doc()","CollectionReference.doc()")}}add(e){return hZ(this._delegate,e).then(n=>new dr(this.firestore,n))}isEqual(e){return E$(this._delegate,e._delegate)}withConverter(e){return new hc(this.firestore,e?this._delegate.withConverter(_a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jo(t){return me(t,Ge)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(...e){this._delegate=new Gs(...e)}static documentId(){return new ex(Fe.keyField().canonicalString())}isEqual(e){return e=H(e),e instanceof Gs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._delegate=e}static serverTimestamp(){const e=_Z();return e._methodName="FieldValue.serverTimestamp",new Co(e)}static delete(){const e=vZ();return e._methodName="FieldValue.delete",new Co(e)}static arrayUnion(...e){const n=wZ(...e);return n._methodName="FieldValue.arrayUnion",new Co(n)}static arrayRemove(...e){const n=EZ(...e);return n._methodName="FieldValue.arrayRemove",new Co(n)}static increment(e){const n=TZ(e);return n._methodName="FieldValue.increment",new Co(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ={Firestore:F$,GeoPoint:Ry,Timestamp:Ue,Blob:$$,Transaction:j$,WriteBatch:U$,DocumentReference:dr,DocumentSnapshot:lh,Query:cn,QueryDocumentSnapshot:ch,QuerySnapshot:hE,CollectionReference:hc,FieldPath:ex,FieldValue:Co,setLogLevel:PZ,CACHE_SIZE_UNLIMITED:VJ};function CZ(t,e){t.INTERNAL.registerComponent(new ii("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},AZ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){CZ(t,(e,n)=>new F$(e,n,new bZ)),t.registerVersion(IZ,xZ)}kZ(Sa);const NZ={apiKey:"AIzaSyDeFIOL89CU-qo_YSuHpfHynYQvAD95Nx8",authDomain:"nova-f5dc2.firebaseapp.com",projectId:"nova-f5dc2",storageBucket:"nova-f5dc2.appspot.com",messagingSenderId:"918095165409",appId:"1:918095165409:web:6a347812a7ccfa7d13c4a0",measurementId:"G-5VXXDBKJE7"},DZ=Sa.initializeApp(NZ);DZ.firestore();const Yf=Sa.auth(),OZ=(t,e)=>{const n=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(t),r=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(e);return n?r?null:"Weak Password":"Email is not valid"},VZ=(t,e)=>{const n=OZ(t,e);return n||null},MZ=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(!0),i=li(),s=E.useRef(null),o=E.useRef(null),a=E.useRef(null),l=()=>{const d=new br;aM(Yf,d).then(h=>{i("/home")}).catch(h=>{console.error("Error signing in with Google:",h),e(h.message)})},c=()=>{const d=VZ(s.current.value,o.current.value);if(d){e(d);return}n?QV(Yf,s.current.value,o.current.value).then(()=>{i("/home")}).catch(h=>{console.error("Error signing in:",h),e(h.message)}):HV(Yf,s.current.value,o.current.value).then(h=>{YV(h.user,{displayName:a.current.value,photoURL:f8}).then(()=>{Yf.currentUser,i("/home")}).catch(p=>{console.error("Error updating profile: ",p),e(p.message)})}).catch(h=>{console.error("Error creating user: ",h),e(h.message)})},u=()=>{r(!n),e(null)};return g.jsxs("div",{children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsx("img",{className:"absolute inset-0 h-full w-full object-cover",src:"login1.png",alt:"background",style:{zIndex:-1,position:"fixed"}})}),g.jsxs("div",{onSubmit:d=>d.preventDefault(),className:"w-full md:w-3/12 absolute p-12 bg-black my-36 mx-auto right-0 left-0 text-white rounded-lg bg-opacity-80",children:[g.jsx("h1",{className:"font-bold text-3xl py-4",children:"Sign In"}),g.jsx("input",{ref:s,type:"text",placeholder:"Email Address",className:"p-4 my-4 w-full bg-gray-700"}),g.jsx("input",{ref:o,type:"password",placeholder:"Password",className:"p-4 my-4 w-full bg-gray-700"}),!n&&g.jsx("input",{ref:a,type:"text",placeholder:"Full Name",className:"p-4 my-4 w-full bg-gray-700"}),t&&g.jsx("p",{className:"text-red-500",children:t}),g.jsx("button",{className:"p-4 my-6 bg-violet-950 w-full rounded-lg",onClick:c,children:n?"Sign In":"Sign Up"}),g.jsx("button",{className:"login-with-google-btn",onClick:l,children:"Sign In with Google"}),g.jsx("p",{className:"py-4 cursor-pointer",onClick:u,children:n?"New to Login? Sign Up Now":"Already registered? Sign In Now."})]})]})},LZ="https://image.tmdb.org/t/p/original",W$=()=>{const t=_c(),{movie:e}=t.state,[n,r]=E.useState(null),[i,s]=E.useState(!1);E.useEffect(()=>{o(e.id)},[e.id]);const o=async c=>{try{const d=await(await fetch(`https://api.themoviedb.org/3/movie/${c}/videos?language=en-US`,tV)).json(),p=(d==null?void 0:d.results.filter(f=>f.type==="Trailer"))[0];r(p==null?void 0:p.key)}catch(u){console.error("Error fetching movie videos:",u)}},a=()=>{s(!0)},l=()=>{s(!1)};return g.jsx("div",{className:"w-full relative overflow-hidden",children:g.jsx("div",{className:"flex justify-center items-center w-full overflow-hidden relative",children:g.jsx("div",{className:"flex-shrink-0 flex justify-center items-center",children:g.jsxs("div",{className:"relative",children:[e&&g.jsx("img",{src:`${LZ}${e==null?void 0:e.backdrop_path}`,alt:"Backdrop",className:"w-screen h-screen object-cover"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n&&i&&g.jsx("iframe",{className:"w-screen h-screen aspect-video",src:`https://www.youtube.com/embed/${n}?&autoplay=1&mute=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Watch only on NOVA XTREME"}),e&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-2xl font-bold",children:e==null?void 0:e.original_title}),g.jsxs("div",{className:"flex gap-3 mt-2",children:[g.jsx("button",{className:"px-4 py-2 bg-violet-950 text-white rounded hover:bg-indigo-950",onClick:a,children:"Play"}),g.jsx("button",{className:"px-4 py-2 bg-transparent border border-white text-white rounded hover:bg-gray-700",onClick:l,children:i?"END":"START"})]})]})]})]})})})})};W$.propTypes={movieId:Ee.number.isRequired,original_title:Ee.string.isRequired};const $Z=()=>{const{movieId:t}=q1();return g.jsx("div",{className:"overflow-x-hidden overflow-y-hidden flex justify-center items-center",children:g.jsx("div",{className:"relative",children:g.jsx(W$,{movieId:parseInt(t)})})})},tx=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),$y=E.createContext({}),Fy=E.createContext(null),nx=typeof document<"u",rx=nx?E.useLayoutEffect:E.useEffect,q$=E.createContext({strict:!1}),ix=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FZ="framerAppearId",G$="data-"+ix(FZ),jZ={skipAnimations:!1,useManualTiming:!1};class fA{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function UZ(t){let e=new fA,n=new fA,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,h=d?e:n;return c&&o.add(l),h.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];o.has(u)&&(a.schedule(u),t()),u(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const Xf=["read","resolveKeyframes","update","preRender","render","postRender"],BZ=40;function K$(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Xf.reduce((d,h)=>(d[h]=UZ(()=>n=!0),d),{}),o=d=>{s[d].process(i)},a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,BZ),1),i.timestamp=d,i.isProcessing=!0,Xf.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Xf.reduce((d,h)=>{const p=s[h];return d[h]=(f,m=!1,w=!1)=>(n||l(),p.schedule(f,m,w)),d},{}),cancel:d=>Xf.forEach(h=>s[h].cancel(d)),state:i,steps:s}}const{schedule:sx,cancel:ihe}=K$(queueMicrotask,!1);function zZ(t,e,n,r){const{visualElement:i}=E.useContext($y),s=E.useContext(q$),o=E.useContext(Fy),a=E.useContext(tx).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;E.useInsertionEffect(()=>{c&&c.update(n,o)});const u=E.useRef(!!(n[G$]&&!window.HandoffComplete));return rx(()=>{c&&(sx.postRender(c.render),u.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function yl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function WZ(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yl(n)&&(n.current=r))},[e])}function uh(t){return typeof t=="string"||Array.isArray(t)}function jy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ox=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ax=["initial",...ox];function Uy(t){return jy(t.animate)||ax.some(e=>uh(t[e]))}function H$(t){return!!(Uy(t)||t.variants)}function qZ(t,e){if(Uy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uh(n)?n:void 0,animate:uh(r)?r:void 0}}return t.inherit!==!1?e:{}}function GZ(t){const{initial:e,animate:n}=qZ(t,E.useContext($y));return E.useMemo(()=>({initial:e,animate:n}),[pA(e),pA(n)])}function pA(t){return Array.isArray(t)?t.join(" "):t}const mA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dh={};for(const t in mA)dh[t]={isEnabled:e=>mA[t].some(n=>!!e[n])};function KZ(t){for(const e in t)dh[e]={...dh[e],...t[e]}}const lx=E.createContext({}),Q$=E.createContext({}),HZ=Symbol.for("motionComponentSymbol");function QZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&KZ(t);function s(a,l){let c;const u={...E.useContext(tx),...a,layoutId:YZ(a)},{isStatic:d}=u,h=GZ(a),p=r(a,d);if(!d&&nx){h.visualElement=zZ(i,p,u,e);const f=E.useContext(Q$),m=E.useContext(q$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,m,t,f))}return g.jsxs($y.Provider,{value:h,children:[c&&h.visualElement?g.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,WZ(p,h.visualElement,l),p,d,h.visualElement)]})}const o=E.forwardRef(s);return o[HZ]=i,o}function YZ({layoutId:t}){const e=E.useContext(lx).id;return e&&t!==void 0?e+"-"+t:t}function XZ(t){function e(r,i={}){return QZ(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const JZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cx(t){return typeof t!="string"||t.includes("-")?!1:!!(JZ.indexOf(t)>-1||/[A-Z]/u.test(t))}const Jm={};function ZZ(t){Object.assign(Jm,t)}const af=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(af);function Y$(t,{layout:e,layoutId:n}){return Na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jm[t]||t==="opacity")}const nn=t=>!!(t&&t.getVelocity),eee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tee=af.length;function nee(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<tee;o++){const a=af[o];if(t[a]!==void 0){const l=eee[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const X$=t=>e=>typeof e=="string"&&e.startsWith(t),J$=X$("--"),ree=X$("var(--"),ux=t=>ree(t)?iee.test(t.split("/*")[0].trim()):!1,iee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,see=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hs=(t,e,n)=>n>e?e:n<t?t:n,Uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rd={...Uc,transform:t=>Hs(0,1,t)},Jf={...Uc,default:1},id=t=>Math.round(t*1e5)/1e5,dx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,oee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,aee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function lf(t){return typeof t=="string"}const cf=t=>({test:e=>lf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=cf("deg"),ti=cf("%"),Y=cf("px"),lee=cf("vh"),cee=cf("vw"),gA={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},yA={...Uc,transform:Math.round},Z$={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:Jf,scaleX:Jf,scaleY:Jf,scaleZ:Jf,skew:ss,skewX:ss,skewY:ss,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:rd,originX:gA,originY:gA,originZ:Y,zIndex:yA,backgroundPositionX:Y,backgroundPositionY:Y,fillOpacity:rd,strokeOpacity:rd,numOctaves:yA};function hx(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(J$(d)){s[d]=h;continue}const p=Z$[d],f=see(h,p);if(Na.has(d)){if(l=!0,o[d]=f,!u)continue;h!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=f):i[d]=f}if(e.transform||(l||r?i.transform=nee(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${d} ${h} ${p}`}}const fx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eF(t,e,n){for(const r in e)!nn(e[r])&&!Y$(r,n)&&(t[r]=e[r])}function uee({transformTemplate:t},e,n){return E.useMemo(()=>{const r=fx();return hx(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function dee(t,e,n){const r=t.style||{},i={};return eF(i,r,t),Object.assign(i,uee(t,e,n)),i}function hee(t,e,n){const r={},i=dee(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const fee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fee.has(t)}let tF=t=>!Zm(t);function pee(t){t&&(tF=e=>e.startsWith("on")?!Zm(e):t(e))}try{pee(require("@emotion/is-prop-valid").default)}catch{}function mee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(tF(i)||n===!0&&Zm(i)||!e&&!Zm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vA(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function gee(t,e,n){const r=vA(e,t.x,t.width),i=vA(n,t.y,t.height);return`${r} ${i}`}const yee={offset:"stroke-dashoffset",array:"stroke-dasharray"},vee={offset:"strokeDashoffset",array:"strokeDasharray"};function _ee(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?yee:vee;t[s.offset]=Y.transform(-r);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function px(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(hx(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f,dimensions:m}=t;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=gee(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&_ee(p,o,a,l,!1)}const nF=()=>({...fx(),attrs:{}}),mx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wee(t,e,n,r){const i=E.useMemo(()=>{const s=nF();return px(s,e,{enableHardwareAcceleration:!1},mx(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eF(s,t.style,t),i.style={...s,...i.style}}return i}function Eee(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(cx(n)?wee:hee)(r,s,o,n),c=mee(r,typeof n=="string",t),u=n!==E.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=E.useMemo(()=>nn(d)?d.get():d,[d]);return E.createElement(n,{...u,children:h})}}function rF(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const iF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sF(t,e,n,r){rF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(iF.has(i)?i:ix(i),e.attrs[i])}function gx(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(nn(i[o])||e.style&&nn(e.style[o])||Y$(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function oF(t,e,n){const r=gx(t,e,n);for(const i in t)if(nn(t[i])||nn(e[i])){const s=af.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function yx(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function aF(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const fE=t=>Array.isArray(t),Tee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Iee=t=>fE(t)?t[t.length-1]||0:t;function Op(t){const e=nn(t)?t.get():t;return Tee(e)?e.toValue():e}function xee({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:See(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const lF=t=>(e,n)=>{const r=E.useContext($y),i=E.useContext(Fy),s=()=>xee(t,e,r,i);return n?s():aF(s)};function See(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Op(s[h]);let{initial:o,animate:a}=t;const l=Uy(t),c=H$(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!jy(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const f=yx(t,p);if(!f)return;const{transitionEnd:m,transition:w,..._}=f;for(const v in _){let y=_[v];if(Array.isArray(y)){const T=u?y.length-1:0;y=y[T]}y!==null&&(i[v]=y)}for(const v in m)i[v]=m[v]}),i}const on=t=>t,{schedule:Ct,cancel:Qs,state:Ft,steps:$0}=K$(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0),bee={useVisualState:lF({scrapeMotionValuesFromProps:oF,createRenderState:nF,onMount:(t,e,{renderState:n,latestValues:r})=>{Ct.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ct.render(()=>{px(n,r,{enableHardwareAcceleration:!1},mx(e.tagName),t.transformTemplate),sF(e,n)})}})},Pee={useVisualState:lF({scrapeMotionValuesFromProps:gx,createRenderState:fx})};function Ree(t,{forwardMotionProps:e=!1},n,r){return{...cx(t)?bee:Pee,preloadedFeatures:n,useRender:Eee(e),createVisualElement:r,Component:t}}function _i(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const cF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function By(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Aee=t=>e=>cF(e)&&t(e,By(e));function xi(t,e,n,r){return _i(t,e,Aee(n),r)}const Cee=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(Cee);function uF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const _A=uF("dragHorizontal"),wA=uF("dragVertical");function dF(t){let e=!1;if(t==="y")e=wA();else if(t==="x")e=_A();else{const n=_A(),r=wA();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hF(){const t=dF(!0);return t?(t(),!1):!0}class co{constructor(e){this.isMounted=!1,this.node=e}update(){}}function EA(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||hF())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&l(s,o)};return xi(t.current,n,i,{passive:!t.getProps()[r]})}class kee extends co{mount(){this.unmount=Si(EA(this.node,!0),EA(this.node,!1))}unmount(){}}class Nee extends co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(_i(this.node.current,"focus",()=>this.onFocus()),_i(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fF=(t,e)=>e?t===e?!0:fF(t,e.parentElement):!1;function F0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,By(n))}class Dee extends co{constructor(){super(...arguments),this.removeStartListeners=on,this.removeEndListeners=on,this.removeAccessibleListeners=on,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=xi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();!d&&!fF(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)},{passive:!(r.onTap||r.onPointerUp)}),o=xi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||F0("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&u(l,c)})};this.removeEndListeners(),this.removeEndListeners=_i(this.node.current,"keyup",o),F0("down",(a,l)=>{this.startPress(a,l)})},n=_i(this.node.current,"keydown",e),r=()=>{this.isPressing&&F0("cancel",(s,o)=>this.cancelPress(s,o))},i=_i(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(e,n)}mount(){const e=this.node.getProps(),n=xi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=_i(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pE=new WeakMap,j0=new WeakMap,Oee=t=>{const e=pE.get(t.target);e&&e(t)},Vee=t=>{t.forEach(Oee)};function Mee({root:t,...e}){const n=t||document;j0.has(n)||j0.set(n,{});const r=j0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Vee,{root:t,...e})),r[i]}function Lee(t,e,n){const r=Mee(e);return pE.set(t,n),r.observe(t),()=>{pE.delete(t),r.unobserve(t)}}const $ee={some:0,all:1};class Fee extends co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$ee[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return Lee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jee(e,n))&&this.startObserver()}unmount(){}}function jee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Uee={inView:{Feature:Fee},tap:{Feature:Dee},focus:{Feature:Nee},hover:{Feature:kee}};function pF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function zee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function zy(t,e,n){const r=t.getProps();return yx(r,e,n!==void 0?n:r.custom,Bee(t),zee(t))}const Cs=t=>t*1e3,bi=t=>t/1e3,Wee={type:"spring",stiffness:500,damping:25,restSpeed:10},qee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gee={type:"keyframes",duration:.8},Kee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hee=(t,{keyframes:e})=>e.length>2?Gee:Na.has(t)?t.startsWith("scale")?qee(e[1]):Wee:Kee;function Qee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function vx(t,e){return t[e]||t.default||t}const Yee=t=>t!==null;function Wy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Yee),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let Vp;function Xee(){Vp=void 0}const ks={now:()=>(Vp===void 0&&ks.set(Ft.isProcessing||jZ.useManualTiming?Ft.timestamp:performance.now()),Vp),set:t=>{Vp=t,queueMicrotask(Xee)}},mF=t=>/^0[^.\s]+$/u.test(t);function Jee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mF(t):!0}let gF=on;const yF=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Zee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ete(t){const e=Zee.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function vF(t,e,n=1){const[r,i]=ete(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return yF(o)?parseFloat(o):o}return ux(i)?vF(i,e,n+1):i}const tte=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TA=t=>t===Uc||t===Y,IA=(t,e)=>parseFloat(t.split(", ")[e]),xA=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return IA(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?IA(s[1],t):0}},nte=new Set(["x","y","z"]),rte=af.filter(t=>!nte.has(t));function ite(t){const e=[];return rte.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xA(4,13),y:xA(5,14)};fc.translateX=fc.x;fc.translateY=fc.y;const _F=t=>e=>e.test(t),ste={test:t=>t==="auto",parse:t=>t},wF=[Uc,Y,ti,ss,cee,lee,ste],SA=t=>wF.find(_F(t)),Jo=new Set;let mE=!1,gE=!1;function EF(){if(gE){const t=Array.from(Jo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=ite(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gE=!1,mE=!1,Jo.forEach(t=>t.complete()),Jo.clear()}function TF(){Jo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gE=!0)})}function ote(){TF(),EF()}class _x{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jo.add(this),mE||(mE=!0,Ct.read(TF),Ct.resolveKeyframes(EF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wx=(t,e)=>n=>!!(lf(n)&&aee.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),IF=(t,e,n)=>r=>{if(!lf(r))return r;const[i,s,o,a]=r.match(dx);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ate=t=>Hs(0,255,t),U0={...Uc,transform:t=>Math.round(ate(t))},Uo={test:wx("rgb","red"),parse:IF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+U0.transform(t)+", "+U0.transform(e)+", "+U0.transform(n)+", "+id(rd.transform(r))+")"};function lte(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yE={test:wx("#"),parse:lte,transform:Uo.transform},vl={test:wx("hsl","hue"),parse:IF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ti.transform(id(e))+", "+ti.transform(id(n))+", "+id(rd.transform(r))+")"},Zt={test:t=>Uo.test(t)||yE.test(t)||vl.test(t),parse:t=>Uo.test(t)?Uo.parse(t):vl.test(t)?vl.parse(t):yE.parse(t),transform:t=>lf(t)?t:t.hasOwnProperty("red")?Uo.transform(t):vl.transform(t)};function cte(t){var e,n;return isNaN(t)&&lf(t)&&(((e=t.match(dx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oee))===null||n===void 0?void 0:n.length)||0)>0}const xF="number",SF="color",ute="var",dte="var(",bA="${}",hte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(hte,l=>(Zt.test(l)?(r.color.push(s),i.push(SF),n.push(Zt.parse(l))):l.startsWith(dte)?(r.var.push(s),i.push(ute),n.push(l)):(r.number.push(s),i.push(xF),n.push(parseFloat(l))),++s,bA)).split(bA);return{values:n,split:a,indexes:r,types:i}}function bF(t){return eg(t).values}function PF(t){const{split:e,types:n}=eg(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===xF?s+=id(i[o]):a===SF?s+=Zt.transform(i[o]):s+=i[o]}return s}}const fte=t=>typeof t=="number"?0:t;function pte(t){const e=bF(t);return PF(t)(e.map(fte))}const Ys={test:cte,parse:bF,createTransformer:PF,getAnimatableNone:pte},mte=new Set(["brightness","contrast","saturate","opacity"]);function gte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dx)||[];if(!r)return t;const i=n.replace(r,"");let s=mte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const yte=/\b([a-z-]*)\(.*?\)/gu,vE={...Ys,getAnimatableNone:t=>{const e=t.match(yte);return e?e.map(gte).join(" "):t}},vte={...Z$,color:Zt,backgroundColor:Zt,outlineColor:Zt,fill:Zt,stroke:Zt,borderColor:Zt,borderTopColor:Zt,borderRightColor:Zt,borderBottomColor:Zt,borderLeftColor:Zt,filter:vE,WebkitFilter:vE},Ex=t=>vte[t];function RF(t,e){let n=Ex(t);return n!==vE&&(n=Ys),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function _te(t,e,n){let r=0,i;for(;r<t.length&&!i;)typeof t[r]=="string"&&t[r]!=="none"&&t[r]!=="0"&&(i=t[r]),r++;if(i&&n)for(const s of e)t[s]=RF(n,i)}class AF extends _x{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const c=e[l];if(typeof c=="string"&&ux(c)){const u=vF(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(!tte.has(r)||e.length!==2)return this.resolveNoneKeyframes();const[i,s]=e,o=SA(i),a=SA(s);if(o!==a)if(TA(o)&&TA(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Jee(e[i])&&r.push(i);r.length&&_te(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=fc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function wte(t){let e;return()=>(e===void 0&&(e=t()),e)}const PA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ys.test(t)||t==="0")&&!t.startsWith("url("));function Ete(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Tte(t,e,n,r){const i=t[0];if(i===null)return!1;const s=t[t.length-1],o=PA(i,e),a=PA(s,e);return!o||!a?!1:Ete(t)||n==="spring"&&r}class CF{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ote(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Tte(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Wy(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function kF(t,e){return e?t*(1e3/e):0}const Ite=5;function NF(t,e,n){const r=Math.max(e-Ite,0);return kF(n-t(r),e-r)}const B0=.001,xte=.01,Ste=10,bte=.05,Pte=1;function Rte({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Hs(bte,Pte,o),t=Hs(xte,Ste,bi(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,p=_E(c,o),f=Math.exp(-d);return B0-h/p*f},s=c=>{const d=c*o*t,h=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,f=Math.exp(-d),m=_E(Math.pow(c,2),o);return(-i(c)+B0>0?-1:1)*((h-p)*f)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-B0+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Cte(i,s,a);if(t=Cs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Ate=12;function Cte(t,e,n){let r=n;for(let i=1;i<Ate;i++)r=r-t(r)/e(r);return r}function _E(t,e){return t*Math.sqrt(1-e*e)}const kte=["duration","bounce"],Nte=["stiffness","damping","mass"];function RA(t,e){return e.some(n=>t[n]!==void 0)}function Dte(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!RA(t,Nte)&&RA(t,kte)){const n=Rte(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function DF({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=Dte({...r,velocity:-bi(r.velocity||0)}),p=d||0,f=l/(2*Math.sqrt(a*c)),m=s-i,w=bi(Math.sqrt(a/c)),_=Math.abs(m)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let v;if(f<1){const y=_E(w,f);v=T=>{const I=Math.exp(-f*w*T);return s-I*((p+f*w*m)/y*Math.sin(y*T)+m*Math.cos(y*T))}}else if(f===1)v=y=>s-Math.exp(-w*y)*(m+(p+w*m)*y);else{const y=w*Math.sqrt(f*f-1);v=T=>{const I=Math.exp(-f*w*T),x=Math.min(y*T,300);return s-I*((p+f*w*m)*Math.sinh(x)+y*m*Math.cosh(x))/y}}return{calculatedDuration:h&&u||null,next:y=>{const T=v(y);if(h)o.done=y>=u;else{let I=p;y!==0&&(f<1?I=NF(v,y,T):I=0);const x=Math.abs(I)<=n,S=Math.abs(s-T)<=e;o.done=x&&S}return o.value=o.done?s:T,o}}}function AA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=P=>a!==void 0&&P<a||l!==void 0&&P>l,f=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let m=n*e;const w=d+m,_=o===void 0?w:o(w);_!==w&&(m=_-d);const v=P=>-m*Math.exp(-P/r),y=P=>_+v(P),T=P=>{const $=v(P),N=y(P);h.done=Math.abs($)<=c,h.value=h.done?_:N};let I,x;const S=P=>{p(h.value)&&(I=P,x=DF({keyframes:[h.value,f(h.value)],velocity:NF(y,P,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:P=>{let $=!1;return!x&&I===void 0&&($=!0,T(P),S(P)),I!==void 0&&P>=I?x.next(P-I):(!$&&T(P),h)}}}const OF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Ote=1e-7,Vte=12;function Mte(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=OF(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Ote&&++a<Vte);return o}function uf(t,e,n,r){if(t===e&&n===r)return on;const i=s=>Mte(s,0,1,t,n);return s=>s===0||s===1?s:OF(i(s),e,r)}const Lte=uf(.42,0,1,1),$te=uf(0,0,.58,1),VF=uf(.42,0,.58,1),Fte=t=>Array.isArray(t)&&typeof t[0]!="number",MF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LF=t=>e=>1-t(1-e),Tx=t=>1-Math.sin(Math.acos(t)),$F=LF(Tx),jte=MF(Tx),FF=uf(.33,1.53,.69,.99),Ix=LF(FF),Ute=MF(Ix),Bte=t=>(t*=2)<1?.5*Ix(t):.5*(2-Math.pow(2,-10*(t-1))),zte={linear:on,easeIn:Lte,easeInOut:VF,easeOut:$te,circIn:Tx,circInOut:jte,circOut:$F,backIn:Ix,backInOut:Ute,backOut:FF,anticipate:Bte},CA=t=>{if(Array.isArray(t)){gF(t.length===4);const[e,n,r,i]=t;return uf(e,n,r,i)}else if(typeof t=="string")return zte[t];return t},hh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},We=(t,e,n)=>t+(e-t)*n;function z0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Wte({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=z0(l,a,t+1/3),s=z0(l,a,t),o=z0(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const W0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},qte=[yE,Uo,vl],Gte=t=>qte.find(e=>e.test(t));function kA(t){const e=Gte(t);let n=e.parse(t);return e===vl&&(n=Wte(n)),n}const NA=(t,e)=>{const n=kA(t),r=kA(e),i={...n};return s=>(i.red=W0(n.red,r.red,s),i.green=W0(n.green,r.green,s),i.blue=W0(n.blue,r.blue,s),i.alpha=We(n.alpha,r.alpha,s),Uo.transform(i))};function wE(t,e){return n=>n>0?e:t}function Kte(t,e){return n=>We(t,e,n)}function xx(t){return typeof t=="number"?Kte:typeof t=="string"?ux(t)?wE:Zt.test(t)?NA:Yte:Array.isArray(t)?jF:typeof t=="object"?Zt.test(t)?NA:Hte:wE}function jF(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>xx(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Hte(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=xx(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Qte(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Yte=(t,e)=>{const n=Ys.createTransformer(e),r=eg(t),i=eg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Si(jF(Qte(r,i),i.values),n):wE(t,e)};function UF(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):xx(t)(t,e)}function Xte(t,e,n){const r=[],i=n||UF,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||on:e;a=Si(l,a)}r.push(a)}return r}function Jte(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(gF(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Xte(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=hh(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Hs(t[0],t[s-1],c)):l}function Zte(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hh(0,e,r);t.push(We(n,1,i))}}function ene(t){const e=[0];return Zte(e,t.length-1),e}function tne(t,e){return t.map(n=>n*e)}function nne(t,e){return t.map(()=>e||VF).splice(0,t.length-1)}function tg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Fte(r)?r.map(CA):CA(r),s={done:!1,value:e[0]},o=tne(n&&n.length===e.length?n:ene(e),t),a=Jte(o,e,{ease:Array.isArray(i)?i:nne(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const DA=2e4;function rne(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<DA;)e+=n,r=t.next(e);return e>=DA?1/0:e}const ine=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ct.update(e,!0),stop:()=>Qs(e),now:()=>Ft.isProcessing?Ft.timestamp:ks.now()}},sne={decay:AA,inertia:AA,tween:tg,keyframes:tg,spring:DF},one=t=>t/100;class Sx extends CF{constructor({KeyframeResolver:e=_x,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=sne[n]||tg;let l,c;a!==tg&&typeof e[0]!="number"&&(l=Si(one,UF(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=rne(u));const{calculatedDuration:d}=u,h=d+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:f,repeatDelay:m,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let y=this.currentTime,T=s;if(p){const P=Math.min(this.currentTime,u)/d;let $=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&$--,$=Math.min($,p+1),!!($%2)&&(f==="reverse"?(N=1-N,m&&(N-=m/d)):f==="mirror"&&(T=o)),y=Hs(0,1,N)*d}const I=v?{done:!1,value:l[0]}:T.next(y);a&&(I.value=a(I.value));let{done:x}=I;!v&&c!==null&&(x=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&x);return S&&i!==void 0&&(I.value=Wy(l,this.options,i)),w&&w(I.value),S&&this.finish(),I}get duration(){const{resolved:e}=this;return e?bi(e.calculatedDuration):0}get time(){return bi(this.currentTime)}set time(e){e=Cs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ine,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const BF=t=>Array.isArray(t)&&typeof t[0]=="number";function zF(t){return!!(!t||typeof t=="string"&&t in bx||BF(t)||Array.isArray(t)&&t.every(zF))}const Vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vu([0,.65,.55,1]),circOut:Vu([.55,0,1,.45]),backIn:Vu([.31,.01,.66,-.59]),backOut:Vu([.33,1.53,.69,.99])};function ane(t){return WF(t)||bx.easeOut}function WF(t){if(t)return BF(t)?Vu(t):Array.isArray(t)?t.map(ane):bx[t]}function lne(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=WF(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const cne=wte(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),une=new Set(["opacity","clipPath","filter","transform"]),ng=10,dne=2e4;function hne(t){return t.type==="spring"||t.name==="backgroundColor"||!zF(t.ease)}function fne(t,e){const n=new Sx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<dne;)r=n.sample(s),i.push(r.value),s+=ng;return{times:void 0,keyframes:i,duration:s-ng,ease:"linear"}}class OA extends CF{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new AF(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(hne(this.options)){const{onComplete:d,onUpdate:h,motionValue:p,...f}=this.options,m=fne(e,f);e=m.keyframes,e.length===1&&(e[1]=e[0]),i=m.duration,s=m.times,o=m.ease,a="keyframes"}const u=lne(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return u.startTime=ks.now(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;l.set(Wy(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return bi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return bi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Cs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return on;const{animation:r}=n;r.timeline=e,r.onfinish=null}return on}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:u,...d}=this.options,h=new Sx({...d,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),p=Cs(this.time);l.setWithVelocity(h.sample(p-ng).value,h.sample(p).value,ng)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return cne()&&r&&une.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Px=(t,e,n,r={},i,s)=>o=>{const a=vx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Cs(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Qee(a)||(u={...u,...Hee(t,u)}),u.duration&&(u.duration=Cs(u.duration)),u.repeatDelay&&(u.repeatDelay=Cs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=Wy(u.keyframes,a);if(h!==void 0){Ct.update(()=>{u.onUpdate(h),u.onComplete()});return}}return!s&&OA.supports(u)?new OA(u):new Sx(u)};function rg(t){return!!(nn(t)&&t.add)}function Rx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ax(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cx{constructor(){this.subscriptions=[]}add(e){return Rx(this.subscriptions,e),()=>Ax(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const VA=30,pne=t=>!isNaN(parseFloat(t));class mne{constructor(e,n={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ks.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=pne(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ks.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>VA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VA);return kF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fh(t,e){return new mne(t,e)}function gne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fh(n))}function yne(t,e){const n=zy(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Iee(s[o]);gne(t,o,a)}}function vne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function qF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),f=l[h];if(f===void 0||d&&vne(d,h))continue;const m={delay:n,elapsed:0,...vx(o||{},h)};let w=!1;if(window.HandoffAppearAnimations){const y=t.getProps()[G$];if(y){const T=window.HandoffAppearAnimations(y,h);T!==null&&(m.elapsed=T,w=!0)}}p.start(Px(h,p,f,t.shouldReduceMotion&&Na.has(h)?{type:!1}:m,t,w));const _=p.animation;_&&(rg(c)&&(c.add(h),_.then(()=>c.remove(h))),u.push(_))}return a&&Promise.all(u).then(()=>{Ct.update(()=>{a&&yne(t,a)})}),u}function EE(t,e,n={}){var r;const i=zy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(qF(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return _ne(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function _ne(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(wne).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(EE(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function wne(t,e){return t.sortNodePosition(e)}function Ene(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>EE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=EE(t,e,n);else{const i=typeof e=="function"?zy(t,e,n.custom):e;r=Promise.all(qF(t,i,n))}return r.then(()=>{Ct.postRender(()=>{t.notify("AnimationComplete",e)})})}const Tne=[...ox].reverse(),Ine=ox.length;function xne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ene(t,n,r)))}function Sne(t){let e=xne(t);const n=Pne();let r=!0;const i=l=>(c,u)=>{var d;const h=zy(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:f,...m}=h;c={...c,...m,...f}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),u=t.getVariantContext(!0)||{},d=[],h=new Set;let p={},f=1/0;for(let w=0;w<Ine;w++){const _=Tne[w],v=n[_],y=c[_]!==void 0?c[_]:u[_],T=uh(y),I=_===l?v.isActive:null;I===!1&&(f=w);let x=y===u[_]&&y!==c[_]&&T;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),v.protectedKeys={...p},!v.isActive&&I===null||!y&&!v.prevProp||jy(y)||typeof y=="boolean")continue;let P=bne(v.prevProp,y)||_===l&&v.isActive&&!x&&T||w>f&&T,$=!1;const N=Array.isArray(y)?y:[y];let Q=N.reduce(i(_),{});I===!1&&(Q={});const{prevResolvedValues:re={}}=v,de={...re,...Q},J=te=>{P=!0,h.has(te)&&($=!0,h.delete(te)),v.needsAnimating[te]=!0;const K=t.getValue(te);K&&(K.liveStyle=!1)};for(const te in de){const K=Q[te],oe=re[te];if(p.hasOwnProperty(te))continue;let D=!1;fE(K)&&fE(oe)?D=!pF(K,oe):D=K!==oe,D?K!=null?J(te):h.add(te):K!==void 0&&h.has(te)?J(te):v.protectedKeys[te]=!0}v.prevProp=y,v.prevResolvedValues=Q,v.isActive&&(p={...p,...Q}),r&&t.blockInitialAnimation&&(P=!1),P&&(!x||$)&&d.push(...N.map(te=>({animation:te,options:{type:_}})))}if(h.size){const w={};h.forEach(_=>{const v=t.getBaseTarget(_),y=t.getValue(_);y&&(y.liveStyle=!0),w[_]=v??null}),d.push({animation:w})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function bne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pF(e,t):!1}function mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pne(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class Rne extends co{constructor(e){super(e),e.animationState||(e.animationState=Sne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),jy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Ane=0;class Cne extends co{constructor(){super(...arguments),this.id=Ane++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kne={animation:{Feature:Rne},exit:{Feature:Cne}},MA=(t,e)=>Math.abs(t-e);function Nne(t,e){const n=MA(t.x,e.x),r=MA(t.y,e.y);return Math.sqrt(n**2+r**2)}class GF{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=G0(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Nne(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:f}=d,{timestamp:m}=Ft;this.history.push({...f,timestamp:m});const{onStart:w,onMove:_}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=q0(h,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:f,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=G0(d.type==="pointercancel"?this.lastMoveEventInfo:q0(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,w),f&&f(d,w)},!cF(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=By(e),a=q0(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ft;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,G0(a,this.history)),this.removeListeners=Si(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function q0(t,e){return e?{point:e(t.point)}:t}function LA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function G0({point:t},e){return{point:t,delta:LA(t,KF(e)),offset:LA(t,Dne(e)),velocity:One(e,.1)}}function Dne(t){return t[0]}function KF(t){return t[t.length-1]}function One(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=KF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Cs(e)));)n--;if(!r)return{x:0,y:0};const s=bi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qn(t){return t.max-t.min}function TE(t,e=0,n=.01){return Math.abs(t-e)<=n}function $A(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),(TE(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(TE(t.translate)||isNaN(t.translate))&&(t.translate=0)}function sd(t,e,n,r){$A(t.x,e.x,n.x,r?r.originX:void 0),$A(t.y,e.y,n.y,r?r.originY:void 0)}function FA(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function Vne(t,e,n){FA(t.x,e.x,n.x),FA(t.y,e.y,n.y)}function jA(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function od(t,e,n){jA(t.x,e.x,n.x),jA(t.y,e.y,n.y)}function Mne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function UA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Lne(t,{top:e,left:n,bottom:r,right:i}){return{x:UA(t.x,n,i),y:UA(t.y,e,r)}}function BA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $ne(t,e){return{x:BA(t.x,e.x),y:BA(t.y,e.y)}}function Fne(t,e){let n=.5;const r=Qn(t),i=Qn(e);return i>r?n=hh(e.min,e.max-r,t.min):r>i&&(n=hh(t.min,t.max-i,e.min)),Hs(0,1,n)}function jne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const IE=.35;function Une(t=IE){return t===!1?t=0:t===!0&&(t=IE),{x:zA(t,"left","right"),y:zA(t,"top","bottom")}}function zA(t,e,n){return{min:WA(t,e),max:WA(t,n)}}function WA(t,e){return typeof t=="number"?t:t[e]||0}const qA=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:qA(),y:qA()}),GA=()=>({min:0,max:0}),at=()=>({x:GA(),y:GA()});function nr(t){return[t("x"),t("y")]}function HF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Bne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function K0(t){return t===void 0||t===1}function xE({scale:t,scaleX:e,scaleY:n}){return!K0(t)||!K0(e)||!K0(n)}function Eo(t){return xE(t)||QF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QF(t){return KA(t.x)||KA(t.y)}function KA(t){return t&&t!=="0%"}function ig(t,e,n){const r=t-n,i=e*r;return n+i}function HA(t,e,n,r,i){return i!==void 0&&(t=ig(t,i,r)),ig(t,n,r)+e}function SE(t,e=0,n=1,r,i){t.min=HA(t.min,e,n,r,i),t.max=HA(t.max,e,n,r,i)}function YF(t,{x:e,y:n}){SE(t.x,e.translate,e.scale,e.originPoint),SE(t.y,n.translate,n.scale,n.originPoint)}function Wne(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&wl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YF(t,o)),r&&Eo(s.latestValues)&&wl(t,s.latestValues))}e.x=QA(e.x),e.y=QA(e.y)}function QA(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ls(t,e){t.min=t.min+e,t.max=t.max+e}function YA(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=We(t.min,t.max,s);SE(t,e[n],e[r],o,e.scale)}const qne=["x","scaleX","originX"],Gne=["y","scaleY","originY"];function wl(t,e){YA(t.x,e,qne),YA(t.y,e,Gne)}function XF(t,e){return HF(zne(t.getBoundingClientRect(),e))}function Kne(t,e,n){const r=XF(t,n),{scroll:i}=e;return i&&(ls(r.x,i.offset.x),ls(r.y,i.offset.y)),r}const JF=({current:t})=>t?t.ownerDocument.defaultView:null,Hne=new WeakMap;class Qne{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(By(u,"page").point)},s=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:f}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dF(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(w=>{let _=this.getAxisMotionValue(w).get()||0;if(ti.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[w];y&&(_=Qn(y)*(parseFloat(_)/100))}}this.originPoint[w]=_}),f&&f(u,d);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:f,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=d;if(p&&this.currentDirection===null){this.currentDirection=Yne(w),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>nr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new GF(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:JF(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&s(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Zf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Mne(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&yl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Lne(i.layoutBox,n):this.constraints=!1,this.elastic=Une(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&nr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jne(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Kne(r,i.root,this.visualElement.getTransformPagePoint());let o=$ne(i.layout.layoutBox,s);if(n){const a=n(Bne(o));this.hasMutatedConstraints=!!a,a&&(o=HF(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=nr(u=>{if(!Zf(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,f={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,f)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Px(e,r,0,n,this.visualElement))}stopAnimation(){nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nr(n=>{const{drag:r}=this.getProps();if(!Zf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-We(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};nr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Fne({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nr(o=>{if(!Zf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(We(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Hne.set(this.visualElement,this);const e=this.visualElement.current,n=xi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yl(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=_i(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(nr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=IE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Yne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Xne extends co{constructor(e){super(e),this.removeGroupControls=on,this.removeListeners=on,this.controls=new Qne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const XA=t=>(e,n)=>{t&&t(e,n)};class Jne extends co{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(e){this.session=new GF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:XA(e),onStart:XA(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&i(s,o)}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Zne(){const t=E.useContext(Fy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Mp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=JA(t,e.target.x),r=JA(t,e.target.y);return`${n}% ${r}%`}},ere={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ys.parse(t);if(i.length>5)return r;const s=Ys.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=We(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class tre extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ZZ(nre),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Mp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ct.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZF(t){const[e,n]=Zne(),r=E.useContext(lx);return g.jsx(tre,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Q$),isPresent:e,safeToRemove:n})}const nre={borderRadius:{...pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pu,borderTopRightRadius:pu,borderBottomLeftRadius:pu,borderBottomRightRadius:pu,boxShadow:ere},ej=["TopLeft","TopRight","BottomLeft","BottomRight"],rre=ej.length,ZA=t=>typeof t=="string"?parseFloat(t):t,eC=t=>typeof t=="number"||Y.test(t);function ire(t,e,n,r,i,s){i?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,sre(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,ore(r))):s&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<rre;o++){const a=`border${ej[o]}Radius`;let l=tC(e,a),c=tC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||eC(l)===eC(c)?(t[a]=Math.max(We(ZA(l),ZA(c),r),0),(ti.test(c)||ti.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function tC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sre=tj(0,.5,$F),ore=tj(.5,.95,on);function tj(t,e,n){return r=>r<t?0:r>e?1:n(hh(t,e,r))}function nC(t,e){t.min=e.min,t.max=e.max}function tr(t,e){nC(t.x,e.x),nC(t.y,e.y)}function rC(t,e,n,r,i){return t-=e,t=ig(t,1/n,r),i!==void 0&&(t=ig(t,1/i,r)),t}function are(t,e=0,n=1,r=.5,i,s=t,o=t){if(ti.test(e)&&(e=parseFloat(e),e=We(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=We(s.min,s.max,r);t===s&&(a-=e),t.min=rC(t.min,e,n,a,i),t.max=rC(t.max,e,n,a,i)}function iC(t,e,[n,r,i],s,o){are(t,e[n],e[r],e[i],e.scale,s,o)}const lre=["x","scaleX","originX"],cre=["y","scaleY","originY"];function sC(t,e,n,r){iC(t.x,e,lre,n?n.x:void 0,r?r.x:void 0),iC(t.y,e,cre,n?n.y:void 0,r?r.y:void 0)}function oC(t){return t.translate===0&&t.scale===1}function nj(t){return oC(t.x)&&oC(t.y)}function ure(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function rj(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aC(t){return Qn(t.x)/Qn(t.y)}class dre{constructor(){this.members=[]}add(e){Rx(this.members,e),e.scheduleRender()}remove(e){if(Ax(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lC(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:f}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),f&&(r+=`skewY(${f}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hre=(t,e)=>t.depth-e.depth;class fre{constructor(){this.children=[],this.isDirty=!1}add(e){Rx(this.children,e),this.isDirty=!0}remove(e){Ax(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hre),this.isDirty=!1,this.children.forEach(e)}}function pre(t,e){const n=ks.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Qs(r),t(s-e))};return Ct.read(r,!0),()=>Qs(r)}function mre(t){window.MotionDebug&&window.MotionDebug.record(t)}function gre(t){return t instanceof SVGElement&&t.tagName!=="svg"}function yre(t,e,n){const r=nn(t)?t:fh(t);return r.start(Px("",r,e,n)),r.animation}const H0=["","X","Y","Z"],vre={visibility:"hidden"},cC=1e3;let _re=0;const To={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Q0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ij({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_re++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,To.totalNodes=To.resolvedTargetDeltas=To.recalculatedProjection=0,this.nodes.forEach(Tre),this.nodes.forEach(Pre),this.nodes.forEach(Rre),this.nodes.forEach(Ire),mre(To)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fre)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gre(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=pre(h,250),Mp.hasAnimatedSinceResize&&(Mp.hasAnimatedSinceResize=!1,this.nodes.forEach(dC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||Dre,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=u.getProps(),v=!this.targetLayout||!rj(this.targetLayout,f)||p,y=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const T={...vx(m,"layout"),onPlay:w,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else h||dC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Are),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uC);return}this.isUpdating||this.nodes.forEach(Sre),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(bre),this.nodes.forEach(wre),this.nodes.forEach(Ere),this.clearAllSnapshots();const a=ks.now();Ft.delta=Hs(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,$0.update.process(Ft),$0.preRender.process(Ft),$0.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sx.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(xre),this.sharedNodes.forEach(Cre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!nj(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Eo(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Ore(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return at();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ls(a.x,l.offset.x),ls(a.y,l.offset.y)),a}removeElementScroll(o){const a=at();tr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){tr(a,o);const{scroll:h}=this.root;h&&(ls(a.x,-h.offset.x),ls(a.y,-h.offset.y))}ls(a.x,u.offset.x),ls(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=at();tr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Eo(u.latestValues)&&wl(l,u.latestValues)}return Eo(this.latestValues)&&wl(l,this.latestValues),l}removeTransform(o){const a=at();tr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Eo(c.latestValues))continue;xE(c.latestValues)&&c.updateSnapshot();const u=at(),d=c.measurePageBox();tr(u,d),sC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Eo(this.latestValues)&&sC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),od(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),YF(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),od(this.relativeTargetOrigin,this.target,p.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}To.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xE(this.parent.latestValues)||QF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;tr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Wne(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=at());const{target:f}=a;if(!f){this.projectionTransform&&(this.projectionDelta=_l(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l());const m=this.projectionTransform;sd(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=lC(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),To.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=at(),p=l?l.source:void 0,f=this.layout?this.layout.source:void 0,m=p!==f,w=this.getStack(),_=!w||w.members.length<=1,v=!!(m&&!_&&this.options.crossfade===!0&&!this.path.some(Nre));this.animationProgress=0;let y;this.mixTargetDelta=T=>{const I=T/1e3;hC(d.x,o.x,I),hC(d.y,o.y,I),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(od(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kre(this.relativeTarget,this.relativeTargetOrigin,h,I),y&&ure(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=at()),tr(y,this.relativeTarget)),m&&(this.animationValues=u,ire(u,c,this.latestValues,I,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{Mp.hasAnimatedSinceResize=!0,this.currentAnimation=yre(0,cC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||at();const d=Qn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Qn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}tr(a,l),wl(a,u),sd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dre),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Q0("z",o,c,this.animationValues);for(let u=0;u<H0.length;u++)Q0(`rotate${H0[u]}`,o,c,this.animationValues),Q0(`skew${H0[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vre;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Op(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Op(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Eo(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=lC(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:f}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Jm){if(h[m]===void 0)continue;const{correct:w,applyTo:_}=Jm[m],v=c.transform==="none"?h[m]:w(h[m],d);if(_){const y=_.length;for(let T=0;T<y;T++)c[_[T]]=v}else c[m]=v}return this.options.layoutId&&(c.pointerEvents=d===this?Op(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(uC),this.root.sharedNodes.clear()}}}function wre(t){t.updateLayout()}function Ere(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?nr(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=Qn(h);h.min=r[d].min,h.max=h.min+p}):sj(s,n.layoutBox,r)&&nr(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=Qn(r[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=_l();sd(a,r,n.layoutBox);const l=_l();o?sd(l,t.applyTransform(i,!0),n.measuredBox):sd(l,r,n.layoutBox);const c=!nj(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const f=at();od(f,n.layoutBox,h.layoutBox);const m=at();od(m,r,p.layoutBox),rj(f,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=f,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Tre(t){To.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ire(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xre(t){t.clearSnapshot()}function uC(t){t.clearMeasurements()}function Sre(t){t.isLayoutDirty=!1}function bre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pre(t){t.resolveTargetDelta()}function Rre(t){t.calcProjection()}function Are(t){t.resetSkewAndRotation()}function Cre(t){t.removeLeadSnapshot()}function hC(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fC(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function kre(t,e,n,r){fC(t.x,e.x,n.x,r),fC(t.y,e.y,n.y,r)}function Nre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Dre={duration:.45,ease:[.4,0,.1,1]},pC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mC=pC("applewebkit/")&&!pC("chrome/")?Math.round:on;function gC(t){t.min=mC(t.min),t.max=mC(t.max)}function Ore(t){gC(t.x),gC(t.y)}function sj(t,e,n){return t==="position"||t==="preserve-aspect"&&!TE(aC(e),aC(n),.2)}const Vre=ij({attachResizeListener:(t,e)=>_i(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Y0={current:void 0},oj=ij({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Y0.current){const t=new Vre({});t.mount(window),t.setOptions({layoutScroll:!0}),Y0.current=t}return Y0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mre={pan:{Feature:Jne},drag:{Feature:Xne,ProjectionNode:oj,MeasureLayout:ZF}},bE={current:null},aj={current:!1};function Lre(){if(aj.current=!0,!!nx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bE.current=t.matches;t.addListener(e),e()}else bE.current=!1}function $re(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(nn(s))t.addValue(i,s),rg(r)&&r.add(i);else if(nn(o))t.addValue(i,fh(s,{owner:t})),rg(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,fh(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const yC=new WeakMap,Fre=[...wF,Zt,Ys],jre=t=>Fre.find(_F(t)),lj=Object.keys(dh),Ure=lj.length,vC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bre=ax.length;function cj(t){if(t)return t.options.allowProjection!==!1?t.projection:cj(t.parent)}class zre{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(h,p,f,m)=>new this.KeyframeResolver(h,p,f,m,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_x,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ct.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Uy(n),this.isVariantNode=H$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&nn(p)&&(p.set(l[h],!1),rg(u)&&u.add(h))}}mount(e){this.current=e,yC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aj.current||Lre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;yC.delete(this.current),this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(e=this.features[n])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,n){const r=Na.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<Ure;l++){const c=lj[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:p}=dh[c];h&&(o=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,cj(this.parent));const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&yl(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vC.length;r++){const i=vC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$re(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Bre;r++){const i=ax[r],s=this.props[i];(uh(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=fh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(yF(i)||mF(i))?i=parseFloat(i):!jre(i)&&Ys.test(n)&&(i=RF(e,n)),this.setBaseTarget(e,nn(i)?i.get():i)),nn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=yx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!nn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uj extends zre{constructor(){super(...arguments),this.KeyframeResolver=AF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Wre(t){return window.getComputedStyle(t)}class qre extends uj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Na.has(n)){const r=Ex(n);return r&&r.default||0}else{const r=Wre(e),i=(J$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XF(e,n)}build(e,n,r,i){hx(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return gx(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){rF(e,n,r,i)}}class Gre extends uj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Na.has(n)){const r=Ex(n);return r&&r.default||0}return n=iF.has(n)?n:ix(n),e.getAttribute(n)}measureInstanceViewportBox(){return at()}scrapeMotionValuesFromProps(e,n,r){return oF(e,n,r)}build(e,n,r,i){px(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){sF(e,n,r,i)}mount(e){this.isSVGTag=mx(e.tagName),super.mount(e)}}const Kre=(t,e)=>cx(t)?new Gre(e,{enableHardwareAcceleration:!1}):new qre(e,{allowProjection:t!==E.Fragment,enableHardwareAcceleration:!0}),Hre={layout:{ProjectionNode:oj,MeasureLayout:ZF}},Qre={...kne,...Uee,...Mre,...Hre},Yre=XZ((t,e)=>Ree(t,e,Qre,Kre));function dj(){const t=E.useRef(!1);return rx(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Xre(){const t=dj(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>Ct.postRender(r),[r]),e]}class Jre extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Zre({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=E.useContext(tx);return E.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.jsx(Jre,{isPresent:e,childRef:r,sizeRef:i,children:E.cloneElement(t,{ref:r})})}const X0=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=aF(eie),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random()]:[n]);return E.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(Zre,{isPresent:n,children:t})),g.jsx(Fy.Provider,{value:c,children:t})};function eie(){return new Map}function tie(t){return E.useEffect(()=>()=>t(),[])}const Io=t=>t.key||"";function nie(t,e){t.forEach(n=>{const r=Io(n);e.set(r,n)})}function rie(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const iie=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(lx).forceRender||Xre()[0],l=dj(),c=rie(t);let u=c;const d=E.useRef(new Map).current,h=E.useRef(u),p=E.useRef(new Map).current,f=E.useRef(!0);if(rx(()=>{f.current=!1,nie(c,p),h.current=u}),tie(()=>{f.current=!0,p.clear(),d.clear()}),f.current)return g.jsx(g.Fragment,{children:u.map(v=>g.jsx(X0,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o,children:v},Io(v)))});u=[...u];const m=h.current.map(Io),w=c.map(Io),_=m.length;for(let v=0;v<_;v++){const y=m[v];w.indexOf(y)===-1&&!d.has(y)&&d.set(y,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((v,y)=>{if(w.indexOf(y)!==-1)return;const T=p.get(y);if(!T)return;const I=m.indexOf(y);let x=v;if(!x){const S=()=>{d.delete(y);const P=Array.from(p.keys()).filter($=>!w.includes($));if(P.forEach($=>p.delete($)),h.current=c.filter($=>{const N=Io($);return N===y||P.includes(N)}),!d.size){if(l.current===!1)return;a(),r&&r()}};x=g.jsx(X0,{isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:s,mode:o,children:T},Io(T)),d.set(y,x)}u.splice(I,0,x)}),u=u.map(v=>{const y=v.key;return d.has(y)?v:g.jsx(X0,{isPresent:!0,presenceAffectsLayout:s,mode:o,children:v},Io(v))}),g.jsx(g.Fragment,{children:d.size?u:u.map(v=>E.cloneElement(v))})};function sie(){const[t,e]=E.useState(null),[n,r]=E.useState(!1),[i,s]=E.useState(""),o=li();E.useEffect(()=>{const c=async()=>{try{r(!0);const u=await n8(i);e(u.data.results),r(!1)}catch(u){console.error("Error fetching search results:",u),r(!1)}};i.trim()!==""?c():e(null)},[i]);const a=()=>{i.trim()!==""&&o(`/search/${i}`)},l=c=>{c.key==="Enter"&&a()};return g.jsxs("section",{className:"bg-black h-screen flex flex-col justify-start items-center",children:[g.jsx("div",{className:"fixed top-0 left-0 w-full bg-black z-10",children:g.jsxs("div",{className:"flex justify-center items-center mt-5",children:[g.jsx(Vn,{to:"/home",className:"absolute left-0 m-5",children:g.jsx(Tc,{className:"text-4xl text-white"})}),g.jsx("input",{type:"text",className:"bg-gray-800 text-white rounded-full py-2 px-4 pl-12 focus:outline-none focus:bg-gray-900",placeholder:"Search movies...",value:i,onChange:c=>s(c.target.value),onKeyPress:l}),g.jsx("button",{className:"bg-gray-800 text-white rounded-full py-2 px-4 ml-2 focus:outline-none focus:bg-gray-900",onClick:a,children:"Search"})]})}),g.jsx("div",{className:"mt-20 w-full bg-black p-10",children:g.jsx(Yre.div,{layout:!0,className:"flex flex-wrap justify-evenly md:justify-around",children:g.jsx(iie,{children:t!==null&&(n?g.jsx("span",{className:"loader m-10"}):g.jsx(g.Fragment,{children:t.map(c=>g.jsx(Nh,{movie:c},c.id))}))})})})]})}function et(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(this,arguments)}function hj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hj(t))&&(r&&(r+=" "),r+=e);return r}function Da(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function fj(t,e){const n=M({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=M({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=M({},s),Object.keys(i).forEach(o=>{n[r][o]=fj(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function oie(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:fj(e.components[n].defaultProps,r)}function fs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pj(t){if(!fs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=pj(t[n])}),e}function ni(t,e,n={clone:!0}){const r=n.clone?M({},t):t;return fs(t)&&fs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(fs(e[i])&&i in t&&fs(t[i])?r[i]=ni(t[i],e[i],n):n.clone?r[i]=fs(e[i])?pj(e[i]):e[i]:r[i]=e[i])}),r}const aie=Object.freeze(Object.defineProperty({__proto__:null,default:ni,isPlainObject:fs},Symbol.toStringTag,{value:"Module"})),lie=["values","unit","step"],cie=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>M({},n,{[r.key]:r.val}),{})};function mj(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=et(t,lie),s=cie(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const f=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(f!==-1&&typeof e[o[f]]=="number"?e[o[f]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return M({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const uie={borderRadius:4},die=uie;function ad(t,e){return e?ni(t,e,{clone:!1}):t}const kx={xs:0,sm:600,md:900,lg:1200,xl:1536},_C={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${kx[t]}px)`};function Mi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||_C;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||_C;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||kx).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function hie(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function fie(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function ph(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const pie=Object.freeze(Object.defineProperty({__proto__:null,default:ph},Symbol.toStringTag,{value:"Module"}));function kt(t){if(typeof t!="string")throw new Error(ph(7));return t.charAt(0).toUpperCase()+t.slice(1)}const mie=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"}));function qy(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function sg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=qy(t,n)||r,e&&(i=e(i,r,t)),i}function dt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=qy(l,r)||{};return Mi(o,a,d=>{let h=sg(c,i,d);return d===h&&typeof d=="string"&&(h=sg(c,i,`${e}${d==="default"?"":kt(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function gie(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const yie={m:"margin",p:"padding"},vie={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},wC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_ie=gie(t=>{if(t.length>2)if(wC[t])t=wC[t];else return[t];const[e,n]=t.split(""),r=yie[e],i=vie[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Nx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Dx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Nx,...Dx];function df(t,e,n,r){var i;const s=(i=qy(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function gj(t){return df(t,"spacing",8)}function hf(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function wie(t,e){return n=>t.reduce((r,i)=>(r[i]=hf(e,n),r),{})}function Eie(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=_ie(n),s=wie(i,r),o=t[n];return Mi(t,o,s)}function yj(t,e){const n=gj(t.theme);return Object.keys(t).map(r=>Eie(t,e,r,n)).reduce(ad,{})}function Ye(t){return yj(t,Nx)}Ye.propTypes={};Ye.filterProps=Nx;function Xe(t){return yj(t,Dx)}Xe.propTypes={};Xe.filterProps=Dx;function Tie(t=8){if(t.mui)return t;const e=gj({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Gy(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?ad(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ar(t){return typeof t!="number"?t:`${t}px solid`}function _r(t,e){return dt({prop:t,themeKey:"borders",transform:e})}const Iie=_r("border",ar),xie=_r("borderTop",ar),Sie=_r("borderRight",ar),bie=_r("borderBottom",ar),Pie=_r("borderLeft",ar),Rie=_r("borderColor"),Aie=_r("borderTopColor"),Cie=_r("borderRightColor"),kie=_r("borderBottomColor"),Nie=_r("borderLeftColor"),Die=_r("outline",ar),Oie=_r("outlineColor"),Ky=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=df(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:hf(e,r)});return Mi(t,t.borderRadius,n)}return null};Ky.propTypes={};Ky.filterProps=["borderRadius"];Gy(Iie,xie,Sie,bie,Pie,Rie,Aie,Cie,kie,Nie,Ky,Die,Oie);const Hy=t=>{if(t.gap!==void 0&&t.gap!==null){const e=df(t.theme,"spacing",8),n=r=>({gap:hf(e,r)});return Mi(t,t.gap,n)}return null};Hy.propTypes={};Hy.filterProps=["gap"];const Qy=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=df(t.theme,"spacing",8),n=r=>({columnGap:hf(e,r)});return Mi(t,t.columnGap,n)}return null};Qy.propTypes={};Qy.filterProps=["columnGap"];const Yy=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=df(t.theme,"spacing",8),n=r=>({rowGap:hf(e,r)});return Mi(t,t.rowGap,n)}return null};Yy.propTypes={};Yy.filterProps=["rowGap"];const Vie=dt({prop:"gridColumn"}),Mie=dt({prop:"gridRow"}),Lie=dt({prop:"gridAutoFlow"}),$ie=dt({prop:"gridAutoColumns"}),Fie=dt({prop:"gridAutoRows"}),jie=dt({prop:"gridTemplateColumns"}),Uie=dt({prop:"gridTemplateRows"}),Bie=dt({prop:"gridTemplateAreas"}),zie=dt({prop:"gridArea"});Gy(Hy,Qy,Yy,Vie,Mie,Lie,$ie,Fie,jie,Uie,Bie,zie);function Ol(t,e){return e==="grey"?e:t}const Wie=dt({prop:"color",themeKey:"palette",transform:Ol}),qie=dt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ol}),Gie=dt({prop:"backgroundColor",themeKey:"palette",transform:Ol});Gy(Wie,qie,Gie);function $n(t){return t<=1&&t!==0?`${t*100}%`:t}const Kie=dt({prop:"width",transform:$n}),Ox=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||kx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:$n(n)}};return Mi(t,t.maxWidth,e)}return null};Ox.filterProps=["maxWidth"];const Hie=dt({prop:"minWidth",transform:$n}),Qie=dt({prop:"height",transform:$n}),Yie=dt({prop:"maxHeight",transform:$n}),Xie=dt({prop:"minHeight",transform:$n});dt({prop:"size",cssProperty:"width",transform:$n});dt({prop:"size",cssProperty:"height",transform:$n});const Jie=dt({prop:"boxSizing"});Gy(Kie,Ox,Hie,Qie,Yie,Xie,Jie);const Zie={border:{themeKey:"borders",transform:ar},borderTop:{themeKey:"borders",transform:ar},borderRight:{themeKey:"borders",transform:ar},borderBottom:{themeKey:"borders",transform:ar},borderLeft:{themeKey:"borders",transform:ar},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ar},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ky},color:{themeKey:"palette",transform:Ol},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ol},backgroundColor:{themeKey:"palette",transform:Ol},p:{style:Xe},pt:{style:Xe},pr:{style:Xe},pb:{style:Xe},pl:{style:Xe},px:{style:Xe},py:{style:Xe},padding:{style:Xe},paddingTop:{style:Xe},paddingRight:{style:Xe},paddingBottom:{style:Xe},paddingLeft:{style:Xe},paddingX:{style:Xe},paddingY:{style:Xe},paddingInline:{style:Xe},paddingInlineStart:{style:Xe},paddingInlineEnd:{style:Xe},paddingBlock:{style:Xe},paddingBlockStart:{style:Xe},paddingBlockEnd:{style:Xe},m:{style:Ye},mt:{style:Ye},mr:{style:Ye},mb:{style:Ye},ml:{style:Ye},mx:{style:Ye},my:{style:Ye},margin:{style:Ye},marginTop:{style:Ye},marginRight:{style:Ye},marginBottom:{style:Ye},marginLeft:{style:Ye},marginX:{style:Ye},marginY:{style:Ye},marginInline:{style:Ye},marginInlineStart:{style:Ye},marginInlineEnd:{style:Ye},marginBlock:{style:Ye},marginBlockStart:{style:Ye},marginBlockEnd:{style:Ye},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hy},rowGap:{style:Yy},columnGap:{style:Qy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$n},maxWidth:{style:Ox},minWidth:{transform:$n},height:{transform:$n},maxHeight:{transform:$n},minHeight:{transform:$n},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},ff=Zie;function ese(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function tse(t,e){return typeof t=="function"?t(e):t}function vj(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=qy(i,c)||{};return d?d(o):Mi(o,r,f=>{let m=sg(h,u,f);return f===m&&typeof f=="string"&&(m=sg(h,u,`${n}${f==="default"?"":kt(f)}`,f)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:ff;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=hie(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const f=tse(c[p],s);if(f!=null)if(typeof f=="object")if(o[p])h=ad(h,t(p,f,s,o));else{const m=Mi({theme:s},f,w=>({[p]:w}));ese(m,f)?h[p]=e({sx:f,theme:s}):h=ad(h,m)}else h=ad(h,t(p,f,s,o))}),fie(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Xy=vj();Xy.filterProps=["sx"];function _j(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const nse=["breakpoints","palette","spacing","shape"];function Vx(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=et(t,nse),a=mj(n),l=Tie(i);let c=ni({breakpoints:a,direction:"ltr",components:{},palette:M({mode:"light"},r),spacing:l,shape:M({},die,s)},o);return c.applyStyles=_j,c=e.reduce((u,d)=>ni(u,d),c),c.unstable_sxConfig=M({},ff,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Xy({sx:d,theme:this})},c}const rse=Object.freeze(Object.defineProperty({__proto__:null,default:Vx,private_createBreakpoints:mj,unstable_applyStyles:_j},Symbol.toStringTag,{value:"Module"}));var ise=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sse=nO(function(t){return ise.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function ose(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ase(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var lse=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ase(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ose(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Jt="-ms-",og="-moz-",ve="-webkit-",wj="comm",Mx="rule",Lx="decl",cse="@import",Ej="@keyframes",use="@layer",dse=Math.abs,Jy=String.fromCharCode,hse=Object.assign;function fse(t,e){return Ut(t,0)^45?(((e<<2^Ut(t,0))<<2^Ut(t,1))<<2^Ut(t,2))<<2^Ut(t,3):0}function Tj(t){return t.trim()}function pse(t,e){return(t=e.exec(t))?t[0]:t}function _e(t,e,n){return t.replace(e,n)}function PE(t,e){return t.indexOf(e)}function Ut(t,e){return t.charCodeAt(e)|0}function mh(t,e,n){return t.slice(e,n)}function $r(t){return t.length}function $x(t){return t.length}function ep(t,e){return e.push(t),t}function mse(t,e){return t.map(e).join("")}var Zy=1,pc=1,Ij=0,kn=0,yt=0,Bc="";function ev(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Zy,column:pc,length:o,return:""}}function mu(t,e){return hse(ev("",null,null,"",null,null,0),t,{length:-t.length},e)}function gse(){return yt}function yse(){return yt=kn>0?Ut(Bc,--kn):0,pc--,yt===10&&(pc=1,Zy--),yt}function zn(){return yt=kn<Ij?Ut(Bc,kn++):0,pc++,yt===10&&(pc=1,Zy++),yt}function ri(){return Ut(Bc,kn)}function Lp(){return kn}function pf(t,e){return mh(Bc,t,e)}function gh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xj(t){return Zy=pc=1,Ij=$r(Bc=t),kn=0,[]}function Sj(t){return Bc="",t}function $p(t){return Tj(pf(kn-1,RE(t===91?t+2:t===40?t+1:t)))}function vse(t){for(;(yt=ri())&&yt<33;)zn();return gh(t)>2||gh(yt)>3?"":" "}function _se(t,e){for(;--e&&zn()&&!(yt<48||yt>102||yt>57&&yt<65||yt>70&&yt<97););return pf(t,Lp()+(e<6&&ri()==32&&zn()==32))}function RE(t){for(;zn();)switch(yt){case t:return kn;case 34:case 39:t!==34&&t!==39&&RE(yt);break;case 40:t===41&&RE(t);break;case 92:zn();break}return kn}function wse(t,e){for(;zn()&&t+yt!==57;)if(t+yt===84&&ri()===47)break;return"/*"+pf(e,kn-1)+"*"+Jy(t===47?t:zn())}function Ese(t){for(;!gh(ri());)zn();return pf(t,kn)}function Tse(t){return Sj(Fp("",null,null,null,[""],t=xj(t),0,[0],t))}function Fp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,w=1,_=1,v=0,y="",T=i,I=s,x=r,S=y;w;)switch(f=v,v=zn()){case 40:if(f!=108&&Ut(S,d-1)==58){PE(S+=_e($p(v),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:S+=$p(v);break;case 9:case 10:case 13:case 32:S+=vse(f);break;case 92:S+=_se(Lp()-1,7);continue;case 47:switch(ri()){case 42:case 47:ep(Ise(wse(zn(),Lp()),e,n),l);break;default:S+="/"}break;case 123*m:a[c++]=$r(S)*_;case 125*m:case 59:case 0:switch(v){case 0:case 125:w=0;case 59+u:_==-1&&(S=_e(S,/\f/g,"")),p>0&&$r(S)-d&&ep(p>32?TC(S+";",r,n,d-1):TC(_e(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(ep(x=EC(S,e,n,c,u,i,a,y,T=[],I=[],d),s),v===123)if(u===0)Fp(S,e,x,x,T,s,d,a,I);else switch(h===99&&Ut(S,3)===110?100:h){case 100:case 108:case 109:case 115:Fp(t,x,x,r&&ep(EC(t,x,x,0,0,i,a,y,i,T=[],d),I),i,I,d,a,r?T:I);break;default:Fp(S,x,x,x,[""],I,0,a,I)}}c=u=p=0,m=_=1,y=S="",d=o;break;case 58:d=1+$r(S),p=f;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&yse()==125)continue}switch(S+=Jy(v),v*m){case 38:_=u>0?1:(S+="\f",-1);break;case 44:a[c++]=($r(S)-1)*_,_=1;break;case 64:ri()===45&&(S+=$p(zn())),h=ri(),u=d=$r(y=S+=Ese(Lp())),v++;break;case 45:f===45&&$r(S)==2&&(m=0)}}return s}function EC(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=$x(h),f=0,m=0,w=0;f<r;++f)for(var _=0,v=mh(t,d+1,d=dse(m=o[f])),y=t;_<p;++_)(y=Tj(m>0?h[_]+" "+v:_e(v,/&\f/g,h[_])))&&(l[w++]=y);return ev(t,e,n,i===0?Mx:a,l,c,u)}function Ise(t,e,n){return ev(t,e,n,wj,Jy(gse()),mh(t,2,-2),0)}function TC(t,e,n,r){return ev(t,e,n,Lx,mh(t,0,r),mh(t,r+1,-1),r)}function Vl(t,e){for(var n="",r=$x(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function xse(t,e,n,r){switch(t.type){case use:if(t.children.length)break;case cse:case Lx:return t.return=t.return||t.value;case wj:return"";case Ej:return t.return=t.value+"{"+Vl(t.children,r)+"}";case Mx:t.value=t.props.join(",")}return $r(n=Vl(t.children,r))?t.return=t.value+"{"+n+"}":""}function Sse(t){var e=$x(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function bse(t){return function(e){e.root||(e=e.return)&&t(e)}}var Pse=function(e,n,r){for(var i=0,s=0;i=s,s=ri(),i===38&&s===12&&(n[r]=1),!gh(s);)zn();return pf(e,kn)},Rse=function(e,n){var r=-1,i=44;do switch(gh(i)){case 0:i===38&&ri()===12&&(n[r]=1),e[r]+=Pse(kn-1,n,r);break;case 2:e[r]+=$p(i);break;case 4:if(i===44){e[++r]=ri()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Jy(i)}while(i=zn());return e},Ase=function(e,n){return Sj(Rse(xj(e),n))},IC=new WeakMap,Cse=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!IC.get(r))&&!i){IC.set(e,!0);for(var s=[],o=Ase(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},kse=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bj(t,e){switch(fse(t,e)){case 5103:return ve+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+t+og+t+Jt+t+t;case 6828:case 4268:return ve+t+Jt+t+t;case 6165:return ve+t+Jt+"flex-"+t+t;case 5187:return ve+t+_e(t,/(\w+).+(:[^]+)/,ve+"box-$1$2"+Jt+"flex-$1$2")+t;case 5443:return ve+t+Jt+"flex-item-"+_e(t,/flex-|-self/,"")+t;case 4675:return ve+t+Jt+"flex-line-pack"+_e(t,/align-content|flex-|-self/,"")+t;case 5548:return ve+t+Jt+_e(t,"shrink","negative")+t;case 5292:return ve+t+Jt+_e(t,"basis","preferred-size")+t;case 6060:return ve+"box-"+_e(t,"-grow","")+ve+t+Jt+_e(t,"grow","positive")+t;case 4554:return ve+_e(t,/([^-])(transform)/g,"$1"+ve+"$2")+t;case 6187:return _e(_e(_e(t,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),t,"")+t;case 5495:case 3959:return _e(t,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return _e(_e(t,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+t+t;case 4095:case 3583:case 4068:case 2532:return _e(t,/(.+)-inline(.+)/,ve+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($r(t)-1-e>6)switch(Ut(t,e+1)){case 109:if(Ut(t,e+4)!==45)break;case 102:return _e(t,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+og+(Ut(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~PE(t,"stretch")?bj(_e(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ut(t,e+1)!==115)break;case 6444:switch(Ut(t,$r(t)-3-(~PE(t,"!important")&&10))){case 107:return _e(t,":",":"+ve)+t;case 101:return _e(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(Ut(t,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+Jt+"$2box$3")+t}break;case 5936:switch(Ut(t,e+11)){case 114:return ve+t+Jt+_e(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ve+t+Jt+_e(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ve+t+Jt+_e(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ve+t+Jt+t+t}return t}var Nse=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Lx:e.return=bj(e.value,e.length);break;case Ej:return Vl([mu(e,{value:_e(e.value,"@","@"+ve)})],i);case Mx:if(e.length)return mse(e.props,function(s){switch(pse(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vl([mu(e,{props:[_e(s,/:(read-\w+)/,":"+og+"$1")]})],i);case"::placeholder":return Vl([mu(e,{props:[_e(s,/:(plac\w+)/,":"+ve+"input-$1")]}),mu(e,{props:[_e(s,/:(plac\w+)/,":"+og+"$1")]}),mu(e,{props:[_e(s,/:(plac\w+)/,Jt+"input-$1")]})],i)}return""})}},Dse=[Nse],Pj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var w=m.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Dse,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var w=m.getAttribute("data-emotion").split(" "),_=1;_<w.length;_++)s[w[_]]=!0;a.push(m)});var l,c=[Cse,kse];{var u,d=[xse,bse(function(m){u.insert(m)})],h=Sse(c.concat(i,d)),p=function(w){return Vl(Tse(w),h)};l=function(w,_,v,y){u=v,p(w?w+"{"+_.styles+"}":_.styles),y&&(f.inserted[_.name]=!0)}}var f={key:n,sheet:new lse({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(a),f},Rj={exports:{}},be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=typeof Symbol=="function"&&Symbol.for,Fx=Mt?Symbol.for("react.element"):60103,jx=Mt?Symbol.for("react.portal"):60106,tv=Mt?Symbol.for("react.fragment"):60107,nv=Mt?Symbol.for("react.strict_mode"):60108,rv=Mt?Symbol.for("react.profiler"):60114,iv=Mt?Symbol.for("react.provider"):60109,sv=Mt?Symbol.for("react.context"):60110,Ux=Mt?Symbol.for("react.async_mode"):60111,ov=Mt?Symbol.for("react.concurrent_mode"):60111,av=Mt?Symbol.for("react.forward_ref"):60112,lv=Mt?Symbol.for("react.suspense"):60113,Ose=Mt?Symbol.for("react.suspense_list"):60120,cv=Mt?Symbol.for("react.memo"):60115,uv=Mt?Symbol.for("react.lazy"):60116,Vse=Mt?Symbol.for("react.block"):60121,Mse=Mt?Symbol.for("react.fundamental"):60117,Lse=Mt?Symbol.for("react.responder"):60118,$se=Mt?Symbol.for("react.scope"):60119;function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fx:switch(t=t.type,t){case Ux:case ov:case tv:case rv:case nv:case lv:return t;default:switch(t=t&&t.$$typeof,t){case sv:case av:case uv:case cv:case iv:return t;default:return e}}case jx:return e}}}function Aj(t){return Jn(t)===ov}be.AsyncMode=Ux;be.ConcurrentMode=ov;be.ContextConsumer=sv;be.ContextProvider=iv;be.Element=Fx;be.ForwardRef=av;be.Fragment=tv;be.Lazy=uv;be.Memo=cv;be.Portal=jx;be.Profiler=rv;be.StrictMode=nv;be.Suspense=lv;be.isAsyncMode=function(t){return Aj(t)||Jn(t)===Ux};be.isConcurrentMode=Aj;be.isContextConsumer=function(t){return Jn(t)===sv};be.isContextProvider=function(t){return Jn(t)===iv};be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fx};be.isForwardRef=function(t){return Jn(t)===av};be.isFragment=function(t){return Jn(t)===tv};be.isLazy=function(t){return Jn(t)===uv};be.isMemo=function(t){return Jn(t)===cv};be.isPortal=function(t){return Jn(t)===jx};be.isProfiler=function(t){return Jn(t)===rv};be.isStrictMode=function(t){return Jn(t)===nv};be.isSuspense=function(t){return Jn(t)===lv};be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tv||t===ov||t===rv||t===nv||t===lv||t===Ose||typeof t=="object"&&t!==null&&(t.$$typeof===uv||t.$$typeof===cv||t.$$typeof===iv||t.$$typeof===sv||t.$$typeof===av||t.$$typeof===Mse||t.$$typeof===Lse||t.$$typeof===$se||t.$$typeof===Vse)};be.typeOf=Jn;Rj.exports=be;var Fse=Rj.exports,Cj=Fse,jse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Use={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kj={};kj[Cj.ForwardRef]=jse;kj[Cj.Memo]=Use;var Bse=!0;function zse(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Nj=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Bse===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Dj=function(e,n,r){Nj(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Wse(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var qse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gse=/[A-Z]|^ms/g,Kse=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Oj=function(e){return e.charCodeAt(1)===45},xC=function(e){return e!=null&&typeof e!="boolean"},J0=nO(function(t){return Oj(t)?t:t.replace(Gse,"-$&").toLowerCase()}),SC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kse,function(r,i,s){return Fr={name:i,styles:s,next:Fr},i})}return qse[e]!==1&&!Oj(e)&&typeof n=="number"&&n!==0?n+"px":n};function yh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Fr={name:n.name,styles:n.styles,next:Fr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Fr={name:r.name,styles:r.styles,next:Fr},r=r.next;var i=n.styles+";";return i}return Hse(t,e,n)}case"function":{if(t!==void 0){var s=Fr,o=n(t);return Fr=s,yh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Hse(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=yh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":xC(o)&&(r+=J0(s)+":"+SC(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)xC(o[a])&&(r+=J0(s)+":"+SC(s,o[a])+";");else{var l=yh(t,e,o);switch(s){case"animation":case"animationName":{r+=J0(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var bC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fr,Bx=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Fr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=yh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=yh(r,n,e[a]),i&&(s+=o[a]);bC.lastIndex=0;for(var l="",c;(c=bC.exec(s))!==null;)l+="-"+c[1];var u=Wse(s)+l;return{name:u,styles:s,next:Fr}},Qse=function(e){return e()},Vj=Ml.useInsertionEffect?Ml.useInsertionEffect:!1,Yse=Vj||Qse,PC=Vj||E.useLayoutEffect,Mj=E.createContext(typeof HTMLElement<"u"?Pj({key:"css"}):null),Xse=Mj.Provider,Lj=function(e){return E.forwardRef(function(n,r){var i=E.useContext(Mj);return e(n,i,r)})},dv=E.createContext({}),Z0={exports:{}},RC;function $j(){return RC||(RC=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Z0)),Z0.exports}$j();var Jse=Lj(function(t,e){var n=t.styles,r=Bx([n],void 0,E.useContext(dv)),i=E.useRef();return PC(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),PC(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Dj(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function hv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Bx(e)}var zc=function(){var e=hv.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Zse=sse,eoe=function(e){return e!=="theme"},AC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Zse:eoe},CC=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},toe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Nj(n,r,i),Yse(function(){return Dj(n,r,i)}),null},noe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=CC(e,n,r),l=a||AC(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var f=Lj(function(m,w,_){var v=c&&m.as||i,y="",T=[],I=m;if(m.theme==null){I={};for(var x in m)I[x]=m[x];I.theme=E.useContext(dv)}typeof m.className=="string"?y=zse(w.registered,T,m.className):m.className!=null&&(y=m.className+" ");var S=Bx(d.concat(T),w.registered,I);y+=w.key+"-"+S.name,o!==void 0&&(y+=" "+o);var P=c&&a===void 0?AC(v):l,$={};for(var N in m)c&&N==="as"||P(N)&&($[N]=m[N]);return $.className=y,$.ref=_,E.createElement(E.Fragment,null,E.createElement(toe,{cache:w,serialized:S,isStringTag:typeof v=="string"}),E.createElement(v,$))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(m,w){return t(m,M({},n,w,{shouldForwardProp:CC(f,w,!0)})).apply(void 0,d)},f}},roe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],AE=noe.bind();roe.forEach(function(t){AE[t]=AE(t)});let CE;typeof document=="object"&&(CE=Pj({key:"css",prepend:!0}));function ioe(t){const{injectFirst:e,children:n}=t;return e&&CE?g.jsx(Xse,{value:CE,children:n}):n}function soe(t){return t==null||Object.keys(t).length===0}function ooe(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(soe(i)?n:i):e;return g.jsx(Jse,{styles:r})}function aoe(t,e){return AE(t,e)}const loe=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},coe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:ooe,StyledEngineProvider:ioe,ThemeContext:dv,css:hv,default:aoe,internal_processStyles:loe,keyframes:zc},Symbol.toStringTag,{value:"Module"}));function uoe(t){return Object.keys(t).length===0}function doe(t=null){const e=E.useContext(dv);return!e||uoe(e)?t:e}const hoe=Vx();function Fj(t=hoe){return doe(t)}function foe({props:t,name:e,defaultTheme:n,themeId:r}){let i=Fj(n);return r&&(i=i[r]||i),oie({theme:i,name:e,props:t})}const poe=["sx"],moe=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ff;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function goe(t){const{sx:e}=t,n=et(t,poe),{systemProps:r,otherProps:i}=moe(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return fs(a)?M({},r,a):r}:s=M({},r,e),M({},i,{sx:s})}const yoe=Object.freeze(Object.defineProperty({__proto__:null,default:Xy,extendSxProp:goe,unstable_createStyleFunctionSx:vj,unstable_defaultSxConfig:ff},Symbol.toStringTag,{value:"Module"})),kC=t=>t,voe=()=>{let t=kC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=kC}}},jj=voe(),_oe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function uo(t,e,n="Mui"){const r=_oe[e];return r?`${n}-${r}`:`${jj.generate(t)}-${e}`}function woe(t,e){return M({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var ht={},Uj={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Uj);var Wc=Uj.exports;const Eoe=Fi(pie);function Toe(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Ioe=Object.freeze(Object.defineProperty({__proto__:null,default:Toe},Symbol.toStringTag,{value:"Module"})),xoe=Fi(Ioe);var Bj=Wc;Object.defineProperty(ht,"__esModule",{value:!0});var NC=ht.alpha=Gj;ht.blend=Loe;ht.colorChannel=void 0;var Soe=ht.darken=Wx;ht.decomposeColor=vr;ht.emphasize=Kj;var boe=ht.getContrastRatio=Noe;ht.getLuminance=ag;ht.hexToRgb=zj;ht.hslToRgb=qj;var Poe=ht.lighten=qx;ht.private_safeAlpha=Doe;ht.private_safeColorChannel=void 0;ht.private_safeDarken=Ooe;ht.private_safeEmphasize=Moe;ht.private_safeLighten=Voe;ht.recomposeColor=qc;ht.rgbToHex=koe;var DC=Bj(Eoe),Roe=Bj(xoe);function zx(t,e=0,n=1){return(0,Roe.default)(t,e,n)}function zj(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Aoe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function vr(t){if(t.type)return t;if(t.charAt(0)==="#")return vr(zj(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,DC.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,DC.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Wj=t=>{const e=vr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};ht.colorChannel=Wj;const Coe=(t,e)=>{try{return Wj(t)}catch{return t}};ht.private_safeColorChannel=Coe;function qc(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function koe(t){if(t.indexOf("#")===0)return t;const{values:e}=vr(t);return`#${e.map((n,r)=>Aoe(r===3?Math.round(255*n):n)).join("")}`}function qj(t){t=vr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),qc({type:a,values:l})}function ag(t){t=vr(t);let e=t.type==="hsl"||t.type==="hsla"?vr(qj(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Noe(t,e){const n=ag(t),r=ag(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Gj(t,e){return t=vr(t),e=zx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,qc(t)}function Doe(t,e,n){try{return Gj(t,e)}catch{return t}}function Wx(t,e){if(t=vr(t),e=zx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return qc(t)}function Ooe(t,e,n){try{return Wx(t,e)}catch{return t}}function qx(t,e){if(t=vr(t),e=zx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return qc(t)}function Voe(t,e,n){try{return qx(t,e)}catch{return t}}function Kj(t,e=.15){return ag(t)>.5?Wx(t,e):qx(t,e)}function Moe(t,e,n){try{return Kj(t,e)}catch{return t}}function Loe(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=vr(t),o=vr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return qc({type:"rgb",values:a})}const $oe={black:"#000",white:"#fff"},vh=$oe,Foe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},joe=Foe,Uoe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},za=Uoe,Boe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wa=Boe,zoe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},gu=zoe,Woe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},qa=Woe,qoe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ga=qoe,Goe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ka=Goe,Koe=["mode","contrastThreshold","tonalOffset"],OC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vh.white,default:vh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},e_={text:{primary:vh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function VC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Poe(t.main,i):e==="dark"&&(t.dark=Soe(t.main,s)))}function Hoe(t="light"){return t==="dark"?{main:qa[200],light:qa[50],dark:qa[400]}:{main:qa[700],light:qa[400],dark:qa[800]}}function Qoe(t="light"){return t==="dark"?{main:za[200],light:za[50],dark:za[400]}:{main:za[500],light:za[300],dark:za[700]}}function Yoe(t="light"){return t==="dark"?{main:Wa[500],light:Wa[300],dark:Wa[700]}:{main:Wa[700],light:Wa[400],dark:Wa[800]}}function Xoe(t="light"){return t==="dark"?{main:Ga[400],light:Ga[300],dark:Ga[700]}:{main:Ga[700],light:Ga[500],dark:Ga[900]}}function Joe(t="light"){return t==="dark"?{main:Ka[400],light:Ka[300],dark:Ka[700]}:{main:Ka[800],light:Ka[500],dark:Ka[900]}}function Zoe(t="light"){return t==="dark"?{main:gu[400],light:gu[300],dark:gu[700]}:{main:"#ed6c02",light:gu[500],dark:gu[900]}}function eae(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=et(t,Koe),s=t.primary||Hoe(e),o=t.secondary||Qoe(e),a=t.error||Yoe(e),l=t.info||Xoe(e),c=t.success||Joe(e),u=t.warning||Zoe(e);function d(m){return boe(m,e_.text.primary)>=n?e_.text.primary:OC.text.primary}const h=({color:m,name:w,mainShade:_=500,lightShade:v=300,darkShade:y=700})=>{if(m=M({},m),!m.main&&m[_]&&(m.main=m[_]),!m.hasOwnProperty("main"))throw new Error(ph(11,w?` (${w})`:"",_));if(typeof m.main!="string")throw new Error(ph(12,w?` (${w})`:"",JSON.stringify(m.main)));return VC(m,"light",v,r),VC(m,"dark",y,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:e_,light:OC};return ni(M({common:M({},vh),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:joe,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const tae=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function nae(t){return Math.round(t*1e5)/1e5}const MC={textTransform:"uppercase"},LC='"Roboto", "Helvetica", "Arial", sans-serif';function rae(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=LC,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=et(n,tae),p=i/14,f=d||(_=>`${_/c*p}rem`),m=(_,v,y,T,I)=>M({fontFamily:r,fontWeight:_,fontSize:f(v),lineHeight:y},r===LC?{letterSpacing:`${nae(T/v)}em`}:{},I,u),w={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,MC),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,MC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ni(M({htmlFontSize:c,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},w),h,{clone:!1})}const iae=.2,sae=.14,oae=.12;function Le(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${iae})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${sae})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${oae})`].join(",")}const aae=["none",Le(0,2,1,-1,0,1,1,0,0,1,3,0),Le(0,3,1,-2,0,2,2,0,0,1,5,0),Le(0,3,3,-2,0,3,4,0,0,1,8,0),Le(0,2,4,-1,0,4,5,0,0,1,10,0),Le(0,3,5,-1,0,5,8,0,0,1,14,0),Le(0,3,5,-1,0,6,10,0,0,1,18,0),Le(0,4,5,-2,0,7,10,1,0,2,16,1),Le(0,5,5,-3,0,8,10,1,0,3,14,2),Le(0,5,6,-3,0,9,12,1,0,3,16,2),Le(0,6,6,-3,0,10,14,1,0,4,18,3),Le(0,6,7,-4,0,11,15,1,0,4,20,3),Le(0,7,8,-4,0,12,17,2,0,5,22,4),Le(0,7,8,-4,0,13,19,2,0,5,24,4),Le(0,7,9,-4,0,14,21,2,0,5,26,4),Le(0,8,9,-5,0,15,22,2,0,6,28,5),Le(0,8,10,-5,0,16,24,2,0,6,30,5),Le(0,8,11,-5,0,17,26,2,0,6,32,5),Le(0,9,11,-5,0,18,28,2,0,7,34,6),Le(0,9,12,-6,0,19,29,2,0,7,36,6),Le(0,10,13,-6,0,20,31,3,0,8,38,7),Le(0,10,13,-6,0,21,33,3,0,8,40,7),Le(0,10,14,-6,0,22,35,3,0,8,42,7),Le(0,11,14,-7,0,23,36,3,0,9,44,8),Le(0,11,15,-7,0,24,38,3,0,9,46,8)],lae=["duration","easing","delay"],cae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},uae={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $C(t){return`${Math.round(t)}ms`}function dae(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function hae(t){const e=M({},cae,t.easing),n=M({},uae,t.duration);return M({getAutoHeightDuration:dae,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return et(s,lae),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:$C(o)} ${a} ${typeof l=="string"?l:$C(l)}`).join(",")}},t,{easing:e,duration:n})}const fae={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pae=fae,mae=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function gae(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=et(t,mae);if(t.vars)throw new Error(ph(18));const a=eae(r),l=Vx(t);let c=ni(l,{mixins:woe(l.breakpoints,n),palette:a,shadows:aae.slice(),typography:rae(a,s),transitions:hae(i),zIndex:M({},pae)});return c=ni(c,o),c=e.reduce((u,d)=>ni(u,d),c),c.unstable_sxConfig=M({},ff,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Xy({sx:d,theme:this})},c}const yae=gae(),Gx=yae,Kx="$$material";function ho({props:t,name:e}){return foe({props:t,name:e,defaultTheme:Gx,themeId:Kx})}var mf={},t_={exports:{}},FC;function vae(){return FC||(FC=1,function(t){function e(n,r){if(n==null)return{};var i={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(i[o]=n[o]);return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(t_)),t_.exports}const _ae=Fi(coe),wae=Fi(aie),Eae=Fi(mie);var Hj={exports:{}},Pe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=Symbol.for("react.element"),Qx=Symbol.for("react.portal"),fv=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),Tae=Symbol.for("react.server_context"),vv=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),wv=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),Tv=Symbol.for("react.lazy"),Iae=Symbol.for("react.offscreen"),Qj;Qj=Symbol.for("react.module.reference");function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hx:switch(t=t.type,t){case fv:case mv:case pv:case _v:case wv:return t;default:switch(t=t&&t.$$typeof,t){case Tae:case yv:case vv:case Tv:case Ev:case gv:return t;default:return e}}case Qx:return e}}}Pe.ContextConsumer=yv;Pe.ContextProvider=gv;Pe.Element=Hx;Pe.ForwardRef=vv;Pe.Fragment=fv;Pe.Lazy=Tv;Pe.Memo=Ev;Pe.Portal=Qx;Pe.Profiler=mv;Pe.StrictMode=pv;Pe.Suspense=_v;Pe.SuspenseList=wv;Pe.isAsyncMode=function(){return!1};Pe.isConcurrentMode=function(){return!1};Pe.isContextConsumer=function(t){return wr(t)===yv};Pe.isContextProvider=function(t){return wr(t)===gv};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hx};Pe.isForwardRef=function(t){return wr(t)===vv};Pe.isFragment=function(t){return wr(t)===fv};Pe.isLazy=function(t){return wr(t)===Tv};Pe.isMemo=function(t){return wr(t)===Ev};Pe.isPortal=function(t){return wr(t)===Qx};Pe.isProfiler=function(t){return wr(t)===mv};Pe.isStrictMode=function(t){return wr(t)===pv};Pe.isSuspense=function(t){return wr(t)===_v};Pe.isSuspenseList=function(t){return wr(t)===wv};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fv||t===mv||t===pv||t===_v||t===wv||t===Iae||typeof t=="object"&&t!==null&&(t.$$typeof===Tv||t.$$typeof===Ev||t.$$typeof===gv||t.$$typeof===yv||t.$$typeof===vv||t.$$typeof===Qj||t.getModuleId!==void 0)};Pe.typeOf=wr;Hj.exports=Pe;var jC=Hj.exports;const xae=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Yj(t){const e=`${t}`.match(xae);return e&&e[1]||""}function Xj(t,e=""){return t.displayName||t.name||Yj(t)||e}function UC(t,e,n){const r=Xj(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function Sae(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Xj(t,"Component");if(typeof t=="object")switch(t.$$typeof){case jC.ForwardRef:return UC(t,t.render,"ForwardRef");case jC.Memo:return UC(t,t.type,"memo");default:return}}}const bae=Object.freeze(Object.defineProperty({__proto__:null,default:Sae,getFunctionName:Yj},Symbol.toStringTag,{value:"Module"})),Pae=Fi(bae),Rae=Fi(rse),Aae=Fi(yoe);var Gc=Wc;Object.defineProperty(mf,"__esModule",{value:!0});var Cae=mf.default=zae;mf.shouldForwardProp=jp;mf.systemDefaultTheme=void 0;var rr=Gc($j()),kE=Gc(vae()),BC=Lae(_ae),kae=wae;Gc(Eae);Gc(Pae);var Nae=Gc(Rae),Dae=Gc(Aae);const Oae=["ownerState"],Vae=["variants"],Mae=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Jj(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Jj=function(r){return r?n:e})(t)}function Lae(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Jj(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function $ae(t){return Object.keys(t).length===0}function Fae(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jae=mf.systemDefaultTheme=(0,Nae.default)(),Uae=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function tp({defaultTheme:t,theme:e,themeId:n}){return $ae(e)?t:e[n]||e}function Bae(t){return t?(e,n)=>n[t]:null}function Up(t,e){let{ownerState:n}=e,r=(0,kE.default)(e,Oae);const i=typeof t=="function"?t((0,rr.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Up(s,(0,rr.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,kE.default)(i,Vae);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,rr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,rr.default)({ownerState:n},r,n)):l.style))}),a}return i}function zae(t={}){const{themeId:e,defaultTheme:n=jae,rootShouldForwardProp:r=jp,slotShouldForwardProp:i=jp}=t,s=o=>(0,Dae.default)((0,rr.default)({},o,{theme:tp((0,rr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,BC.internal_processStyles)(o,I=>I.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Bae(Uae(c))}=a,p=(0,kE.default)(a,Mae),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let w,_=jp;c==="Root"||c==="root"?_=r:c?_=i:Fae(o)&&(_=void 0);const v=(0,BC.default)(o,(0,rr.default)({shouldForwardProp:_,label:w},p)),y=I=>typeof I=="function"&&I.__emotion_real!==I||(0,kae.isPlainObject)(I)?x=>Up(I,(0,rr.default)({},x,{theme:tp({theme:x.theme,defaultTheme:n,themeId:e})})):I,T=(I,...x)=>{let S=y(I);const P=x?x.map(y):[];l&&h&&P.push(Q=>{const re=tp((0,rr.default)({},Q,{defaultTheme:n,themeId:e}));if(!re.components||!re.components[l]||!re.components[l].styleOverrides)return null;const de=re.components[l].styleOverrides,J={};return Object.entries(de).forEach(([te,K])=>{J[te]=Up(K,(0,rr.default)({},Q,{theme:re}))}),h(Q,J)}),l&&!f&&P.push(Q=>{var re;const de=tp((0,rr.default)({},Q,{defaultTheme:n,themeId:e})),J=de==null||(re=de.components)==null||(re=re[l])==null?void 0:re.variants;return Up({variants:J},(0,rr.default)({},Q,{theme:de}))}),m||P.push(s);const $=P.length-x.length;if(Array.isArray(I)&&$>0){const Q=new Array($).fill("");S=[...I,...Q],S.raw=[...I.raw,...Q]}const N=v(S,...P);return o.muiName&&(N.muiName=o.muiName),N};return v.withConfig&&(T.withConfig=v.withConfig),T}}function Wae(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qae=t=>Wae(t)&&t!=="classes",Gae=qae,Nn=Cae({themeId:Kx,defaultTheme:Gx,rootShouldForwardProp:Gae});function Kae(t){return ho}function fo(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=uo(t,i,n)}),r}function Hae(t){return uo("MuiSvgIcon",t)}fo("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Qae=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Yae=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${kt(e)}`,`fontSize${kt(n)}`]};return Da(i,Hae,r)},Xae=Nn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${kt(n.color)}`],e[`fontSize${kt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[e.color]}}),NE=E.forwardRef(function(e,n){const r=ho({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=et(r,Qae),f=E.isValidElement(i)&&i.type==="svg",m=M({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),w={};u||(w.viewBox=h);const _=Yae(m);return g.jsxs(Xae,M({as:a,className:Et(_.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},w,p,f&&i.props,{ownerState:m,children:[f?i.props.children:i,d?g.jsx("title",{children:d}):null]}))});NE.muiName="SvgIcon";function Kc(t,e){function n(r,i){return g.jsx(NE,M({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=NE.muiName,E.memo(E.forwardRef(n))}const Jae=Kc(g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Zae(t){return uo("MuiAvatar",t)}fo("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);function lg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Li(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{lg(n,e)})},t)}function ele(t){return typeof t=="string"}function Zj(t,e,n){return t===void 0||ele(t)?e:M({},e,{ownerState:M({},e.ownerState,n)})}function e4(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function t4(t,e,n){return typeof t=="function"?t(e,n):t}function DE(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function tle(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function nle(t,e){return()=>null}function rle(t,e){var n,r;return E.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Pi(t){return t&&t.ownerDocument||document}function Iv(t){return Pi(t).defaultView||window}function ile(t,e){return()=>null}const cg=typeof window<"u"?E.useLayoutEffect:E.useEffect;let zC=0;function sle(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(zC+=1,n(`mui-${zC}`))},[e]),r}const WC=Ml.useId;function ole(t){if(WC!==void 0){const e=WC();return t??e}return sle(t)}function ale(t,e,n,r,i){return null}function lle({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(c=>{i||o(c)},[]);return[a,l]}function Bo(t){const e=E.useRef(t);return cg(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}const qC={};function cle(t,e){const n=E.useRef(qC);return n.current===qC&&(n.current=t(e)),n}const ule=[];function dle(t){E.useEffect(t,ule)}class xv{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new xv}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function hle(){const t=cle(xv.create).current;return dle(t.disposeEffect),t}let Sv=!0,OE=!1;const fle=new xv,ple={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mle(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&ple[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function gle(t){t.metaKey||t.altKey||t.ctrlKey||(Sv=!0)}function n_(){Sv=!1}function yle(){this.visibilityState==="hidden"&&OE&&(Sv=!0)}function vle(t){t.addEventListener("keydown",gle,!0),t.addEventListener("mousedown",n_,!0),t.addEventListener("pointerdown",n_,!0),t.addEventListener("touchstart",n_,!0),t.addEventListener("visibilitychange",yle,!0)}function _le(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Sv||mle(e)}function n4(){const t=E.useCallback(i=>{i!=null&&vle(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(OE=!0,fle.start(100,()=>{OE=!1}),e.current=!1,!0):!1}function r(i){return _le(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function wle(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function GC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function r4(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=Et(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f=M({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=M({},n,i,r);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const o=e4(M({},i,r)),a=GC(r),l=GC(i),c=e(o),u=Et(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=M({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=M({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const Ele=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function KC(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=et(t,Ele),a=s?{}:t4(r,i),{props:l,internalRef:c}=r4(M({},o,{externalSlotProps:a})),u=Li(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Zj(n,M({},l,{ref:u}),i)}const Tle=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Ile=["component","slots","slotProps"],xle=["component"];function Sle(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,l=et(e,Tle),{component:c,slots:u={[t]:void 0},slotProps:d={[t]:void 0}}=s,h=et(s,Ile),p=u[t]||r,f=t4(d[t],i),m=r4(M({className:n},l,{externalForwardedProps:t==="root"?h:void 0,externalSlotProps:f})),{props:{component:w},internalRef:_}=m,v=et(m.props,xle),y=Li(_,f==null?void 0:f.ref,e.ref),T=o?o(v):{},I=M({},i,T),x=t==="root"?w||c:w,S=Zj(p,M({},t==="root"&&!c&&!u[t]&&a,t!=="root"&&!u[t]&&a,v,x&&{as:x},{ref:y}),I);return Object.keys(T).forEach(P=>{delete S[P]}),[p,S]}const ble=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],Ple=Kae(),Rle=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Da({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Zae,e)},Ale=Nn("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:M({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:M({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),Cle=Nn("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),kle=Nn(Jae,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Nle({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=E.useState(!1);return E.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const Dle=E.forwardRef(function(e,n){const r=Ple({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:p,variant:f="circular"}=r,m=et(r,ble);let w=null;const _=Nle(M({},u,{src:h,srcSet:p})),v=h||p,y=v&&_!=="error",T=M({},r,{colorDefault:!y,component:a,variant:f}),I=Rle(T),[x,S]=Sle("img",{className:I.img,elementType:Cle,externalForwardedProps:{slots:l,slotProps:{img:M({},u,c.img)}},additionalProps:{alt:i,src:h,srcSet:p,sizes:d},ownerState:T});return y?w=g.jsx(x,M({},S)):s||s===0?w=s:v&&i?w=i[0]:w=g.jsx(kle,{ownerState:T,className:I.fallback}),g.jsx(Ale,M({as:a,ownerState:T,className:Et(I.root,o),ref:n},m,{children:w}))}),i4=Dle;var Yx={},r_={};const Ole={configure:t=>{jj.configure(t)}},Vle=Object.freeze(Object.defineProperty({__proto__:null,capitalize:kt,createChainedFunction:DE,createSvgIcon:Kc,debounce:tle,deprecatedPropType:nle,isMuiElement:rle,ownerDocument:Pi,ownerWindow:Iv,requirePropFactory:ile,setRef:lg,unstable_ClassNameGenerator:Ole,unstable_useEnhancedEffect:cg,unstable_useId:ole,unsupportedProp:ale,useControlled:lle,useEventCallback:Bo,useForkRef:Li,useIsFocusVisible:n4},Symbol.toStringTag,{value:"Module"})),Mle=Fi(Vle);var HC;function bv(){return HC||(HC=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Mle}(r_)),r_}var Lle=Wc;Object.defineProperty(Yx,"__esModule",{value:!0});var _h=Yx.default=void 0,$le=Lle(bv()),Fle=g;_h=Yx.default=(0,$le.default)((0,Fle.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite");function jle(){const t=Fj(Gx);return t[Kx]||t}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(t,e)}function s4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,VE(t,e)}const QC={disabled:!1},ug=Te.createContext(null);var Ule=function(e){return e.scrollTop},Mu="unmounted",xo="exited",So="entering",el="entered",ME="exiting",Ki=function(t){s4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=xo,s.appearStatus=So):l=el:r.unmountOnExit||r.mountOnEnter?l=Mu:l=xo,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Mu?{status:xo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==So&&o!==el&&(s=So):(o===So||o===el)&&(s=ME)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===So){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Of.findDOMNode(this);o&&Ule(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xo&&this.setState({status:Mu})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Of.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||QC.disabled){this.safeSetState({status:el},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:So},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:el},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Of.findDOMNode(this);if(!s||QC.disabled){this.safeSetState({status:xo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ME},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:xo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Of.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Mu)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=et(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Te.createElement(ug.Provider,{value:null},typeof o=="function"?o(i,a):Te.cloneElement(Te.Children.only(o),a))},e}(Te.Component);Ki.contextType=ug;Ki.propTypes={};function Ha(){}Ki.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ha,onEntering:Ha,onEntered:Ha,onExit:Ha,onExiting:Ha,onExited:Ha};Ki.UNMOUNTED=Mu;Ki.EXITED=xo;Ki.ENTERING=So;Ki.ENTERED=el;Ki.EXITING=ME;const Ble=Ki;function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xx(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Wle(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function zo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function qle(t,e){return Xx(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:zo(n,"appear",t),enter:zo(n,"enter",t),exit:zo(n,"exit",t)})})}function Gle(t,e,n){var r=Xx(t.children),i=Wle(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=E.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:zo(o,"exit",t),enter:zo(o,"enter",t)}):!l&&a&&!u?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(c)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:zo(o,"exit",t),enter:zo(o,"enter",t)}))}}),i}var Kle=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Hle={component:"div",childFactory:function(e){return e}},Jx=function(t){s4(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(zle(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?qle(i,a):Gle(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Xx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=M({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=et(i,["component","childFactory"]),l=this.state.contextValue,c=Kle(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Te.createElement(ug.Provider,{value:l},c):Te.createElement(ug.Provider,{value:l},Te.createElement(s,a,c))},e}(Te.Component);Jx.propTypes={};Jx.defaultProps=Hle;const Qle=Jx,Yle=t=>t.scrollTop;function YC(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Xle(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=E.useState(!1),h=Et(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},f=Et(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),g.jsx("span",{className:h,style:p,children:g.jsx("span",{className:f})})}const ir=fo("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Jle=["center","classes","className"];let Pv=t=>t,XC,JC,ZC,ek;const LE=550,Zle=80,ece=zc(XC||(XC=Pv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),tce=zc(JC||(JC=Pv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),nce=zc(ZC||(ZC=Pv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),rce=Nn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ice=Nn(Xle,{name:"MuiTouchRipple",slot:"Ripple"})(ek||(ek=Pv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ir.rippleVisible,ece,LE,({theme:t})=>t.transitions.easing.easeInOut,ir.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ir.child,ir.childLeaving,tce,LE,({theme:t})=>t.transitions.easing.easeInOut,ir.childPulsate,nce,({theme:t})=>t.transitions.easing.easeInOut),sce=E.forwardRef(function(e,n){const r=ho({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=et(r,Jle),[l,c]=E.useState([]),u=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),p=hle(),f=E.useRef(null),m=E.useRef(null),w=E.useCallback(T=>{const{pulsate:I,rippleX:x,rippleY:S,rippleSize:P,cb:$}=T;c(N=>[...N,g.jsx(ice,{classes:{ripple:Et(s.ripple,ir.ripple),rippleVisible:Et(s.rippleVisible,ir.rippleVisible),ripplePulsate:Et(s.ripplePulsate,ir.ripplePulsate),child:Et(s.child,ir.child),childLeaving:Et(s.childLeaving,ir.childLeaving),childPulsate:Et(s.childPulsate,ir.childPulsate)},timeout:LE,pulsate:I,rippleX:x,rippleY:S,rippleSize:P},u.current)]),u.current+=1,d.current=$},[s]),_=E.useCallback((T={},I={},x=()=>{})=>{const{pulsate:S=!1,center:P=i||I.pulsate,fakeElement:$=!1}=I;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const N=$?null:m.current,Q=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let re,de,J;if(P||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)re=Math.round(Q.width/2),de=Math.round(Q.height/2);else{const{clientX:te,clientY:K}=T.touches&&T.touches.length>0?T.touches[0]:T;re=Math.round(te-Q.left),de=Math.round(K-Q.top)}if(P)J=Math.sqrt((2*Q.width**2+Q.height**2)/3),J%2===0&&(J+=1);else{const te=Math.max(Math.abs((N?N.clientWidth:0)-re),re)*2+2,K=Math.max(Math.abs((N?N.clientHeight:0)-de),de)*2+2;J=Math.sqrt(te**2+K**2)}T!=null&&T.touches?f.current===null&&(f.current=()=>{w({pulsate:S,rippleX:re,rippleY:de,rippleSize:J,cb:x})},p.start(Zle,()=>{f.current&&(f.current(),f.current=null)})):w({pulsate:S,rippleX:re,rippleY:de,rippleSize:J,cb:x})},[i,w,p]),v=E.useCallback(()=>{_({},{pulsate:!0})},[_]),y=E.useCallback((T,I)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&f.current){f.current(),f.current=null,p.start(0,()=>{y(T,I)});return}f.current=null,c(x=>x.length>0?x.slice(1):x),d.current=I},[p]);return E.useImperativeHandle(n,()=>({pulsate:v,start:_,stop:y}),[v,_,y]),g.jsx(rce,M({className:Et(ir.root,s.root,o),ref:m},a,{children:g.jsx(Qle,{component:null,exit:!0,children:l})}))}),oce=sce;function ace(t){return uo("MuiButtonBase",t)}const lce=fo("MuiButtonBase",["root","disabled","focusVisible"]),cce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],uce=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Da({root:["root",e&&"disabled",n&&"focusVisible"]},ace,i);return n&&r&&(o.root+=` ${r}`),o},dce=Nn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lce.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),hce=E.forwardRef(function(e,n){const r=ho({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:w,onDragLeave:_,onFocus:v,onFocusVisible:y,onKeyDown:T,onKeyUp:I,onMouseDown:x,onMouseLeave:S,onMouseUp:P,onTouchEnd:$,onTouchMove:N,onTouchStart:Q,tabIndex:re=0,TouchRippleProps:de,touchRippleRef:J,type:te}=r,K=et(r,cce),oe=E.useRef(null),D=E.useRef(null),G=Li(D,J),{isFocusVisibleRef:X,onFocus:ye,onBlur:ge,ref:Zn}=n4(),[ke,ft]=E.useState(!1);c&&ke&&ft(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{ft(!0),oe.current.focus()}}),[]);const[Qe,_n]=E.useState(!1);E.useEffect(()=>{_n(!0)},[]);const Or=Qe&&!u&&!c;E.useEffect(()=>{ke&&h&&!u&&Qe&&D.current.pulsate()},[u,h,ke,Qe]);function ot(ie,aS,T4=d){return Bo(lS=>(aS&&aS(lS),!T4&&D.current&&D.current[ie](lS),!0))}const ui=ot("start",x),Hi=ot("stop",w),er=ot("stop",_),Qi=ot("stop",P),Oa=ot("stop",ie=>{ke&&ie.preventDefault(),S&&S(ie)}),f4=ot("start",Q),p4=ot("stop",$),m4=ot("stop",N),g4=ot("stop",ie=>{ge(ie),X.current===!1&&ft(!1),f&&f(ie)},!1),y4=Bo(ie=>{oe.current||(oe.current=ie.currentTarget),ye(ie),X.current===!0&&(ft(!0),y&&y(ie)),v&&v(ie)}),Av=()=>{const ie=oe.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},Cv=E.useRef(!1),v4=Bo(ie=>{h&&!Cv.current&&ke&&D.current&&ie.key===" "&&(Cv.current=!0,D.current.stop(ie,()=>{D.current.start(ie)})),ie.target===ie.currentTarget&&Av()&&ie.key===" "&&ie.preventDefault(),T&&T(ie),ie.target===ie.currentTarget&&Av()&&ie.key==="Enter"&&!c&&(ie.preventDefault(),m&&m(ie))}),_4=Bo(ie=>{h&&ie.key===" "&&D.current&&ke&&!ie.defaultPrevented&&(Cv.current=!1,D.current.stop(ie,()=>{D.current.pulsate(ie)})),I&&I(ie),m&&ie.target===ie.currentTarget&&Av()&&ie.key===" "&&!ie.defaultPrevented&&m(ie)});let gf=l;gf==="button"&&(K.href||K.to)&&(gf=p);const Hc={};gf==="button"?(Hc.type=te===void 0?"button":te,Hc.disabled=c):(!K.href&&!K.to&&(Hc.role="button"),c&&(Hc["aria-disabled"]=c));const w4=Li(n,Zn,oe),oS=M({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:re,focusVisible:ke}),E4=uce(oS);return g.jsxs(dce,M({as:gf,className:Et(E4.root,a),ownerState:oS,onBlur:g4,onClick:m,onContextMenu:Hi,onFocus:y4,onKeyDown:v4,onKeyUp:_4,onMouseDown:ui,onMouseLeave:Oa,onMouseUp:Qi,onDragLeave:er,onTouchEnd:p4,onTouchMove:m4,onTouchStart:f4,ref:w4,tabIndex:c?-1:re,type:te},Hc,K,{children:[o,Or?g.jsx(oce,M({ref:G,center:s},de)):null]}))}),fce=hce;function pce(t){return uo("MuiIconButton",t)}const mce=fo("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),gce=["edge","children","className","color","disabled","disableFocusRipple","size"],yce=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${kt(r)}`,i&&`edge${kt(i)}`,`size${kt(s)}`]};return Da(o,pce,e)},vce=Nn(fce,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${kt(n.color)}`],n.edge&&e[`edge${kt(n.edge)}`],e[`size${kt(n.size)}`]]}})(({theme:t,ownerState:e})=>M({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:NC(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return M({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&M({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":M({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:NC(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${mce.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),_ce=E.forwardRef(function(e,n){const r=ho({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=et(r,gce),h=M({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=yce(h);return g.jsx(vce,M({className:Et(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),Zx=_ce,wce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ece(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Tce(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Ice(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Tce(t))}function xce(t){const e=[],n=[];return Array.from(t.querySelectorAll(wce)).forEach((r,i)=>{const s=Ece(r);s===-1||!Ice(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Sce(){return!0}function bce(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=xce,isEnabled:o=Sce,open:a}=t,l=E.useRef(!1),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=E.useRef(null),p=E.useRef(!1),f=E.useRef(null),m=Li(e.ref,f),w=E.useRef(null);E.useEffect(()=>{!a||!f.current||(p.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!f.current)return;const y=Pi(f.current);return f.current.contains(y.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!f.current)return;const y=Pi(f.current),T=S=>{w.current=S,!(r||!o()||S.key!=="Tab")&&y.activeElement===f.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},I=()=>{const S=f.current;if(S===null)return;if(!y.hasFocus()||!o()||l.current){l.current=!1;return}if(S.contains(y.activeElement)||r&&y.activeElement!==c.current&&y.activeElement!==u.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let P=[];if((y.activeElement===c.current||y.activeElement===u.current)&&(P=s(f.current)),P.length>0){var $,N;const Q=!!(($=w.current)!=null&&$.shiftKey&&((N=w.current)==null?void 0:N.key)==="Tab"),re=P[0],de=P[P.length-1];typeof re!="string"&&typeof de!="string"&&(Q?de.focus():re.focus())}else S.focus()};y.addEventListener("focusin",I),y.addEventListener("keydown",T,!0);const x=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(x),y.removeEventListener("focusin",I),y.removeEventListener("keydown",T,!0)}},[n,r,i,o,a,s]);const _=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0,h.current=y.target;const T=e.props.onFocus;T&&T(y)},v=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0};return g.jsxs(E.Fragment,{children:[g.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:m,onFocus:_}),g.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})}function Pce(t){return typeof t=="function"?t():t}const Rce=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=Li(E.isValidElement(r)?r.ref:null,n);if(cg(()=>{s||a(Pce(i)||document.body)},[i,s]),cg(()=>{if(o&&!s)return lg(n,o),()=>{lg(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const c={ref:l};return E.cloneElement(r,c)}return g.jsx(E.Fragment,{children:r})}return g.jsx(E.Fragment,{children:o&&O1.createPortal(r,o)})});function Ace(t){const e=Pi(t);return e.body===t?Iv(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ld(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function tk(t){return parseInt(Iv(t).getComputedStyle(t).paddingRight,10)||0}function Cce(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function nk(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Cce(o);a&&l&&ld(o,i)})}function i_(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function kce(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Ace(r)){const o=wle(Pi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${tk(r)+o}px`;const a=Pi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${tk(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Pi(r).body;else{const o=r.parentElement,a=Iv(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Nce(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Dce{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&ld(e.modalRef,!1);const i=Nce(n);nk(n,e.mount,e.modalRef,i,!0);const s=i_(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=i_(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=kce(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=i_(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&ld(e.modalRef,n),nk(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&ld(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Oce(t){return typeof t=="function"?t():t}function Vce(t){return t?t.props.hasOwnProperty("in"):!1}const Mce=new Dce;function Lce(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Mce,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,h=E.useRef({}),p=E.useRef(null),f=E.useRef(null),m=Li(f,d),[w,_]=E.useState(!u),v=Vce(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const T=()=>Pi(p.current),I=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),x=()=>{i.mount(I(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},S=Bo(()=>{const K=Oce(e)||T().body;i.add(I(),K),f.current&&x()}),P=E.useCallback(()=>i.isTopModal(I()),[i]),$=Bo(K=>{p.current=K,K&&(u&&P()?x():f.current&&ld(f.current,y))}),N=E.useCallback(()=>{i.remove(I(),y)},[y,i]);E.useEffect(()=>()=>{N()},[N]),E.useEffect(()=>{u?S():(!v||!s)&&N()},[u,N,v,s,S]);const Q=K=>oe=>{var D;(D=K.onKeyDown)==null||D.call(K,oe),!(oe.key!=="Escape"||oe.which===229||!P())&&(n||(oe.stopPropagation(),c&&c(oe,"escapeKeyDown")))},re=K=>oe=>{var D;(D=K.onClick)==null||D.call(K,oe),oe.target===oe.currentTarget&&c&&c(oe,"backdropClick")};return{getRootProps:(K={})=>{const oe=e4(t);delete oe.onTransitionEnter,delete oe.onTransitionExited;const D=M({},oe,K);return M({role:"presentation"},D,{onKeyDown:Q(D),ref:m})},getBackdropProps:(K={})=>{const oe=K;return M({"aria-hidden":!0},oe,{onClick:re(oe),open:u})},getTransitionProps:()=>{const K=()=>{_(!1),o&&o()},oe=()=>{_(!0),a&&a(),s&&N()};return{onEnter:DE(K,l==null?void 0:l.props.onEnter),onExited:DE(oe,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:$,isTopModal:P,exited:w,hasTransition:v}}const $ce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Fce={entering:{opacity:1},entered:{opacity:1}},jce=E.forwardRef(function(e,n){const r=jle(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:w,timeout:_=i,TransitionComponent:v=Ble}=e,y=et(e,$ce),T=E.useRef(null),I=Li(T,a.ref,n),x=J=>te=>{if(J){const K=T.current;te===void 0?J(K):J(K,te)}},S=x(h),P=x((J,te)=>{Yle(J);const K=YC({style:w,timeout:_,easing:l},{mode:"enter"});J.style.webkitTransition=r.transitions.create("opacity",K),J.style.transition=r.transitions.create("opacity",K),u&&u(J,te)}),$=x(d),N=x(m),Q=x(J=>{const te=YC({style:w,timeout:_,easing:l},{mode:"exit"});J.style.webkitTransition=r.transitions.create("opacity",te),J.style.transition=r.transitions.create("opacity",te),p&&p(J)}),re=x(f),de=J=>{s&&s(T.current,J)};return g.jsx(v,M({appear:o,in:c,nodeRef:T,onEnter:P,onEntered:$,onEntering:S,onExit:Q,onExited:re,onExiting:N,addEndListener:de,timeout:_},y,{children:(J,te)=>E.cloneElement(a,M({style:M({opacity:0,visibility:J==="exited"&&!c?"hidden":void 0},Fce[J],w,a.props.style),ref:I},te))}))}),Uce=jce;function Bce(t){return uo("MuiBackdrop",t)}fo("MuiBackdrop",["root","invisible"]);const zce=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Wce=t=>{const{classes:e,invisible:n}=t;return Da({root:["root",n&&"invisible"]},Bce,e)},qce=Nn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>M({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Gce=E.forwardRef(function(e,n){var r,i,s;const o=ho({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:f={},slots:m={},TransitionComponent:w=Uce,transitionDuration:_}=o,v=et(o,zce),y=M({},o,{component:c,invisible:h}),T=Wce(y),I=(r=f.root)!=null?r:d.root;return g.jsx(w,M({in:p,timeout:_},v,{children:g.jsx(qce,M({"aria-hidden":!0},I,{as:(i=(s=m.root)!=null?s:u.Root)!=null?i:c,className:Et(T.root,l,I==null?void 0:I.className),ownerState:M({},y,I==null?void 0:I.ownerState),classes:T,ref:n,children:a}))}))}),Kce=Gce;function Hce(t){return uo("MuiCircularProgress",t)}fo("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Qce=["className","color","disableShrink","size","style","thickness","value","variant"];let Rv=t=>t,rk,ik,sk,ok;const rs=44,Yce=zc(rk||(rk=Rv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Xce=zc(ik||(ik=Rv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Jce=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${kt(r)}`],svg:["svg"],circle:["circle",`circle${kt(n)}`,i&&"circleDisableShrink"]};return Da(s,Hce,e)},Zce=Nn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${kt(n.color)}`]]}})(({ownerState:t,theme:e})=>M({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&hv(sk||(sk=Rv`
      animation: ${0} 1.4s linear infinite;
    `),Yce)),eue=Nn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),tue=Nn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${kt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>M({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&hv(ok||(ok=Rv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Xce)),nue=E.forwardRef(function(e,n){const r=ho({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=et(r,Qce),p=M({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),f=Jce(p),m={},w={},_={};if(d==="determinate"){const v=2*Math.PI*((rs-c)/2);m.strokeDasharray=v.toFixed(3),_["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*v).toFixed(3)}px`,w.transform="rotate(-90deg)"}return g.jsx(Zce,M({className:Et(f.root,i),style:M({width:a,height:a},w,l),ownerState:p,ref:n,role:"progressbar"},_,h,{children:g.jsx(eue,{className:f.svg,ownerState:p,viewBox:`${rs/2} ${rs/2} ${rs} ${rs}`,children:g.jsx(tue,{className:f.circle,style:m,ownerState:p,cx:rs,cy:rs,r:(rs-c)/2,fill:"none",strokeWidth:c})})}))}),eS=nue;function rue(t){return uo("MuiModal",t)}fo("MuiModal",["root","hidden","backdrop"]);const iue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],sue=t=>{const{open:e,exited:n,classes:r}=t;return Da({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},rue,r)},oue=Nn("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>M({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),aue=Nn(Kce,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),lue=E.forwardRef(function(e,n){var r,i,s,o,a,l;const c=ho({name:"MuiModal",props:e}),{BackdropComponent:u=aue,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:w,components:_={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:I=!1,disablePortal:x=!1,disableRestoreFocus:S=!1,disableScrollLock:P=!1,hideBackdrop:$=!1,keepMounted:N=!1,onBackdropClick:Q,open:re,slotProps:de,slots:J}=c,te=et(c,iue),K=M({},c,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:T,disableEscapeKeyDown:I,disablePortal:x,disableRestoreFocus:S,disableScrollLock:P,hideBackdrop:$,keepMounted:N}),{getRootProps:oe,getBackdropProps:D,getTransitionProps:G,portalRef:X,isTopModal:ye,exited:ge,hasTransition:Zn}=Lce(M({},K,{rootRef:n})),ke=M({},K,{exited:ge}),ft=sue(ke),Qe={};if(f.props.tabIndex===void 0&&(Qe.tabIndex="-1"),Zn){const{onEnter:Qi,onExited:Oa}=G();Qe.onEnter=Qi,Qe.onExited=Oa}const _n=(r=(i=J==null?void 0:J.root)!=null?i:_.Root)!=null?r:oue,Or=(s=(o=J==null?void 0:J.backdrop)!=null?o:_.Backdrop)!=null?s:u,ot=(a=de==null?void 0:de.root)!=null?a:v.root,ui=(l=de==null?void 0:de.backdrop)!=null?l:v.backdrop,Hi=KC({elementType:_n,externalSlotProps:ot,externalForwardedProps:te,getSlotProps:oe,additionalProps:{ref:n,as:w},ownerState:ke,className:Et(h,ot==null?void 0:ot.className,ft==null?void 0:ft.root,!ke.open&&ke.exited&&(ft==null?void 0:ft.hidden))}),er=KC({elementType:Or,externalSlotProps:ui,additionalProps:d,getSlotProps:Qi=>D(M({},Qi,{onClick:Oa=>{Q&&Q(Oa),Qi!=null&&Qi.onClick&&Qi.onClick(Oa)}})),className:Et(ui==null?void 0:ui.className,d==null?void 0:d.className,ft==null?void 0:ft.backdrop),ownerState:ke});return!N&&!re&&(!Zn||ge)?null:g.jsx(Rce,{ref:X,container:m,disablePortal:x,children:g.jsxs(_n,M({},Hi,{children:[!$&&u?g.jsx(Or,M({},er)):null,g.jsx(bce,{disableEnforceFocus:T,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:ye,open:re,children:E.cloneElement(f,Qe)})]}))})}),cue=lue;var tS={},uue=Wc;Object.defineProperty(tS,"__esModule",{value:!0});var nS=tS.default=void 0,due=uue(bv()),hue=g;nS=tS.default=(0,due.default)((0,hue.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9v7c0 1.1.9 2 2 2h4v-8H5v-1c0-3.87 3.13-7 7-7s7 3.13 7 7v1h-4v8h4c1.1 0 2-.9 2-2v-7c0-4.97-4.03-9-9-9"}),"Headphones");var rS={},fue=Wc;Object.defineProperty(rS,"__esModule",{value:!0});var iS=rS.default=void 0,pue=fue(bv()),mue=g;iS=rS.default=(0,pue.default)((0,mue.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const o4=U.div`
  padding: 10px;
  border-radius: 50%;
  z-index: 100;
  display: flex;
  align-items: center;
  background: #9000ff !important;
  color: white !important;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  position: absolute !important;
  top: 45%;
  right: 10%;
  display: none;
  transition: all 0.4s ease-in-out;
  box-shadow: 0 0 16px 4px #9000ff50 !important;
`,gue=U(Vn)`
  position: relative;
  text-decoration: none;
  background-color: ${({theme:t})=>t.card};
  max-width: 220px;
  height: 280px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  padding: 16px;
  border-radius: 6px;
  box-shadow: 0 0 16px 0 rgba(0, 0, 0, 0.1);
  &:hover {
    cursor: pointer;
    transform: translateY(-8px);
    transition: all 0.4s ease-in-out;
    box-shadow: 0 0 18px 0 rgba(0, 0, 0, 0.3);
    filter: brightness(1.3);
  }
  &:hover ${o4} {
    display: flex;
  }
`,yue=U.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 150px;
  position: relative;
`,vue=U.div`
  overflow: hidden;
  display: -webkit-box;
  max-width: 100%;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  color: ${({theme:t})=>t.text_primary};
`,_ue=U.div`
  overflow: hidden;
  display: -webkit-box;
  max-width: 100%;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  color: ${({theme:t})=>t.text_secondary};
  font-size: 12px;
`,wue=U.img`
  object-fit: cover;
  width: 220px;
  height: 140px;
  border-radius: 6px;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
  &:hover {
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.4);
  }
`,Eue=U.div`
  display: flex;
  align-items: flex-end;
  font-weight: 450;
  padding: 14px 0px 0px 0px;
  width: 100%;
`,Tue=U.div`
  display: flex;
  width: 100%;
  flex-direction: column;
  justify-content: flex-start;
  gap: 4px;
`,Iue=U.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-top: 6px;
`,xue=U.div`
  font-size: 12px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  color: ${({theme:t})=>t.text_secondary};
`,Sue=U.div`
  color: ${({theme:t})=>t.text_secondary};
`,bue=U.div`
  font-size: 10px;
  color: ${({theme:t})=>t.text_secondary};
  width: max-content;
`,Pue=U(Zx)`
  color: white;
  top: 8px;
  right: 6px;
  padding: 6px !important;
  border-radius: 50%;
  z-index: 100;
  display: flex;
  align-items: center;
  background: ${({theme:t})=>t.primary+"95"} !important;
  color: white !important;
  position: absolute !important;
  backdrop-filter: blur(4px);
  box-shadow: 0 0 16px 6px #222423 !important;
`,ko=({podcast:t,user:e})=>{var o;const[n,r]=E.useState(!1),i=localStorage.getItem("podstreamtoken"),s=async()=>{await QO(t._id,i).then(a=>{a.status===200&&r(!n)}).catch(a=>{console.log(a)})};return E.useEffect(()=>{var a;(a=e==null?void 0:e.favorites)!=null&&a.find(l=>l._id===t._id)&&r(!0)},[e]),g.jsxs(gue,{to:`/podcast/${t._id}`,children:[g.jsxs("div",{children:[g.jsxs(yue,{children:[g.jsx(Pue,{onClick:s,children:n?g.jsx(_h,{style:{color:"#E30022",width:"16px",height:"16px"}}):g.jsx(_h,{style:{width:"16px",height:"16px"}})}),g.jsx(wue,{src:t.thumbnail})]}),g.jsx(Eue,{children:g.jsxs(Tue,{children:[g.jsx(vue,{children:t.name}),g.jsx(_ue,{children:t.desc}),g.jsxs(Iue,{children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(i4,{src:t.creator.img,style:{width:"26px",height:"26px"},children:(o=t.creator.name)==null?void 0:o.charAt(0).toUpperCase()}),g.jsx(xue,{children:t.creator.name})]}),g.jsxs(Sue,{children:["Posted: ",t.timePosted]}),g.jsxs(bue,{children:[" ",t.views," Views"]})]})]})})]}),g.jsx(o4,{children:(t==null?void 0:t.type)==="video"?g.jsx(iS,{style:{width:"28px",height:"28px"}}):g.jsx(nS,{style:{width:"28px",height:"28px"}})})]})};ko.propTypes={podcast:Ee.object.isRequired,user:Ee.object};const Rue=U.div`
  padding: 20px 30px;
  padding-bottom: 200px;
  height: 100%;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  gap: 20px;
  background-color: #15171e;
  position: relative;
  top: 120px;
  @media (max-width: 768px) {
    padding: 6px 10px;
  }
`,yu=U.div`
  background-color: #1c1e27;
  border-radius: 10px;
  padding: 20px 30px;
  margin-bottom: 20px;
`,vu=U.div`
  color: #f2f3f4;
  font-size: 24px;
  font-weight: 540;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
`,_u=U.span`
  color: #b1b2b3;
  font-size: 16px;
  font-weight: 400;
  cursor: pointer;
  &:hover {
    color: #be1adb;
    transition: 0.2s ease-in-out;
  }
`,wu=U.div`
  display: grid;
  grid-template-columns: repeat(
    auto-fit,
    minmax(900px, 1fr)
  ); /* Increased min-width to 300px */
  gap: 20px;
  @media (min-width: 768px) {
    grid-template-columns: repeat(
      3,
      1fr
    ); /* Adjusted to show three cards per row */
  }
`,Aue=U.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
`,Cue=()=>{const[t,e]=E.useState([]),[n,r]=E.useState([]),[i,s]=E.useState([]),[o,a]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState(!1);return E.useEffect(()=>{(async()=>{d(!0);try{const f=await XO();e(f.data),d(!1)}catch(f){console.error("Error fetching most popular podcasts:",f),d(!1)}})();const p=async(f,m)=>{d(!0);try{const w=await YO(f);m(w.data)}catch(w){console.error(`Error fetching ${f} podcasts:`,w)}finally{d(!1)}};p("comedy",r),p("news",s),p("sports",a),p("crime",c)},[]),g.jsx(Rue,{children:u?g.jsx(Aue,{children:g.jsx(eS,{})}):g.jsxs(g.Fragment,{children:[g.jsxs(yu,{children:[g.jsxs(vu,{children:["Most Popular",g.jsx(Vn,{to:"/showpodcasts/mostpopular",style:{textDecoration:"none"},children:g.jsx(_u,{children:"Show All"})})]}),g.jsx(wu,{children:t.map(h=>g.jsx(ko,{podcast:h},h._id))})]}),g.jsxs(yu,{children:[g.jsxs(vu,{children:[g.jsx(Vn,{to:"/showpodcasts/comedy",style:{textDecoration:"none",color:"#F2F3F4"},children:"Comedy"}),g.jsx(_u,{children:g.jsx(Vn,{to:"/showpodcasts/comedy",style:{textDecoration:"none"},children:"Show All"})})]}),g.jsx(wu,{children:n.map(h=>g.jsx(ko,{podcast:h},h._id))})]}),g.jsxs(yu,{children:[g.jsxs(vu,{children:[g.jsx(Vn,{to:"/showpodcasts/news",style:{textDecoration:"none",color:"#F2F3F4"},children:"News"}),g.jsx(_u,{children:g.jsx(Vn,{to:"/showpodcasts/news",style:{textDecoration:"none"},children:"Show All"})})]}),g.jsx(wu,{children:i.map(h=>g.jsx(ko,{podcast:h},h._id))})]}),g.jsxs(yu,{children:[g.jsxs(vu,{children:[g.jsx(Vn,{to:"/showpodcasts/crime",style:{textDecoration:"none",color:"#F2F3F4"},children:"Crime"}),g.jsx(_u,{children:g.jsx(Vn,{to:"/showpodcasts/crime",style:{textDecoration:"none"},children:"Show All"})})]}),g.jsx(wu,{children:l.map(h=>g.jsx(ko,{podcast:h},h._id))})]}),g.jsxs(yu,{children:[g.jsxs(vu,{children:[g.jsx(Vn,{to:"/showpodcasts/sports",style:{textDecoration:"none",color:"#F2F3F4"},children:g.jsx("h1",{children:"Sports"})}),g.jsx(_u,{children:g.jsx(Vn,{to:"/showpodcasts/sports",style:{textDecoration:"none"},children:"Show All"})})]}),g.jsx(wu,{children:o.map(h=>g.jsx(ko,{podcast:h},h._id))})]})]})})},kue={open:!1,message:"",severity:"success"},a4=j1({name:"snackbar",initialState:kue,reducers:{openSnackbar:(t,e)=>{t.open=!0,t.message=e.payload.message,t.severity=e.payload.severity},closeSnackbar:t=>{t.open=!1}}}),{openSnackbar:$i,closeSnackbar:ohe}=a4.actions;a4.reducer;const Nue=U.div`
  display: flex;
  padding: 30px 30px;
  flex-direction: column;
  height: 100%;
  overflow-y: scroll;
`,Due=U.div`
  color: ${({theme:t})=>t.text_primary};
  font-size: 24px;
  font-weight: 540;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Oue=U.div`
  display: flex;
  flex-wrap: wrap;
  height: 100%;
  gap: 10px;
  padding: 30px 0px;
`,Vue=U.div`
  background-color: ${({theme:t})=>t.bg};
  padding: 20px;
  border-radius: 6px;
  min-height: 400px;
`,Mue=U.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
`,Lue=U.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  color: ${({theme:t})=>t.text_primary};
`,$ue=()=>{const{type:t}=q1(),[e,n]=E.useState([]),[r,i]=E.useState(""),s=bh(),[o,a]=E.useState(!1),l=async()=>{await XO().then(d=>{n(d.data)}).catch(d=>{s($i({message:d.message,severity:"error"}))})},c=async()=>{await YO(t).then(d=>{n(d.data)}).catch(d=>{s($i({message:d.message,severity:"error"}))})},u=async()=>{if(t==="mostpopular"){a(!0);let d=t.split("");d[0]=d[0].toUpperCase(),d.splice(4,0," "),i(d.join("")),console.log(r),await l(),a(!1)}else{a(!0);let d=t.split("");d[0]=d[0].toUpperCase(),i(d),await c(),a(!1)}};return E.useEffect(()=>{u()},[]),g.jsx(Nue,{children:g.jsxs(Vue,{children:[g.jsx(Due,{children:r}),o?g.jsx(Mue,{children:g.jsx(eS,{})}):g.jsxs(Oue,{children:[e.length===0&&g.jsx(Lue,{children:"No Podcasts"}),e.map(d=>g.jsx(ko,{podcast:d},d._id))]})]})})};var sS={},Fue=Wc;Object.defineProperty(sS,"__esModule",{value:!0});var l4=sS.default=void 0,jue=Fue(bv()),Uue=g;l4=sS.default=(0,jue.default)((0,Uue.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline");const Bue=U.div`
  display: flex;
  flex-direction: row;
  gap: 20px;
  align-items: center;
  padding: 20px 30px;
  border-radius: 6px;
  background-color: ${({theme:t})=>t.card};
  cursor: pointer;
  &:hover {
    cursor: pointer;
    transform: translateY(-8px);
    transition: all 0.4s ease-in-out;
    box-shadow: 0 0 18px 0 rgba(0, 0, 0, 0.3);
    filter: brightness(1.3);
  }
  @media (max-width: 768px) {
    flex-direction: column;
    align-items: flex-start;
  }
`,zue=U.img`
  width: 100px;
  height: 100px;
  border-radius: 6px;
  background-color: ${({theme:t})=>t.text_secondary};
  object-fit: cover;
`,Wue=U.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
`,que=U.div`
  font-size: 18px;
  font-weight: 800;
  color: ${({theme:t})=>t.text_primary};
  width: 100%;
  display: flex;
  justify-content: space-between;
`,Gue=U.div`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:t})=>t.text_secondary};
`,Kue=U.div`
  position: relative;
  width: 100px;
  height: 100px;
`,c4=({episode:t,podid:e,type:n,index:r})=>{const i=bh(),s=async()=>{await o8(e._id).catch(o=>{i($i({message:o.message,type:"error"}))})};return g.jsxs(Bue,{onClick:async()=>{await s(),i(n==="audio"?Gl({type:"audio",episode:t,podid:e,index:r,currenttime:0}):i(Gl({type:"video",episode:t,podid:e,index:r,currenttime:0})))},children:[g.jsxs(Kue,{children:[g.jsx(zue,{src:e==null?void 0:e.thumbnail}),g.jsx(l4,{style:{position:"absolute",top:"26px",left:"26px",color:"white",width:"50px",height:"50px"}})]}),g.jsxs(Wue,{children:[g.jsx(que,{children:t.name}),g.jsx(Gue,{children:t.desc})]})]})};c4.propTypes={episode:Ee.object.isRequired,podid:Ee.object.isRequired,type:Ee.string.isRequired,index:Ee.number.isRequired};var Hue=["second","minute","hour","day","week","month","year"];function Que(t,e){if(e===0)return["just now","right now"];var n=Hue[Math.floor(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]}var Yue=["","","","","","",""];function Xue(t,e){if(e===0)return["",""];var n=Yue[~~(e/2)];return[t+" "+n+"",t+" "+n+""]}var $E={},u4=function(t,e){$E[t]=e},Jue=function(t){return $E[t]||$E.en_US},s_=[60,60,24,7,365/7/12,12];function ak(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function Zue(t,e){var n=t<0?1:0;t=Math.abs(t);for(var r=t,i=0;t>=s_[i]&&i<s_.length;i++)t/=s_[i];return t=Math.floor(t),i*=2,t>(i===0?9:1)&&(i+=1),e(t,i,r)[n].replace("%s",t.toString())}function ede(t,e){var n=e?ak(e):new Date;return(+n-+ak(t))/1e3}var tde=function(t,e,n){var r=ede(t,n&&n.relativeDate);return Zue(r,Jue(e))};u4("en_US",Que);u4("zh_CN",Xue);const nde=U.div`
  padding: 20px 30px;
  padding-bottom: 200px;
  height: 100%;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  gap: 20px;
`,rde=U.div`
  display: flex;
  flex-direction: row;
  gap: 20px;
  @media (max-width: 768px) {
    flex-direction: column;
  }
`,ide=U.img`
  width: 250px;
  height: 250px;
  border-radius: 6px;
  background-color: ${({theme:t})=>t.text_secondary};
  object-fit: cover;
`,sde=U.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
`,ode=U.div`
  font-size: 32px;
  font-weight: 800;
  color: ${({theme:t})=>t.text_primary};
  width: 100%;
  display: flex;
  justify-content: space-between;
`,ade=U.div`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:t})=>t.text_secondary};
`,lde=U.div`
  display: flex;
  flex-direction: row;
  gap: 10px;
  flex-wrap: wrap;
`,cde=U.div`
  background-color: ${({theme:t})=>t.text_secondary+50};
  color: ${({theme:t})=>t.text_primary};
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
`,ude=U.div`
  display: flex;
  flex-direction: column;
  gap: 20px;
`,dde=U.div`
  color: ${({theme:t})=>t.text_primary};
  font-size: 22px;
  font-weight: 540;
  display: flex;
  justify-content space-between;
  align-items: center;
`,hde=U.div`
  display: flex;
  flex-direction: column;
  gap: 20px;
`,fde=U(Zx)`
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  background: ${({theme:t})=>t.text_secondary+95} !important;
  color: ${({theme:t})=>t.text_primary} !important;
`,pde=U.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
`,mde=U.div`
  color: ${({theme:t})=>t.text_secondary};
  font-size: 12px;
`,gde=U.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,yde=U.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,lk=U.div`
  color: ${({theme:t})=>t.text_secondary};
  font-size: 12px;
  margin-left: 20px;
`,vde=U.div`
  color: white;
  font-size: 12px;
  margin-left: 20px;
  border-radius: 50%;
  background: #9000ff !important;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px;
`,_de=()=>{var u,d,h;const{id:t}=q1(),[e,n]=E.useState(!1),[r,i]=E.useState(),[s,o]=E.useState(),a=bh(),l=async()=>{o(!0),r!=null&&await QO(r==null?void 0:r._id).then(p=>{p.status===200&&(n(!e),o(!1))}).catch(p=>{console.log(p),o(!1),a($i({message:p.message,severity:"error"}))})},c=async()=>{o(!0),await s8(t).then(p=>{p.status===200&&(i(p.data),o(!1))}).catch(p=>{console.log(p),o(!1),a($i({message:p.message,severity:"error"}))})};return E.useEffect(()=>{c()},[]),g.jsx(nde,{children:s?g.jsx(pde,{children:g.jsx(eS,{})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%"},children:g.jsx(fde,{onClick:l,children:e?g.jsx(_h,{style:{color:"#E30022",width:"16px",height:"16px"}}):g.jsx(_h,{style:{width:"16px",height:"16px"}})})}),g.jsxs(rde,{children:[g.jsx(ide,{src:r==null?void 0:r.thumbnail}),g.jsxs(sde,{children:[g.jsx(ode,{children:r==null?void 0:r.name}),g.jsx(ade,{children:r==null?void 0:r.desc}),g.jsx(lde,{children:r==null?void 0:r.tags.map(p=>g.jsx(cde,{children:p},p.id))}),g.jsxs(gde,{children:[g.jsxs(yde,{children:[g.jsx(i4,{src:(u=r==null?void 0:r.creator)==null?void 0:u.img,sx:{width:"26px",height:"26px"},children:(d=r==null?void 0:r.creator)==null?void 0:d.name.charAt(0).toUpperCase()}),g.jsx(mde,{children:(h=r==null?void 0:r.creator)==null?void 0:h.name})]}),g.jsxs(lk,{children:[" ",r==null?void 0:r.views," Views"]}),g.jsxs(lk,{children:[" ",tde(r==null?void 0:r.createdAt)]}),g.jsx(vde,{children:(r==null?void 0:r.type)==="audio"?g.jsx(nS,{}):g.jsx(iS,{})})]})]})]}),g.jsxs(ude,{children:[g.jsx(dde,{children:"All Episodes"}),g.jsx(hde,{children:r==null?void 0:r.episodes.map((p,f)=>g.jsx(c4,{episode:p,podid:r,type:r.type,index:f},p.id))})]})]})})},wde=Kc(g.jsx("path",{d:"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"}),"CloseRounded"),Ede=Kc(g.jsx("path",{d:"m7.58 16.89 5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82M16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1"}),"SkipNextRounded"),Tde=Kc(g.jsx("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1m3.66 6.82 5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64"}),"SkipPreviousRounded"),Ide=Kc(g.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),xde=U.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 70px;
  width: 100%;
  background-color: ${({theme:t})=>t.card};
  color: white;
  position: fixed;
  bottom: 0;
  left: 0;
  padding: 10px 0px;
  transition: all 0.5s ease;
  @media (max-width: 768px) {
    height: 60px;
    gap: 6px;
    padding: 4px 0px;
  }
  z-index: 999;
`,Sde=U.div`
  display: flex;
  align-items: center;
  gap: 20px;
  margin-left: 20px;
  @media (max-width: 768px) {
    gap: 10px;
    margin-left: 10px;
  }
  flex: 0.2;
`,bde=U.img`
  width: 60px;
  height: 60px;
  border-radius: 6px;
  object-fit: cover;
  @media (max-width: 768px) {
    width: 34px;
    height: 34px;
  }
`,Pde=U.div`
  display: flex;
  flex-direction: column;
`,Rde=U.span`
  font-size: 14px;
  font-weight: 500;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  @media (max-width: 768px) {
    font-size: 12px;
  }
`,Ade=U.span`
  font-size: 12px;
  margin-top: 3px;
`,Cde=U.div`
  width: 100%;
  max-width: 500px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 0.6;
  align-items: center;
  justify-content: space-between;
  @media (max-width: 768px) {
    flex: 0.8;
  }
`,kde=U.div`
  width: 100%;
  display: flex;
  align-items: center;
  gap: 30px;
  @media (max-width: 768px) {
    gap: 10px;
    margin-right: 10px;
  }
`,Nde=U.audio`
  height: 46px;
  width: 100%;
  font-size: 12px;
  @media (max-width: 768px) {
    height: 40px;
    font-size: 10px;
  }
`,ck=U(Zx)`
  background-color: ${({theme:t})=>t.text_primary} !important;
  color: ${({theme:t})=>t.bg} !important;
  font-size: 60px !important;
  padding: 10px !important;
  @media (max-width: 768px) {
    font-size: 20px !important;
    padding: 4px !important;
  }
`,Dde=U.div`
  display: flex;
  align-items: center;
  gap: 10px;
  width: 50%;
  flex: 0.2;
  max-width: 150px;
  justify-content: space-between;
  margin-right: 20px;
  @media (max-width: 768px) {
    display: none;
    margin-right: 10px;
  }
`,Ode=U.input.attrs({type:"range",min:0,max:1,step:.1})`
  -webkit-appearance: none;
  width: 100%;
  height: 2px;
  border-radius: 10px;
  background-color: ${({theme:t})=>t.text_primary};
  outline: none;
  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: ${({theme:t})=>t.primary};
    cursor: pointer;
  }
  &::-moz-range-thumb {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: ${({theme:t})=>t.primary};
    cursor: pointer;
  }
`,d4=({episode:t,podid:e,currenttime:n,index:r})=>{const[i,s]=E.useState(1),o=E.useRef(null),a=bh(),l=()=>{const h=o.current.currentTime;a(qD({currenttime:h}))},c=h=>{const p=h.target.value;s(p),o.current.volume=p},u=()=>{if(e.episodes.length===r+1){a($i({message:"This is the last episode",severity:"info"}));return}a(fl()),setTimeout(()=>{a(Gl({type:"audio",podid:e,index:r+1,currenttime:0,episode:e.episodes[r+1]}))},10)},d=()=>{if(r===0){a($i({message:"This is the first episode",severity:"info"}));return}a(fl()),setTimeout(()=>{a(Gl({type:"audio",podid:e,index:r-1,currenttime:0,episode:e.episodes[r-1]}))},10)};return g.jsxs(xde,{children:[g.jsxs(Sde,{children:[g.jsx(bde,{src:e==null?void 0:e.thumbnail}),g.jsxs(Pde,{children:[g.jsx(Rde,{children:t==null?void 0:t.name}),g.jsx(Ade,{children:t==null?void 0:t.creator.name})]})]}),g.jsx(Cde,{children:g.jsxs(kde,{children:[g.jsx(ck,{children:g.jsx(Tde,{onClick:()=>d()})}),g.jsx(Nde,{ref:o,onTimeUpdate:l,onEnded:()=>u(),autoPlay:!0,controls:!0,onPlay:()=>{o.current.currentTime=n},src:t==null?void 0:t.file}),g.jsx(ck,{children:g.jsx(Ede,{onClick:()=>u()})})]})}),g.jsxs(Dde,{children:[g.jsx(Ide,{}),g.jsx(Ode,{value:i,onChange:c})]})]})};d4.propTypes={episode:Ee.object.isRequired,podid:Ee.object.isRequired,currenttime:Ee.number.isRequired,index:Ee.number.isRequired};const Vde=U.div`
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background-color: #000000a7;
  display: flex;
  align-items: top;
  justify-content: center;
  overflow-y: scroll;
  transition: all 0.5s ease;
`,Mde=U.div`
  max-width: 800px;
  width: 100%;
  border-radius: 16px;
  margin: 50px 20px;
  height: min-content;
  background-color: ${({theme:t})=>t.card};
  color: ${({theme:t})=>t.text_primary};
  padding: 10px;
  display: flex;
  flex-direction: column;
  position: relative;
  padding: 10px;
`,Lde=U.video`
  height: 100%;
  max-height: 500px;
  border-radius: 16px;
  margin: 0px 20px;
  object-fit: cover;
  margin-top: 30px;
`,$de=U.div`
  font-size: 18px;
  font-weight: 500;
  color: ${({theme:t})=>t.text_primary};
  margin: 12px 20px 0px 20px;
`,Fde=U.div`
  font-size: 14px;
  font-weight: 400;
  color: ${({theme:t})=>t.text_secondary};
  margin: 6px 20px 20px 20px;
`,jde=U.div`
  display: flex;
  justify-content: space-between;
  margin: 12px 20px 20px 20px;
  gap: 14px;
`,uk=U.div`
  border: none;
  font-size: 22px;
  font-weight: 600;
  text-align: center;
  width: 100%;
  background-color: ${({theme:t})=>t.primary};
  color: ${({theme:t})=>t.text_primary};
  padding: 14px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  &:hover {
    background-color: ${({theme:t})=>t.card_hover};
  }
`,h4=({episode:t,podid:e,currenttime:n,index:r})=>{console.log("Episode:",t);const i=bh(),s=E.useRef(null),o=()=>{const c=s.current.currentTime;i(qD({currenttime:c}))},a=()=>{if(e.episodes.length===r+1){i($i({message:"This is the last episode",severity:"info"}));return}i(fl()),setTimeout(()=>{i(Gl({type:"video",podid:e,index:r+1,currenttime:0,episode:e.episodes[r+1]}))},10)},l=()=>{if(r===0){i($i({message:"This is the first episode",severity:"info"}));return}i(fl()),setTimeout(()=>{i(Gl({type:"video",podid:e,index:r-1,currenttime:0,episode:e.episodes[r-1]}))},10)};return g.jsx(cue,{open:!0,onClose:()=>i(fl()),children:g.jsx(Vde,{children:g.jsxs(Mde,{children:[g.jsx(wde,{style:{position:"absolute",top:"12px",right:"20px",cursor:"pointer"},onClick:()=>{i(fl())}}),g.jsxs(Lde,{controls:!0,ref:s,onTimeUpdate:o,onEnded:()=>a(),autoPlay:!0,onPlay:()=>{s.current.currentTime=n},children:[g.jsx("source",{src:t==null?void 0:t.file,type:"video/mp4"}),g.jsx("source",{src:t==null?void 0:t.file,type:"video/webm"}),g.jsx("source",{src:t==null?void 0:t.file,type:"video/ogg"}),"Your browser does not support the video tag."]}),t&&t.name&&g.jsx($de,{children:t.name}),t&&t.desc&&g.jsx(Fde,{children:t.desc}),g.jsxs(jde,{children:[g.jsx(uk,{onClick:()=>l(),children:"Previous"}),g.jsx(uk,{onClick:()=>a(),children:"Next"})]})]})})})};h4.propTypes={episode:Ee.object.isRequired,podid:Ee.object.isRequired,currenttime:Ee.number.isRequired,index:Ee.number.isRequired};function Ude(){const{openplayer:t,type:e,episode:n,podid:r,currenttime:i,index:s}=aB(o=>o.audioplayer);return console.log("OpenPlayer",n),g.jsx(_z,{children:g.jsx(I6,{theme:b6,children:g.jsxs("div",{children:[t&&e==="video"&&g.jsx(h4,{episode:n,podid:r,currenttime:i,index:s}),t&&e==="audio"&&g.jsx(d4,{episode:n,podid:r,currenttime:i,index:s}),g.jsxs(hz,{children:[g.jsx(Dn,{path:"/home",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx(p8,{}),g.jsx(S8,{}),g.jsx(b8,{})]})}),g.jsx(Dn,{path:"/anime",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx(P8,{}),g.jsx(hP,{})]})}),g.jsx(Dn,{path:"/series",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx(R8,{}),g.jsx(hP,{})]})}),g.jsx(Dn,{path:"/fiction",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx(A8,{}),g.jsx(C8,{})]})}),g.jsx(Dn,{path:"/crime",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx(N8,{}),g.jsx(k8,{})]})}),g.jsx(Dn,{path:"/subscription",element:g.jsx("div",{children:g.jsx(Xi,{})})}),g.jsx(Dn,{path:"/",element:g.jsx("div",{children:g.jsx(MZ,{})})}),g.jsx(Dn,{path:"/watch",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx($Z,{})]})}),g.jsx(Dn,{path:"/pod",element:g.jsxs("div",{children:[g.jsx(Xi,{}),g.jsx(Cue,{})]})}),g.jsx(Dn,{path:"/search",element:g.jsx("div",{children:g.jsx(sie,{})})}),g.jsx(Dn,{path:"/podcast/:id",exact:!0,element:g.jsx(_de,{})}),g.jsx(Dn,{path:"/showpodcasts/:type",exact:!0,element:g.jsx($ue,{})})]})]})})})}function Bde(){return g.jsx(Ude,{})}o_.createRoot(document.getElementById("root")).render(g.jsx(Te.StrictMode,{children:g.jsx(pB,{store:T3,children:g.jsx(Bde,{})})}));
